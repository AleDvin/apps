{
    "name": "Demo apps",
    "data": [
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(parameters).Where(name='founder_account').Vars(founder)\nSetTitle($demo_title$)\nDiv(content-wrapper){\n    Div(row){\n        Div(col-lg-8 col-lg-offset-2){\n            Div(h4){LangRes(input)}\n            Div(panel panel-primary){\n                Form(panel-body input-group){\n                    Input(Name: SomeText, Type:text, Placeholder:Enter text, Value: Hello World!)\n                    Div(input-group-btn){\n                        Button(Body:$send_contract$, Contract: DemoContract, Page: demo_page_sendContract, Class:btn btn-primary)\n                    }\n                }\n            }\n            \n            \n            DBFind(Name:demo_page_table, Source: me_table_exist).Where(\"id>0\").Vars(exist)\n            If(#exist_id#>0){\n                Div(h4){LangRes(result)}\n                Div(panel panel-primary){\n                    Div(panel-body){\n                        DBFind(Name:demo_page_table, Source: my_table)\n                        Div(table-responsive){\n                            Table(Source: my_table, Columns:\"id=member_id,name=member_name,text=some_text\")\n                        }\n                    }\n                }\n            }\n            \n            Div(h4){LangRes(code)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    If(#founder_value#==#key_id#){\n                        Div(h5){\n                            DBFind(blocks).Where(name='demo_block_sendContract').Vars(page)\n                            LinkPage(Page: \"edit-block\", PageParams: \"id=#page_id#\"){ $edit_page$ }\n                        }\n                        Div(h5){\n                            LinkPage(Page: \"edit-contract\", PageParams: \"name=DemoContract\"){ $edit_contract$ }\n                        }\n                    }.Else{\n                        Div(h5 text-bold){$page_code$}\n                    }\nCode(\n    Form(panel-body input-group){\n        Input(Name: SomeText, Type:text, Placeholder:Enter text, Value: Hello World!)\n        Div(input-group-btn){\n            Button(Body:Send to Contract, Contract: DemoContract, Page: demo_page_sendContract, Class:btn btn-primary)\n        }\n    }\n    DBFind(Name:demo_page_table, Source: my_table)\n    Div(table-responsive){\n        Table(Source: my_table, Columns:\"id=member_id,name=member_name,text=some_text\")\n    }\n)\n                }\n            }\n            \n            Div(h4){LangRes(description)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    LangRes(demo_description_sendContract)\n                }\n            }\n        }\n    }\n}",
            "Name": "demo_block_sendContract",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(parameters).Where(name='founder_account').Vars(founder)\nSetTitle($demo_title$)\nDiv(content-wrapper){\n    Div(row){\n        Div(col-lg-8 col-lg-offset-2){\n            Div(h4){LangRes(input)}\n            Div(panel panel-primary){\n                Form(panel-body){\n                    Div(row){\n                        Div(col-sm-6){\n                            Input(Name: SomeText, Type:text, Placeholder:Enter text, Value: Hello World!)\n                        }\n                        Div(col-sm-6){\n                            Div(input-group){\n                                DBFind(Name: members, Source: src_member)\n                                Select(Name: MemberId, Source: src_member, NameColumn: member_name, ValueColumn: id)\n                                Div(input-group-btn){\n                                    Button(Body: $send_notify$, Contract: DemoNotificationSingle, Class:btn btn-primary, Params: \"MemberId=Val(MemberId)\")\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            Div(h4){LangRes(code)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    If(#founder_value#==#key_id#){\n                        Div(h5){\n                            DBFind(blocks).Where(name='demo_block_sendMessage').Vars(page)\n                            LinkPage(Page: \"edit-block\", PageParams: \"id=#page_id#\"){ $edit_page$ }\n                        }\n                    }.Else{\n                        Div(h5 text-bold){$page_code$}\n                    }\n                    Div(){\nCode(\n    Form(panel-body){\n        Div(col-sm-6){\n            Input(Name: SomeText, Type:text, Placeholder:Enter text, Value: Hello World!)\n        }\n        Div(col-sm-6){\n            Div(input-group){\n                DBFind(Name: members, Source: src_member)\n                Select(Name: MemberId, Source: src_member, NameColumn: member_name, ValueColumn: id)\n                Div(input-group-btn){\n                    Button(Body: Send Notification, Contract: DemoNotificationSingle, Class:btn btn-primary, Params: \"MemberId=Val(MemberId)\")\n                }\n            }\n        }\n    }\n)\n                    }\n                    If(#founder_value#==#key_id#){\n                        Div(h5){\n                            LinkPage(Page: \"edit-contract\", PageParams: \"name=DemoNotificationSingle\"){ $edit_contract$ }\n                        }\n                    }.Else{\n                        Div(h5 text-bold){$contract_code$}\n\n                    }\nCode(\n    contract DemoNotificationSingle {\n        data {\n            MemberId int\n            SomeText string\n        }\n\n        conditions {}\n\n        action {\n            var icon, header, body, page, params string\n            icon = \"fa-bell\"\n            header = \"You have got a message\"\n            body = $SomeText\n            page = \"demo_page_message\"\n            params = Sprintf(\"SomeText=%v\", $SomeText)\n\n            notifications_Send(\"member_id,icon_name,text_header,text_body,page_name,params_val\", $MemberId, icon, header, body, page, params)\n        }\n    }\n)\n                }\n            }\n\n            Div(h4){LangRes(description)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    LangRes(demo_description_sendMessage)\n                }\n            }\n        }\n    }\n}",
            "Name": "demo_block_sendMessage",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(parameters).Where(name='founder_account').Vars(founder)\nSetTitle($demo_title$)\nDiv(content-wrapper){\n    Div(row){\n        Div(col-lg-8 col-lg-offset-2){\n            Div(h4){LangRes(input)}\n            Div(panel panel-primary){\n                Form(panel-body input-group){\n                    Input(Name: SomeText, Type:text, Placeholder:Enter text, Value: Hello World!)\n                    Div(input-group-btn){\n                        Button(Body:$send_page$, Page:demo_page_sendPage, PageParams: \"pageValue=Val(SomeText)\", Class:btn btn-primary)\n                    }\n                }\n            }\n            \n            \n            Div(h4){LangRes(result)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    pageValue : #pageValue#\n                }\n            }\n            \n            Div(h4){LangRes(code)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    If(#founder_value#==#key_id#){\n                        Div(h5){\n                            DBFind(blocks).Where(name='demo_block_sendPage').Vars(page)\n                            LinkPage(Page: \"edit-block\", PageParams: \"id=#page_id#\"){ $edit_page$ }\n                        }\n                    }.Else{\n                        Div(h5 text-bold){$page_code$}\n                    }\nCode(\n    Form(panel-body input-group){\n        Input(Name: SomeText, Type:text, Placeholder:Enter text, Value: Hello World!)\n        Div(input-group-btn){\n            Button(Body:Send to Page, Page:demo_page_sendPage, PageParams: \"pageValue=Val(SomeText)\", Class:btn btn-primary)\n        }\n    }\n)\n                }\n            }\n            \n            Div(h4){LangRes(description)}\n            Div(panel panel-primary){\n                Div(panel-body){\n                    LangRes(demo_description_sendPage)\n                }\n            }\n        }\n    }\n}",
            "Name": "demo_block_sendPage",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "If(#notific_id#>0){\n}\nDBFind(notifications,notes).Columns(\"page_params->admin,page_params->LandId\").Where(\"id=#notific_id#\").Vars(note)\nTable(notes)\n#notific_id#\nIf(#note_land_id#>0){\n    SetVar(LandId,#note_land_id#)\n}.Else{\n    SetVar(LandId,1)\n}\n\nIf(Or(#admin#==1,#note_page_params_admin#==1)){\n    SetTitle($depart_role2$)\n}.Else{\n    SetTitle($owner$)\n}\n\nAppParam(App:#application_id#, Name: land_yes_no, Source: src_yes_no)\nIf(GetVar(LandId)){\n    DBFind(Name: land_registry, Source: src_entry).WhereId(#LandId#).Vars(entry)\n    DBFind(Name: members, Source: src_owners).Where(id=#entry_owner_id#).Vars(owner)\n}\nDiv(content-wrapper red){\n    Div(breadcrumb){\n        Div(){\n            LinkPage(LangRes(land_records), land_registry_records, PageParams: \"admin=#admin#\").Style(margin-right: 10px;)\n            Span(/).Style(margin-right: 10px;)\n            Span(LangRes(land_records_edit) ##LandId#, text-muted).Style(margin-right: 10px;)\n        }\n    }\n    Div(row){\n\n        Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3 mt-sm text-left){\n            Div(panel panel-primary data-sweet-alert){\n                Form(){\n                    Div(Class: list-group-item text-center){\n                        Span(Class: h3, Body: LangRes(land_records_edit))\n                    }\n                    Div(list-group-item){\n                        Map(Hmap:300, MapType: hybrid, Value: #entry_map_coords#)\n                    }\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-5 mt-sm text-right h5){\n                                Strong($owner$:)\n                            }\n                            Div(col-md-6 mt-sm text-left h5){\n                                Div(){\n                                    Span(#owner_member_name#)\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-5 mt-sm text-right h5){\n                                Strong($area_size$)\n                                (Span(m).(2).Style(vertical-align: super;font-size:small;)):\n                            }\n                            Div(col-md-7 mt-sm text-left h5){#entry_area#}\n                        }\n                        Div(row){\n                            Div(col-md-5 mt-sm text-right h5){\n                                Strong($address$:)\n                            }\n                            Div(col-md-7 mt-sm text-left h5){#entry_address#}\n                        }\n\n                        Div(row){\n                            Div(col-md-5 mt-sm text-right h5){Strong($record_add_date$:)}\n                            Div(col-md-7 mt-sm text-left h5){DateTime(#entry_date_create#)}\n                        }\n\n                        Div(row df){\n                            Div(col-md-5 mt-sm text-right h5){Strong($buildings_use_class$:)}\n                            Div(col-md-7 mt-sm text-left h5){\n                                AppParam(App:#application_id#, Name: buildings_use_class, Index: #entry_buildings_use_class#)\n                            }\n                        }\n\n                        Div(row df){\n                            Div(col-md-5 mt-sm text-right h5){Strong($land_nature$:)}\n                            Div(col-md-7 mt-sm text-left h5){\n                                AppParam(App:#application_id#, Name: land_nature, Index: #entry_land_nature#)\n                            }\n                        }\n                    }\n\n\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-4 mt-sm text-right h5){Strong(LangRes(consideration_value))}\n                            Div(col-md-8 mt-sm text-left h5){\n                                If(#admin#==1){\n                                    If(GetVar(entry_price)){\n                                        #entry_price#\n                                    }\n                                }.Else{\n                                    Input(Name: Price,Class: form-control input-sm, Value: #entry_price#, Type: number)\n                                }\n                            }\n                        }\n                    }\n\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-4 mt-sm text-right h5){Strong(LangRes(encumbrance_certificate))}\n                            Div(col-md-8 mt-sm text-left h5){\n                                If(#admin#==1){\n                                    Div(form-inline){\n                                        RadioGroup(Name: EncumbranceCertificate,Class: form-control, Value: #entry_encumbrance_certificate#, Source: src_yes_no, ValueColumn: id, NameColumn: name)\n                                    }\n                                }.Else{\n                                    If(GetVar(entry_encumbrance_certificate)){\n                                        Span(AppParam(App:#application_id#, Name: land_yes_no, Index: #entry_encumbrance_certificate#))\n                                    }.Else{\n                                        LangRes(undefined)\n                                    }\n                                }\n                            }\n                        }\n                        Div(row){\n                            Div(col-md-4 mt-sm text-right h5){Strong(LangRes(legal_status))}\n                            Div(col-md-8 mt-sm text-left h5){\n                                If(#admin#==1){\n                                    Div(form-inline){\n                                        RadioGroup(Name: LegalStatus,Class: form-control, Value: #entry_legal_status#, Source: src_yes_no, ValueColumn: id, NameColumn: name)\n                                    }\n                                }.Else{\n                                    If(GetVar(entry_legal_status)){\n                                        Span(AppParam(App:#application_id#, Name: land_yes_no, Index: #entry_legal_status#))\n                                    }.Else{\n                                        LangRes(undefined)\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n\n                    Div(panel-footer){\n                        Div(clearfix){\n                            Div(pull-right){\n                                Input(Name: LandId, Type: hidden, Value: #LandId#)\n                                Div(btn-group){\n                                    Button(Page: land_registry_records, Body: $back$, Class: btn btn-default btn-pill-left, PageParams: \"admin=#admin#\")\n\n                                    If(#admin#==1){\n                                        Button(Body: $save$, Class: btn btn-primary btn-pill-right, Contract: land_registry_UpdateAdmin, Params: \"NotificId=#notific_id#\", Page: land_registry_records)\n                                    }.Else{\n                                        Button(Body: $save$, Class: btn btn-primary btn-pill-right, Contract: land_registry_UpdateOwner, Params: \"Price=Val(Price),NotificId=#notific_id#\", Page: land_registry_records)\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "land_registry_edit",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "If(#isSearch#==1){\n    SetVar(v_Where, \"delete=0 and land_use=#str_search#\")\n}.Else{\n    SetVar(v_Where, \"delete=0\")\n    SetVar(isSearch,0)\n}\n\nIf(#isOrder#==1){\n    SetVar(v_Order,\"price\")\n}.ElseIf(#isOrder#==2){\n    SetVar(v_Order,\"area\")\n}.ElseIf(#isOrder#==3){\n    SetVar(v_Order,\"price desc\")\n}.ElseIf(#isOrder#==4){\n    SetVar(v_Order,\"area desc\")\n}.Else{\n    SetVar(v_Order,\"id desc\")\n}\n\nDBFind(Name: land_registry, Source: src_land_registry).Where(#v_Where#).Order(#v_Order#).Custom(_id){\n    Span(#id#)\n}.Custom(_owner){\n    DBFind(Name: members, Source: src_members).Where(\"id=#owner_id#\").Vars(row)\n    LinkPage(Page: profile_view, PageParams: \"v_member_id=#row_id#\"){\n        Span(Class: h5 text-bold, Body: #row_member_name#)\n    }\n}.Custom(_land){\n    Span(AppParam(App:#application_id#, Name: land_use, Index: #land_use#))\n}.Custom(_buildings){\n    Span(AppParam(App:#application_id#, Name: buildings_use_class, Index: #buildings_use_class#))\n}.Custom(_area){\n    Span(#area#)\n}.Custom(_address){\n    Span(#address#)\n}.Custom(_cons){\n    Div(h6 ml-lg){\n        If(#price#>0){\n            Span(#price#)\n        }.Else{\n            Em(Class: fa fa-1x text-muted fa-question-circle)\n        }\n    }\n}.Custom(_legal){\n    Div(h6 ml-lg){\n        If(#legal_status#==0){\n            Em(Class: fa fa-1x text-muted fa-question-circle)\n        }\n        If(#legal_status#==1){\n            Em(Class: fa fa-1x text-success fa-check-circle)\n        }\n        If(#legal_status#==2){\n            Em(Class: fa fa-1x text-danger fa-exclamation-circle)\n        }\n    }\n}.Custom(_encumberance){\n    Div(h6 ml-lg){\n        If(#encumbrance_certificate#==0){\n            Em(Class: fa fa-1x text-muted fa-question-circle)\n        }\n        If(#encumbrance_certificate#==1){\n            Em(Class: fa fa-1x text-success fa-check-circle)\n        }\n        If(#encumbrance_certificate#==2){\n            Em(Class: fa fa-1x text-danger fa-exclamation-circle)\n        }\n    }\n}.Custom(_admin){\n    Div(Class: pull-right){\n        Button(Page: #this#, Contract: land_registry_Delete, Params: \"LandId=#id#\", Class: btn btn-default fa fa-2x fa-trash mh-sm)\n        Button(Page: land_registry_view, PageParams: \"LandId=#id#\", Class: btn btn-default fa fa-2x fa-eye mh-sm)\n    }\n}\n\nDiv(content-wrapper){\n    Div(panel panel-primary data-sweet-alert){\n        Form(){\n            Div(list-group-item){\n                Div(row){\n                    Div(col-md-2 mt-sm text-center text-bold){$land_use$}\n                    Div(col-md-7 mc-sm text-left){\n                        Div(input-group){\n                            AppParam(App:#application_id#, Name: land_use, Source: src_land_use)\n                            Select(Name: LandUseSelect, Source: src_land_use, Class: form-control, NameColumn: name, ValueColumn: id, Value: #str_search#)\n\n                            Div(input-group-btn){\n                                Button(Page: #this#, PageParams: \"str_search=Val(LandUseSelect),isSearch=1,isOrder=#isOrder#\", Class: btn btn-default fa fa-search)\n                            }\n                        }\n                    }\n                    Div(col-md-3 mc-sm text-center){\n                        Div(btn-group){\n                            Span(){\n                                If(#isOrder#==1){\n                                    Button(Page: #this#, Class: btn bg-gray, PageParams: \"isOrder=3,isSearch=#isSearch#,str_search=Val(LandUseSelect)\", Body: Em(Class:fa fa-sort-numeric-asc) $price$)\n                                }.ElseIf(#isOrder#==3){\n                                    Button(Page: #this#, Class: btn bg-gray, PageParams: \"isOrder=1,isSearch=#isSearch#,str_search=Val(LandUseSelect)\", Body: Em(Class:fa fa-sort-numeric-desc) $price$)\n                                }.Else{\n                                    Button(Page: #this#, Class: btn bg-gray-lighter,PageParams: \"isOrder=1,isSearch=#isSearch#,str_search=Val(LandUseSelect)\", Body: $price$)\n                                }\n                            }.Style(margin-left: 5px; margin-right: 5px;)\n                            Span(){\n                                If(#isOrder#==2){\n                                    Button(Page: #this#, Class: btn bg-gray, PageParams: \"isOrder=4,isSearch=#isSearch#,str_search=Val(LandUseSelect)\", Body: Em(Class:fa fa-sort-numeric-asc) $area_size$)\n                                }.ElseIf(#isOrder#==4){\n                                    Button(Page: #this#, Class: btn bg-gray, PageParams: \"isOrder=2,isSearch=#isSearch#,str_search=Val(LandUseSelect)\", Body: Em(Class:fa fa-sort-numeric-desc) $area_size$)\n                                }.Else{\n                                    Button(Page: #this#, Class: btn bg-gray-lighter, PageParams: \"isOrder=4,isSearch=#isSearch#,str_search=Val(LandUseSelect)\", Body: $area_size$)\n                                }\n                            }.Style(margin-left: 5px; margin-right: 5px;)\n                        }\n                    }.Style(display:flex;)\n                }\n            }\n            Div(list-group-item){\n                Table(Source:src_land_registry, Columns: \"ID=_id,$owner$=_owner,$area_size$=_area,$address$=_address,$consideration_value$(INR)=_cons,$legal_status$=_legal,$encumbrance_certificate$=_encumberance,=_admin\")\n                If(#isSearch#==1){\n                    Form(text-center){\n                        Button(Page: #this#, PageParams:\"isSearch=0\", Class: btn btn-primary btn-oval){\n                            LangRes(view_all)\n                        }\n                    }\n                }\n            }\n            Div(panel-footer text-right){\n                Button(Page: land_registry_add, Class: btn btn-primary, Body: $add$)\n            }\n        }\n    }\n}",
            "Name": "land_registry_records",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractAccess(\"@1EditMenu\")",
            "Value": "MenuItem(Title:$referendum$, Page:referendums_list, Icon:\"fa fa-gavel\")\nMenuItem(Title: $land_records$, Page: land_registry_records,Icon: \"fa icon-home\")",
            "Name": "Applications",
            "Type": "menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditMenu\")",
            "Value": "MenuItem(Title: $demo_sendPage$, Page: demo_page_sendPage, Icon: fa fa-envelope-open-o)\nMenuItem(Title: $demo_sendContract$, Page: demo_page_sendContract, Icon:fa fa-envelope-o)\nMenuItem(Title: $demo_sendMessage$, Page: demo_page_sendMessage, Icon:fa fa-paper-plane-o)\nMenuItem(Title: $notifications$, Page: demo_notifications, Icon:fa fa-inbox)\nMenuItem(Title: $profile_edit$, Page: profile_edit, Icon:fa fa-address-card-o)\nMenuItem(Title: $applications$, Page: applications_list, Icon:fa fa-list-ul)",
            "Name": "default_menu",
            "Type": "menu"
        },
        {
            "Name": "add",
            "Trans": "{\"en\": \"Add\", \"ru\": \"Добавить\"}",
            "Type": "languages"
        },
        {
            "Name": "add_new_record",
            "Trans": "{\"en\":\"Add new record\",\"ru\":\"Добавить новую запись\"}",
            "Type": "languages"
        },
        {
            "Name": "add_role",
            "Trans": "{\"en\": \"Add role\", \"ru\": \"Добавить роль\"}",
            "Type": "languages"
        },
        {
            "Name": "address",
            "Trans": "{\"en\":\"Address\",\"ru\":\"Адрес\"}",
            "Type": "languages"
        },
        {
            "Name": "applications",
            "Trans": "{\"en\":\"Applications\",\"ru\":\"Приложения\"}",
            "Type": "languages"
        },
        {
            "Name": "area_size",
            "Trans": "{\"en\":\"Area size\",\"ru\":\"Размер\"}",
            "Type": "languages"
        },
        {
            "Name": "ask_request_second",
            "Trans": "{\"en\":\"Do you want to send a second request?\",\"ru\":\"Вы хотите отправить повторный запрос?\"}",
            "Type": "languages"
        },
        {
            "Name": "attention",
            "Trans": "{\"en\": \"ATTENTION! The page has not received parameters and is unavailable for viewing.\", \"ru\": \"ВНИМАНИЕ! Страница не получила параметров и не доступна для просмотра.\"}",
            "Type": "languages"
        },
        {
            "Name": "avatar",
            "Trans": "{\"en\": \"Avatar\", \"ru\": \"Фото\"}",
            "Type": "languages"
        },
        {
            "Name": "back",
            "Trans": "{\"en\": \"Back\", \"ru\": \"Назад\"}",
            "Type": "languages"
        },
        {
            "Name": "buildings_use_class",
            "Trans": "{\"en\":\"Buildings use class\",\"ru\":\"Класс используемых зданий\"}",
            "Type": "languages"
        },
        {
            "Name": "cancel",
            "Trans": "{\"en\":\"Cancel\",\"ru\":\"Отмена\"}",
            "Type": "languages"
        },
        {
            "Name": "change",
            "Trans": "{\"en\": \"Change\", \"ru\": \"Изменить\"}",
            "Type": "languages"
        },
        {
            "Name": "close",
            "Trans": "{\"en\": \"Close\", \"ru\": \"Закрыть\"}",
            "Type": "languages"
        },
        {
            "Name": "code",
            "Trans": "{\"en\":\"Code\",\"ru\":\"Код\"}",
            "Type": "languages"
        },
        {
            "Name": "confirm",
            "Trans": "{\"en\":\"Confirm\",\"ru\":\"Подтвердить\"}",
            "Type": "languages"
        },
        {
            "Name": "consideration_value",
            "Trans": "{\"en\":\"Consideration value\",\"ru\":\"Справедливая стоимость\"}",
            "Type": "languages"
        },
        {
            "Name": "create",
            "Trans": "{\"en\": \"Create\", \"ru\": \"Создать\"}",
            "Type": "languages"
        },
        {
            "Name": "demo_sendContract",
            "Trans": "{\"en\":\"Send to contract\",\"ru\":\"Передача в контракт\"}",
            "Type": "languages"
        },
        {
            "Name": "demo_sendMessage",
            "Trans": "{\"en\":\"Send a text parameter to a notification\",\"ru\":\"Передача текстового параметра в оповещении\"}",
            "Type": "languages"
        },
        {
            "Name": "demo_sendPage",
            "Trans": "{\"en\":\"Send to page\",\"ru\":\"Передача на страницу\"}",
            "Type": "languages"
        },
        {
            "Name": "demo_title",
            "Trans": "{\"en\":\"Demonstration\",\"ru\":\"Демонстрация\"}",
            "Type": "languages"
        },
        {
            "Name": "depart_role1",
            "Trans": "{\"en\":\"Department of Land Resources\",\"ru\":\"Департамент земельных ресурсов\"}",
            "Type": "languages"
        },
        {
            "Name": "depart_role2",
            "Trans": "{\"en\":\"Department of Legal Affairs\",\"ru\":\"Департамент по правовым вопросам\"}",
            "Type": "languages"
        },
        {
            "Name": "depart_role3",
            "Trans": "{\"en\":\"Department of Revenue\",\"ru\":\"Департамент налогов и сборов\"}",
            "Type": "languages"
        },
        {
            "Name": "department_of_land_resources",
            "Trans": "{\"en\":\"Department of Land Resources\",\"ru\":\"Отдел земельных ресурсов\"}",
            "Type": "languages"
        },
        {
            "Name": "description",
            "Trans": "{\"en\": \"Description\", \"ru\": \"Описание\"}",
            "Type": "languages"
        },
        {
            "Name": "edit_contract",
            "Trans": "{\"en\":\"Edit contract\",\"ru\":\"Редактировать контракт\"}",
            "Type": "languages"
        },
        {
            "Name": "edit_page",
            "Trans": "{\"en\":\"Edit page\",\"ru\":\"Редактировать страницу\"}",
            "Type": "languages"
        },
        {
            "Name": "editing_profile",
            "Trans": "{\"en\": \"Editing profile\", \"ru\": \"Редактирование профиля\"}",
            "Type": "languages"
        },
        {
            "Name": "encumbrance_certificate",
            "Trans": "{\"en\":\"Encumbrance certificate\",\"ru\":\"Сертификат обременения\"}",
            "Type": "languages"
        },
        {
            "Name": "id",
            "Trans": "{\"en\": \"ID\", \"ru\": \"ID\"}",
            "Type": "languages"
        },
        {
            "Name": "input",
            "Trans": "{\"en\":\"Input\",\"ru\":\"Ввод\"}",
            "Type": "languages"
        },
        {
            "Name": "land_nature",
            "Trans": "{\"en\":\"Nature\",\"ru\":\"Тип\"}",
            "Type": "languages"
        },
        {
            "Name": "land_record",
            "Trans": "{\"en\":\"Land record\",\"ru\":\"Земельная запись\"}",
            "Type": "languages"
        },
        {
            "Name": "land_records",
            "Trans": "{\"en\":\"Land Registry\",\"ru\":\"Земельный реестр\"}",
            "Type": "languages"
        },
        {
            "Name": "land_records_add",
            "Trans": "{\"en\":\"Land Record adding\",\"ru\":\"Добавление земельной записи\"}",
            "Type": "languages"
        },
        {
            "Name": "land_records_edit",
            "Trans": "{\"en\":\"Land record edit\",\"ru\":\"Редактирование земельной записи\"}",
            "Type": "languages"
        },
        {
            "Name": "land_use",
            "Trans": "{\"en\":\"Land use\",\"ru\":\"Землепользование\"}",
            "Type": "languages"
        },
        {
            "Name": "legal_status",
            "Trans": "{\"en\":\"Legal status\",\"ru\":\"Правовой статус\"}",
            "Type": "languages"
        },
        {
            "Name": "member_id",
            "Trans": "{\"en\": \"Member ID\", \"ru\": \"ID члена\"}",
            "Type": "languages"
        },
        {
            "Name": "name",
            "Trans": "{\"en\": \"Name\", \"ru\": \"Название\"}",
            "Type": "languages"
        },
        {
            "Name": "need_your_processing",
            "Trans": "{\"en\":\"Need your processing\",\"ru\":\"Нужна ваша обработка\"}",
            "Type": "languages"
        },
        {
            "Name": "new_land",
            "Trans": "{\"en\":\"New land\",\"ru\":\"Новая земля\"}",
            "Type": "languages"
        },
        {
            "Name": "new_voting",
            "Trans": "{\"en\": \"New voting\", \"ru\": \"Новое голосование\"}",
            "Type": "languages"
        },
        {
            "Name": "no",
            "Trans": "{\"en\":\"No\",\"ru\":\"Нет\"}",
            "Type": "languages"
        },
        {
            "Name": "no_problem",
            "Trans": "{\"en\":\"No Issues\",\"ru\":\"Нет проблем\"}",
            "Type": "languages"
        },
        {
            "Name": "notifications",
            "Trans": "{\"en\": \"Notifications\", \"ru\": \"Уведомления\"}",
            "Type": "languages"
        },
        {
            "Name": "owner",
            "Trans": "{\"en\":\"Owner\",\"ru\":\"Владелец\"}",
            "Type": "languages"
        },
        {
            "Name": "price",
            "Trans": "{\"en\":\"Price\",\"ru\":\"Цена\"}",
            "Type": "languages"
        },
        {
            "Name": "problem",
            "Trans": "{\"en\":\"Have Issues\",\"ru\":\"Проблемы\"}",
            "Type": "languages"
        },
        {
            "Name": "profile_edit",
            "Trans": "{\n    \"en\": \"Profile edit\",\n    \"ru\": \"Редактирование профиля\"\n}",
            "Type": "languages"
        },
        {
            "Name": "record_add_date",
            "Trans": "{\"en\":\"Record Add Date\",\"ru\":\"Дата добавления записи\"}",
            "Type": "languages"
        },
        {
            "Name": "referendum",
            "Trans": "{\"en\":\"Referendum\",\"ru\":\"Референдум\"}",
            "Type": "languages"
        },
        {
            "Name": "registration_date",
            "Trans": "{\"en\":\"Registration Date\",\"ru\":\"Дата регистрации\"}",
            "Type": "languages"
        },
        {
            "Name": "result",
            "Trans": "{\"en\":\"Result\",\"ru\":\"Результат\"}",
            "Type": "languages"
        },
        {
            "Name": "save",
            "Trans": "{\"en\": \"Save\", \"ru\": \"Сохранить\"}",
            "Type": "languages"
        },
        {
            "Name": "send_contract",
            "Trans": "{\"en\":\"Send to contract\",\"ru\":\"Отправить в контракт\"}",
            "Type": "languages"
        },
        {
            "Name": "send_notify",
            "Trans": "{\"en\":\"Send Notification\",\"ru\":\"Отправить оповещение\"}",
            "Type": "languages"
        },
        {
            "Name": "send_page",
            "Trans": "{\"en\":\"Send to page\",\"ru\":\"Отправить на страницу\"}",
            "Type": "languages"
        },
        {
            "Name": "send_request",
            "Trans": "{\"en\":\"Send request\",\"ru\":\"Послать запрос\"}",
            "Type": "languages"
        },
        {
            "Name": "total_votes",
            "Trans": "{\"en\":\"Total votes\",\"ru\":\"Всего проголосовало\"}",
            "Type": "languages"
        },
        {
            "Name": "undefined",
            "Trans": "{\"en\":\"Undefined\",\"ru\":\"Не определено\"}",
            "Type": "languages"
        },
        {
            "Name": "user_info",
            "Trans": "{\"en\": \"User information\", \"ru\": \"Информация о пользователе\"}",
            "Type": "languages"
        },
        {
            "Name": "username",
            "Trans": "{\"en\": \"Username\", \"ru\": \"Никнейм\"}",
            "Type": "languages"
        },
        {
            "Name": "view_all",
            "Trans": "{\"en\": \"View all\", \"ru\": \"Посмотреть все\"}",
            "Type": "languages"
        },
        {
            "Name": "votes_taken_accept",
            "Trans": "{\"ru\":\"Положительных голосов\",\"en\":\"Positive votes\"}",
            "Type": "languages"
        },
        {
            "Name": "votes_taken_reject",
            "Trans": "{\"ru\":\"Отрицательных голосов\",\"en\":\"Negative votes\"}",
            "Type": "languages"
        },
        {
            "Name": "want_save",
            "Trans": "{\"en\":\"Do you want to save changes?\",\"ru\":\"Действительно хотите сохранить\"}",
            "Type": "languages"
        },
        {
            "Name": "yes",
            "Trans": "{\"en\":\"Yes\",\"ru\":\"Да\"}",
            "Type": "languages"
        },
        {
            "Name": "demo_page_table",
            "Columns": "[{\"name\":\"member_name\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"member_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"some_text\",\"type\":\"text\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}",
            "Type": "tables"
        },
        {
            "Name": "land_registry",
            "Columns": "[{\"name\":\"address\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"land_use\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"land_nature\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"modification_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"tax_receipt_and_bills\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"encumbrance_certificate\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"area\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"delete\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"price_gov_value\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"buildings_use_class\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"price_market_value\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"owner_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"map_coords\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"date_create\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"legal_status\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"land_local_body\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"registration_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"price\",\"type\":\"money\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}",
            "Type": "tables"
        },
        {
            "Name": "land_registry_ownership",
            "Columns": "[{\"name\":\"dep3_approved\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"lend_object_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"price\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"owner_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"date_signing\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"owner_new_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"step\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"date_creat\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"owner_type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"dep2_approved\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}",
            "Type": "tables"
        },
        {
            "Name": "referendums",
            "Columns": "[{\"name\":\"percent_accept\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"percent_reject\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"name\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"delete\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"question\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"votes_total\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"votes_accept\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"votes_reject\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}",
            "Type": "tables"
        },
        {
            "Name": "referendums_participants",
            "Columns": "[{\"name\":\"decision\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"member_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"referendum_id\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}",
            "Type": "tables"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Shops,Financial and professional services,Restaurants and cafes,Business,Hotels,Dwellinghouses,Non-residential institutions,No",
            "Name": "buildings_use_class",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Agriculture,Financial services,Entertainment and mass media,Industrial manufacturing,Real estate,Retail,Transportation,Utilities,Service businesses",
            "Name": "business_scope",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Shops,Financial and professional services,Restaurants and cafes,Business,Hotels,Dwellinghouses,Non-residential institutions,No",
            "Name": "land_buildings_use_class",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "No Issues,Have Issues",
            "Name": "land_ec_status",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Minor Gram Panchayat,Major Gram Panchayat,Other Municipality/Notified Area,Municipal Corporation",
            "Name": "land_local_body",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "0101 Sale Deed,0111 AGREEMENT OF SALE CUM GPA,0202 Mortgage without Possession,0206 Mortgage deed by small farmer for Agrl.loans in f/o PAC/Bank,0208 Deposit of Title Deeds,0302 Gift Settlement in f/o family member,0303 Gift Settlement in f/o others,0304 Gift Settlement for Charitable/religious purposes,0401 Partition,0402 Partition among Family Members,0505 RECEIPT(R.T.D.M),0701 Lease Deed,0801 Rectification Deed,0803 Cancellation Deed",
            "Name": "land_nature",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "01 Residential-U,09 URBAN VacantLand(Residential)-U,21 Dry land-R,26 Wet Land double crop-R,27 Wet Land single crop-R,30 Coconut Garden-R",
            "Name": "land_use",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "no_problem,problem",
            "Name": "land_yes_no",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "No Issues,Title Not Clear,Multiple Owner Claims,Khata Not Clear",
            "Name": "legal_status",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "single,multiple",
            "Name": "notification_closure",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "fa-bell,fa-comment,fa-envelope,fa-bookmark,fa-check,fa-exclamation-triangle,fa-info-circle",
            "Name": "notification_icon",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "single,role",
            "Name": "notification_type",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(Class: content-wrapper){\n\n\tSetTitle($applications$)\n\n    Div(Class: row df f-valign){\n        Div(Class: col-md-3)\n        Div(Class: col-md-6){\n\n            Data(src_parameters,\"id,name\"){\n                1,$referendum$\n                2,$land_records$\n            }.Custom(custom_link){\n                If(#id#==1){\n                    LinkPage(Page: referendums_list){        \n                        Div(media-box){\n                            Div(Class: pull-left){\n                                Em(Class: fa fa-2x fa-gavel text-primary)\n                            } \n                            Div(media-box-body clearfix){ \n                                Div(Class: h5 text-bold, Body: #name#)\n                            }\n                        }\n                    }\n                }\n                If(#id#==2){\n                    LinkPage(Page: land_registry_records){        \n                        Div(media-box){\n                            Div(Class: pull-left){\n                                Em(Class: fa fa-2x icon-home text-primary)\n                            } \n                            Div(media-box-body clearfix){ \n                                Div(Class: h5 text-bold, Body: #name#)\n                            }\n                        }\n                    }\n                }\n            }.Custom(custom_value){\n                SysParam(#name#)\n            }.Custom(actions){\n                Span(Class: text-center text-bold, Body: \"Installed\")\n            }\n            \n            Table(src_parameters, \"=custom_link,=actions\")\n\n\t\t}\n\t\tDiv(Class: col-md-3)\n    }\n}",
            "Name": "applications_list",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Include(demo_block_sendContract)",
            "Name": "default_ecosystem_page",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "DBFind(Name: notifications, Source: noti_s).Columns(\"notification->header,notification->body,notification->type,page_params,page_name\").Where(\"closed=0 and notification->type='1' and recipient->member_id='#key_id#'\")\nSetTitle($notifications$)\nDiv(content-wrapper){\n    Div(container){\n        Div(row){\n            Div(col-sm-8 col-sm-offset-2){\n                Div(panel panel-primary){\n                    Div(panel-heading){$notifications$}\n                    Div(panel-body){\n                        ForList(noti_s){\n                            Div(Class: list-group-item){\n                                LinkPage(Page: #page_name#, PageParams: \"notific_id=#id#\"){\n                                    Div(media-box){\n                                        Div(Class: pull-left){\n                                            Em(Class: fa #icon# fa-1x text-info)\n                                        }\n                                        Div(media-box-body clearfix){\n                                            Div(Class: m0 text-normal, Body: #notification.header#)\n                                            Div(Class: m0 text-muted h6, Body: #notification.body#)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "demo_notifications",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "If(#notific_id#>0){\n    SetTitle($demo_sendMessage$)\n    Div(content-wrapper){\n        Div(row){\n            Div(col-xs-8 col-xs-offset-2 col-lg-6 col-lg-offset-3){\n                Div(panel panel-primary){\n                    Div(panel-heading){$result$}\n                    Div(panel-body){\n                        Div(row){\n                            Div(col-sm-10 col-sm-offset-1 alert alert-default){\n                                Div(){Header: #notific_header#}\n                                Div(){SomeText: #SomeText#}\n                            }\n                            \n                        }.Style(display: flex;align-items: flex-end;)\n                    }\n                    Div(panel-footer clearfix){\n                        Div(pull-right text-right){\n                            Button(Page: demo_page_sendMessage, Class: btn btn-primary, Contract:notifications_Close, Params:\"notific_id=#notific_id#\", Body: $close$)\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "demo_page_message",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Include(demo_block_sendContract)",
            "Name": "demo_page_sendContract",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Include(demo_block_sendMessage)",
            "Name": "demo_page_sendMessage",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Include(demo_block_sendPage)",
            "Name": "demo_page_sendPage",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(applications,src_app).Columns(\"name,id\").Where(\"name='Demo apps'\").Vars(application)\nDBFind(members,src_owners).Custom(name){#member_name#}\nAppParam(App:#application_id#, Name: land_nature, Source: src_nature)\nAppParam(App:#application_id#, Name: land_buildings_use_class, Source: src_class)\nSetVar(defaultCoords,`{\"zoom\":8, \"center\":{\"lat\":51.500,\"lng\":-0.125}}`)\nData(part1, \"Name,Type,Res,Val\"){\n    Coords,map,address,#defaultCoords#\n}\nData(part2, \"Name,Type,Res,Val\"){\n    OwnerId,select,owner,src_owners\n    LandNature,select,land_nature,src_nature\n    BuildingsUseClass,select,buildings_use_class,src_class\n    RegistrationDate,date,registration_date,\n}\nData(parts, \"Part\"){\n    part1\n    part2\n}\nSetTitle($department_of_land_resources$)\nDiv(content-wrapper){\n    Div(breadcrumb){\n        Div(){\n            LinkPage(LangRes(land_records), land_registry_records)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(LangRes(land_records_add), text-muted)\n        }\n    }\n    Div(container){\n        Div(row){\n            Div(col-sm-8 col-sm-offset-2 text-left){\n                Form(panel panel-primary){\n                    Div(panel-heading){LangRes(add_new_record)}\n                    ForList(parts){\n                        Div(list-group-item){\n                            ForList(#Part#){\n                                Div(row mt-sm){\n                                    Div(col-md-3 text-right){\n                                        Strong(LangRes(#Res#))\n                                    }\n                                    Div(col-md-9 text-center){\n                                        If(#Type#==map){\n                                            InputMap(Name: #Name#, Type: polygon, MapType: hybrid, Value:#Val#)\n                                        }.ElseIf(#Type#==select){\n                                            Select(Name: #Name#, Source: #Val#, ValueColumn: id, NameColumn: name)\n                                        }.Else{\n                                            Input(Name: #Name#, Type: #Type#)\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    Div(panel-footer text-right){\n                        Button(Page: land_registry_records, Body: LangRes(back), Class: btn btn-default pull-left)\n                        Button(Body: LangRes(add), Class: btn btn-primary, Contract: land_registry_Add, Page: land_registry_records)\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "land_registry_add",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(applications,src_app).Columns(\"name,id\").Where(\"name='Demo apps'\").Vars(application)\nInclude(land_registry_edit)",
            "Name": "land_registry_edit",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(applications,src_app).Columns(\"name,id\").Where(\"name='Demo apps'\").Vars(application)\nSetTitle($land_records$)\nSetVar(this, land_registry_records)\nInclude(land_registry_records)",
            "Name": "land_registry_records",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(applications,src_app).Columns(\"name,id\").Where(\"name='Demo apps'\").Vars(application)\nIf(GetVar(notific_val_int)){\n    SetVar(LandId, #notific_val_int#)\n}\n\nIf(GetVar(notific_id)){}.Else{SetVar(notific_id,0)}\n\nSetVar(title,$land_record$)\n\nIf(GetVar(LandId)){}.Else{SetVar(LandId,1)}\n\nIf(GetVar(LandId)){\n    DBFind(Name: land_registry, Source: src_entry).WhereId(#LandId#).Vars(entry)\n    DBFind(Name: land_registry_ownership, Source: src_land_ownership).Where(lend_object_id=#LandId#).Vars(ownership)\n\n    DBFind(Name: members, Source: src_owner).Where(id=#ownership_owner_id#).Vars(owner)\n}\nDBFind(notifications).Where(\"page_params->LandId='#LandId#' and page_params->second_request='1' and closed=0\").Vars(alert)\n\nSetVar(alert,0).(btn_legal,0).(btn_cert,0).(btn_price,0).(price,$undefined$)\nIf(#alert_id#>0){SetVar(alert,1)}\nIf(And(#entry_legal_status#!=1, #alert#==0)){SetVar(btn_legal,1)}\nIf(And(#entry_encumbrance_certificate#!=1, #alert#==0)){SetVar(btn_cert,1)}\nIf(#entry_price#>0){SetVar(price,\"#entry_price# INR\")}\nIf(#ownership_owner_id#==#key_id#){SetVar(btn_price,1)}\n\nData(part1, \"Type,Res,Val\"){\n    map,map,#entry_map_coords#\n}\nData(part2, \"Res,Val\"){\n    \"$area_size$ (Span(m).(2,sup))\",#entry_area#\n    $owner$,#owner_member_name#\n    $address$,#entry_address#\n    $record_add_date$,\"DateTime(#entry_date_create#)\"\n    $buildings_use_class$,\"AppParam(App:#application_id#, Name: buildings_use_class, Index: #entry_buildings_use_class#)\"\n    $land_nature$,\"AppParam(App:#application_id#, Name: land_nature, Index: #entry_land_nature#)\"\n}\nData(part3, \"Res,Val,ReqBtn\"){\n    $legal_status$,\"AppParam(App:#application_id#, Name: legal_status, Index: #entry_legal_status#)\",#btn_legal#\n}\nData(part4, \"Res,Val,ReqBtn\"){\n    $encumbrance_certificate$,\"AppParam(App:#application_id#, Name: land_ec_status, Index: #entry_encumbrance_certificate#)\",#btn_cert#\n}\nData(part5, \"Res,Val,PriceBtn\"){\n    $consideration_value$,#price#,#btn_cert#\n}\nData(parts, \"Part\"){\n    part1\n    part2\n    part3\n    part4\n    part5\n}\n\nSetTitle(#title#)\nDiv(content-wrapper){\n    Div(breadcrumb){\n        LinkPage(Body:$land_records$,Page: land_registry_records)\n        Span(/,mh)\n        Span(#title#, text-muted)\n    }\n    If(GetVar(LandId)){\n        Div(container){\n            Div(row){\n                Form(col-sm-8 col-sm-offset-2){\n                    Div(list-group-item text-center){\n                        Div(h3){\n                            $land_record$ #GetVar(LandId)\n                        }\n                    }\n                    ForList(parts){\n                        Div(list-group-item){\n                            ForList(#Part#){\n                                If(#Type#==map){\n                                    Map(MapType: hybrid, Hmap:300, Value: #Val#)\n                                }.Else{\n                                    Div(row mt-sm){\n                                        Div(col-md-5 text-right h5 m0 text-bold){#Res#:}\n                                        Div(col-md-6 text-left h5 m0){\n                                            #Val#\n                                            If(#ReqBtn#==1){\n                                                Button(Contract: land_registry_SecondRequest, Body:$send_request$, Params: \"LandId=#LandId#\", Class: ml btn btn-default, Page: land_registry_view, PageParams: \"LandId=#LandId#\").Alert(Text:$ask_request_second$, ConfirmButton:$confirm$, CancelButton:$cancel$)\n                                            }.ElseIf(#PriceBtn#==1){\n                                                Button(Page: land_registry_edit, Body:$change$, PageParams: \"LandId=#LandId#\", Class: ml btn btn-default)\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }.Style(\n            .sup {vertical-align: super;font-size:small;display: inline-block;}\n        )\n    }\n}",
            "Name": "land_registry_view",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "DBFind(Name: notifications, Source: noti_s).Where(\"closed=0 and notification_type=1 and recipient_id=#key_id#\")\nDBFind(Name: notifications, Source: noti_r).Where(\"closed=0 and notification_type=2 and (started_processing_id=0 or started_processing_id=#key_id#)\")\n\nForList(noti_s){\n        Div(Class: list-group-item){\n            LinkPage(Page: #page_name#, PageParams: \"notific_id=#id#,notific_type=#notification_type#,notific_header=#header_text#,#page_params#\"){        \n                Div(media-box){\n                    Div(Class: pull-left){\n                        Em(Class: fa #icon# fa-1x text-info)\n                    } \n                    Div(media-box-body clearfix){ \n                        Div(Class: m0 text-normal, Body: #header_text#) \n                        Div(Class: m0 text-muted h6, Body: #body_text#)\n                    }\n                }\n            }\n        }\n}\n\nForList(noti_r){\n    DBFind(Name: roles_assign, Source: src_roles).Where(\"member_id=#key_id# and role_id=#role_id# and delete=0\").Vars(prefix)\n    If(#prefix_id# > 0){\n        Div(Class: list-group-item){\n            LinkPage(Page: #page_name#, PageParams: \"notific_id=#id#,notific_type=#notification_type#,notific_header=#header_text#,#page_params#\"){        \n                Div(media-box){\n                    Div(Class: pull-left){\n                        Em(Class: fa #icon# fa-1x text-primary)\n                    } \n                    Div(media-box-body clearfix){ \n                        Div(Class: m0 text-normal, Body: #header_text#) \n                        Div(Class: m0 text-muted h6, Body: #body_text#)\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "notifications",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "SetTitle($profile_edit$)\nDiv(content-wrapper){\n    \n    If(Or(#v_id#>0,#v_id#<0)){\n        DBFind(Name: members, Source: src_member).Where(id=#v_id#).Vars(prefix)\n    }.Else{\n        DBFind(Name: members, Source: src_member).Where(id=#key_id#).Vars(prefix)\n    }\n    \n    Div(row){\n        Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\n            Div(panel panel-primary){\n                Div(panel-heading, Body: LangRes(profile_edit))\n                Form(){\n                    Div(list-group-item){\n                        Div(row){\n                            Div(col-md-3 mt-sm text-right){\n                                Label(For: username){\n                                    Span(Body: LangRes(username))\n                                }\n                            }\n                            Div(col-md-9 mc-sm text-left){\n                                Input(Class: form-control, Type: text, Name: Username, Value: #prefix_member_name#)\n                            }\n                        }\n                    }\n                    \n                    Div(panel-footer clearfix){\n                        Div(pull-right){\n                            Input(Type: hidden, Value: 0, Name: Kid)\n                            Button(Body: LangRes(save), Class: btn btn-primary, Contract: Profile_Edit, Page: profile_view).Alert(Text: $want_save$, ConfirmButton: $yes$, CancelButton: $no$, Icon: question)\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "profile_edit",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(Class: content-wrapper){\n\n\tSetTitle($user_info$)\n\tDiv(Class: breadcrumb){\n\t\tSpan(Class: text-muted, Body: LangRes(user_info))\n\t}\n\n    If(Or(#v_member_id#>0,#v_member_id#<0)){\n    }.Else{\n\t\tSetVar(Name: v_member_id, Value: #key_id#)\n    }\n\tDBFind(Name: members, Source: src_member).Where(id=#v_member_id#).Vars(prefix)\n\t\n\tIf(Or(#prefix_id#>0,#prefix_id#<0)){\n    }.Else{\n        SetVar(Name: prefix_member_name, Value: \"\")\n    }\n\n    Div(Class: row df f-valign){\n        Div(Class: col-md-3)\n        Div(Class: col-md-6){\n            Div(Class: panel panel-default){\n                Form(){ \n\t\t\t\t\tDiv(Class: list-group-item text-center){\n\t\t\t\t\t\tSpan(Class: h3, Body: LangRes(user_info))\t\n\t\t\t\t\t}\n\t\t\t\t\tDiv(Class: list-group-item){\n\t\t\t\t\t\tDiv(Class: row df f-valign){\n\t\t\t\t\t\t\tDiv(Class: col-md-12 mt-sm text-center){\n\t\t\t\t\t\t\t\tIf(Or(#prefix_id#>0,#prefix_id#<0)){\n                                    Div(Body: Span(Class: h3 text-bold, Body: #prefix_member_name#))\n\t\t\t\t\t\t\t\t}.Else{\n\t\t\t\t\t\t\t\t\tButton(Class: btn btn-link, Page: profile_edit){\n\t\t\t\t\t\t\t\t\t\tSpan(Class: h3 text-bold, Body: LangRes(editing_profile))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n                }\n            }\n\n        }\n        Div(Class: col-md-3)\n    }\n}",
            "Name": "profile_view",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(Class: content-wrapper){\n\n\tSetTitle($referendum$)\n\tDiv(Class: breadcrumb){\n\t\tLinkPage($referendum$, referendums_list)\n\t\tSpan(/).Style(margin-right: 10px; margin-left: 10px;)\n\t\tSpan(Class: text-muted, Body: $new_voting$)\n\t}\n\n    Div(Class: row df f-valign){\n        Div(Class: col-md-3)\n        Div(Class: col-md-6){\n\t\t\n            Div(Class: panel panel-primary){\n                Div(Class: panel-heading, Body: LangRes(new_voting))\n                Form(){\n\n                    Div(Class: list-group-item){\n                        Div(Class: row df f-valign){\n                \t\t\tDiv(Class: col-md-3 mt-sm text-right){\n                                Label(For: referendum_name){\n                                    Span(Body: LangRes(name))\n                                }\n                \t\t\t}\n                \t\t\tDiv(Class: col-md-9 mc-sm text-left){\n                \t\t\t    Input(Name: referendum_name, Class: form-control, Type: text)\n                \t\t\t}\n                        }                   \n                    }\n\n                    Div(Class: list-group-item){\n                        Div(Class: row df f-valign){\n                \t\t\tDiv(Class: col-md-3 mt-lg text-right){\n                                Label(For: question){\n                                    Span(Body: LangRes(description))\n                                }\n                            }\n                \t\t\tDiv(Class: col-md-9 mc-sm text-left){\n                \t\t\t    Input(Name: question, Class: form-control, Type: textarea)\n                \t\t\t}\n                        }                      \n                    }\n\n                    Div(Class: panel-footer clearfix){\n                        Div(Class: pull-right){\n                            Button(Body: LangRes(back), Class: btn btn-default, Page: referendums_list)\n                            Button(Body: LangRes(create), Class: btn btn-primary, Page: referendums_list, Contract: referendums_add)\n                        }\n                    }\n\n                }\n            }\n\t\t}\n\t\tDiv(Class: col-md-3)\n    }\n}",
            "Name": "referendums_add",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(Class: content-wrapper){\n    \n    SetTitle($referendum$)\n    \n    If(GetVar(isSearch) == 1){\n        SetVar(Name: v_Where, Value: \"name='#v_Search#' and delete = 0\")\n    }.Else{\n        SetVar(Name: v_Where, Value: \"delete=0\")\n        SetVar(Name: v_Search, Value: \"\")\n    }\n    \n    DBFind(Name: referendums, Source: src_referendums).Custom(custom_id){\n\t\tSpan(#id#)\n    }.Custom(custom_name){\n        LinkPage(Page: referendums_view, PageParams: \"referendum_id=#id#\"){\n            Span(Class: h4 text-bold, Body: #name#)\n        }\n    }.Custom(custom_all){\n        Span(Class: h5, Body: #votes_total#)\n    }.Custom(custom_accept){\n        Span(Class: h5 text-success, Body: #votes_accept# ( #percent_accept# %))\n    }.Custom(custom_reject){\n        Span(Class: h5 text-danger, Body: #votes_reject# ( #percent_reject# %))\n    }.Custom(custom_voting){\n        SetVar(Name: participant_id, Value: 0)\n        DBFind(Name: referendums_participants, Source: src_referendums_participants).Where(\"referendum_id=#id# and member_id=#key_id#\").Vars(participant)\n        If(#participant_id# > 0){\n        }.Else{\n            Div(Class: pull-right){\n                Button(Body: Em(Class: fa fa-thumbs-down), Class: btn btn-danger, Contract: referendums_reject, Params: \"referendum_id=#id#\", Page: referendums_list)\n            }\n            Div(Class: pull-right){\n                Button(Body: Em(Class: fa fa-thumbs-up), Class: btn btn-success, Contract: referendums_accept, Params: \"referendum_id=#id#\", Page: referendums_list)\n            }\n        }\n    }.Custom(custom_question){\n        Span(Class: h6, Body: #question#)\n    }.Where(#v_Where#).Order(id)\n    \n    Div(Class: panel panel-primary){\n        Form(){\n            Div(Class: list-group-item){\n                Div(Class: row df f-valign){\n                    Div(Class: col-md-1 mt-sm text-right){\n                        Label(For: Search){\n                            Span(Body: LangRes(name))\n                        }\n                    }\n                    Div(Class: col-md-11 mc-sm){\n                        Div(Class: input-group){\n                            Input(Class: form-control, Type: text, Name: Search, Value: #v_Search#)\n                            Div(Class: input-group-btn){\n                                Button(Body: Em(Class: fa fa-search), Class: btn btn-default, Page: referendums_list, PageParams: \"isSearch=1,v_Search=Val(Search)\")\n                            }\n                        }\n                    }\n                }\n            }\n            \n            Div(Class: list-group-item){\n                Table(src_referendums, \"$id$=custom_id,$name$=custom_name,$description$=custom_question,$votes_taken_accept$=custom_accept,$votes_taken_reject$=custom_reject,$total_votes$=custom_all,=custom_voting\")\n                If(GetVar(isSearch) == 1){\n                    Div(Class: text-center){\n                        Button(Body: $view_all$, Class: btn btn-primary, Page: referendums_list, PageParams: \"isSearch=0\")\n                    }\n                }\n            }\n            \n            Div(Class: panel-footer clearfix){\n                Div(Class: pull-right){\n                    Button(Body: LangRes(create), Class: btn btn-primary, Page: referendums_add)\n                }\n            }\n            \n        }\n    }\n}",
            "Name": "referendums_list",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Value": "Div(Class: content-wrapper){\n    If(#referendum_id# > 0){\n\n        DBFind(Name: referendums, Source: src_referendums).Where(\"id=#referendum_id#\").Vars(instance)\n        DBFind(Name: referendums_participants, Source: src_referendums_participants).Where(\"referendum_id=#referendum_id# and member_id=#key_id#\").Vars(participant)\n\n        SetTitle($referendum$: #instance_name#)\n        Div(Class: breadcrumb){\n            LinkPage($referendum$, referendums_list)\n            Span(/).Style(margin-right: 10px; margin-left: 10px;)\n            Span(Class: text-muted, Body: #instance_name#)\n        }\n\n        Div(Class: row df f-valign){\n            Div(Class: col-md-2)\n            Div(Class: col-md-8){\n\n                Div(Class: panel panel-default){\n                    Form(){ \n\n                        Div(Class: list-group-item text-center){\n                            P(Class: h2 text-bold m0, Body: #instance_name#)\n                            Div(Class: row df f-valign){\n                                Div(Class: col-md-12 mt-sm){\n\t\t\t\t\t\t\t\t\tP(Class: h5 text-muted m0, Body: LangRes(total_votes): #instance_votes_total#)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n                        }\n                        Div(Class: list-group-item text-center){\n                            Div(Class: row df f-valign){\n                                Div(Class: col-md-2 mt-sm)\n                                Div(Class: col-md-8 mt-sm){\n\t\t\t\t\t\t\t\t\tP(Class: h4 text-normal m0, Body: #instance_question#)\n\t\t\t\t\t\t\t\t}\n                                Div(Class: col-md-2 mt-sm)\n\t\t\t\t\t\t\t}\n                        }\n                        Div(Class: list-group-item text-center){\n                            Div(Class: row df f-valign){\n                                Div(Class: col-md-2 mt-sm )\n                                Div(Class: col-md-4 mt-sm text-left){\n\t\t\t\t\t\t\t\t\tP(Class: h5 text-success m0, Body: LangRes(votes_taken_accept))\n                                }\n                                Div(Class: col-md-4 mt-sm text-right){\n\t\t\t\t\t\t\t\t\tP(Class: h5 text-danger m0, Body: LangRes(votes_taken_reject))\n                                }\n                                Div(Class: col-md-2 mt-sm)\n                            }\n                            Div(Class: row df f-valign){\n                                Div(Class: col-md-2 mt-sm )\n                                Div(Class: col-md-8 mt-sm text-center){\n                                    If(Or(#instance_percent_accept#>0,#instance_percent_reject#>0)){\n                                        Div().Style(background-color:green;height:10px;display:inline-block;width:#instance_percent_accept#%)\n                                        Div().Style(background-color:red;height:10px;display:inline-block;width:#instance_percent_reject#%)\n                                    }.Else{\n                                        Div().Style(background-color:LightGray;height:10px;display:inline-block;width:100%)\n                                    }\n                                }\n                                Div(Class: col-md-2 mt-sm)\n                            }\n                            Div(Class: row df f-valign){\n                                Div(Class: col-md-2 mt-sm )\n                                Div(Class: col-md-4 mt-sm text-left){\n                                    P(Class: h5 text-success m0, Body: #instance_percent_accept# % (#instance_votes_accept#))\n                                }\n                                Div(Class: col-md-4 mt-sm text-right){\n                                    P(Class: h5 text-danger m0, Body: #instance_percent_reject# % (#instance_votes_reject#))\n                                }\n                                Div(Class: col-md-2 mt-sm)\n                            }\n\t\t\t\t\t\t}\n                        If(#participant_id# > 0){\n                        }.Else{\n                            Div(Class: list-group-item text-center){\n                                Div(Class: row df f-valign){\n                                    Div(Class: col-md-1 mt-sm )\n                                    Div(Class: col-md-5 mt-sm text-center){\n                                        Button(Body: Em(Class: fa fa-thumbs-up), Class: btn btn-success, Contract: referendums_accept, Params: \"referendum_id=#referendum_id#\", Page: referendums_view, PageParams: \"referendum_id=#referendum_id#\")\n                                    }\n                                    Div(Class: col-md-5 mt-sm text-center){\n                                        Button(Body: Em(Class: fa fa-thumbs-down), Class: btn btn-danger, Contract: referendums_reject, Params: \"referendum_id=#referendum_id#\", Page: referendums_view, PageParams: \"referendum_id=#referendum_id#\")\n                                    }\n                                    Div(Class: col-md-1 mt-sm)\n                                }\n                            }\n                        }\n\n                    }\n                }\n\n            }\n            Div(Class: col-md-2)\n        }   \n    }.Else{\n        Div(Class: md-12 alert alert-danger text-center){\n            Span(Body: LangRes(attention))\n        }\n    }\n}",
            "Name": "referendums_view",
            "Menu": "Applications",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract DemoContract {\n    data {\n        SomeText string\n    }\n    \n    conditions {\n        $member = DBFind(\"members\").WhereId($key_id).Row()\n        if !$member {\n            info \"Member not found\"\n        }\n    }\n    action {\n        DBInsert(\"demo_page_table\", \"member_name,member_id,some_text\", $member[\"member_name\"], $member[\"id\"], $SomeText)\n    }\n}",
            "Name": "DemoContract",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract notifications_Send {\n    data {\n        member_id int \"optional\"\n        rid int \"optional\"\n        closure_type int \"optional\"\n\n        sender int\n        icon_name string \"optional\"\n        text_header string\n        text_body string \"optional\"\n        page_name string\n        params_map string // json encoded expected\n    }\n    func sendNotify(recipient map){\n        var notification map\n        notification[\"header\"] = $text_header\n        notification[\"type\"] = $notify_type\n        notification[\"icon\"] = $icon_name\n        notification[\"body\"] = $text_body\n        var sender map\n        if $sender == 1 && $senderMember {\n            // send from member\n            sender[\"type\"] = $sender\n            sender[\"member_id\"] = $senderMember[\"id\"]\n            sender[\"member_name\"] = $senderMember[\"member_name\"]\n            sender[\"image_id\"] = $senderMember[\"image_id\"]\n        }else{\n            if $sender == 2 && $senderRole{\n                // send from role\n                sender[\"type\"] = $sender\n                sender[\"role_id\"] = $senderRole[\"id\"]\n                sender[\"role_name\"] = $senderRole[\"role_name\"]\n                sender[\"image_id\"] = $senderRole[\"image_id\"]\n            }\n        }\n\n        DBInsert(\"notifications\", \"recipient,sender,notification,page_name,page_params,timestamp date_created\",\n        recipient, sender, notification, $page_name, $params_map, $block_time)\n    }\n    func sendToMember(memberId int){\n        var member map\n        member = DBFind(\"members\").Where(\"id=?\", memberId).Row()\n        if !member {\n            warning Sprintf(\"%v:  Member not found (%v)\", $this_contract, memberId)\n        }\n        var recipient map\n        recipient[\"member_id\"] = member[\"id\"]\n        recipient[\"member_name\"] = member[\"member_name\"]\n        recipient[\"image_id\"] = member[\"image_id\"]\n\n        sendNotify(recipient)\n    }\n\n    func sendToRole(roleId int){\n        var role map\n        role = DBFind(\"roles\").Where(\"id=?\", roleId).Row()\n        var recipient map\n        recipient[\"role_id\"] = role[\"id\"]\n        recipient[\"role_name\"] = role[\"role_name\"]\n        recipient[\"image_id\"] = role[\"image_id\"]\n\n        sendNotify(recipient)\n    }\n\n    conditions {\n        $member_id = Int($member_id)\n        $rid = Int($rid)\n        if Size($icon_name) < 1{\n            $icon_name = \"icon-envelope\"\n        }\n        if $member_id != 0 {\n            $notify_type = 1 // is \"member\"\n        }else{\n            if $rid > 0{\n                $notify_type = 2 // is \"role\"\n                if !DBFind(\"roles\").Where(\"id=?\", $rid).One(\"id\") {\n                    warning $this_contract+\": Recipient role not found\"\n                }\n                if !DBFind(\"roles_participants\").Where(\"role->id=? and deleted=0\", $rid).One(\"id\") {\n                    warning $this_contract+\": Recipient role does not contain members\"\n                }\n            } else{\n                warning $this_contract+\": Notification type not defined\"\n            }\n        }\n        $senderMember = nil\n        $senderRole = nil\n        if $sender == 1 {\n            $senderMember = DBFind(\"members\").Where(\"id=?\", $key_id).Row()\n            if !$senderMember {\n                warning $this_contract+\": Sender not member\"\n            }\n        }else{\n            if $sender == 2 {\n                $senderRole = DBFind(\"roles\").Where(\"id=?\", $role_id).Row()\n                if !$senderRole {\n                    warning $this_contract+\": Sender role not found\"\n                }\n            }else{\n                warning $this_contract+\": Sender invalid\"\n            }\n        }\n    }\n    action {\n        if $member_id != 0 {\n            sendToMember($member_id)\n        }else{\n            if $rid > 0 {\n                if $closure_type == 1 {\n                    // Single closure: one begins the process - the others do not see\n                    // Одиночное закрытие: все имеющие роль получают оповещение, но как только один из них запустит процесс работы с оповещением оно скроется от остальных\n                    sendToRole($rid)\n                } else {\n                    // Multiple closure: to each his own notification\n                    // Множественное закрытие: каждый участник роли получает свое одиночное оповещение\n                    $notify_type = 1\n                    var participants array\n                    participants = DBFind(\"roles_participants\").Columns(\"member->member_id\").Where(\"role->id=? and deleted=0\", $rid)\n                    var i int\n                    while i < Len(participants) {\n                        var p map\n                        p = participants[i]\n                        sendToMember(Int(p[\"member.member_id\"]))\n                        i=i+1\n                    }\n                }\n            }\n        }\n    }\n}",
            "Name": "notifications_Send",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract Profile_Edit {\n    data {\n        Username string\n        Kid int \"optional\"\n    }\n    \n    conditions {\n        $id = 0\n        if $Kid == 0{\n            $Kid = $key_id\n        }\n        $member = DBFind(\"members\").Where(\"id=?\",$Kid).Row()\n        if $member {\n            $id = Int($member[\"id\"])\n        }\n    }\n    \n    action {\n        if $id != 0{\n            DBUpdate(\"members\", $id, \"member_name\", $Username)\n        }else{\n            DBInsert(\"members\", \"id,member_name\", $Kid, $Username)\n        }\n    }\n}",
            "Name": "Profile_Edit",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract MembersAutoreg {\n    conditions {\n    }\n    \n    action {\n        var keys map\n        keys = DBFind(\"keys\")\n        \n        var k, i int\n        while k<Len(keys){\n            var key, key_member, member array\n            key = keys[k]\n            \n            var id int\n            id = Int(key[\"id\"])\n            key_member = DBFind(\"members\").Where(\"id=?\",id).Row()\n            if !key_member {\n                var name string\n                \n                while true{\n                    name = Sprintf(\"member_%v\", i)\n                    member = DBFind(\"members\").Where(\"member_name=?\", name).Row()\n                    if !member{\n                        break\n                    }\n                    i = i+1\n                }\n                if EcosysParam(\"founder_account\")== id{\n                    name = \"founder\"\n                }\n                Profile_Edit(\"Username,Avatar,Kid\", name, \"\", id)\n            }\n            k=k+1\n        }\n    }\n}",
            "Name": "MembersAutoreg",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract extractLocales {\n    data {\n    }\n\n    conditions {\n    }\n\n    action {\n\n        Println(\"=======================================================\")\n\n        var page_map map\n        page_map = DBFind(\"pages\").Where(\"id=$\", 25).Row()\n\n        if page_map{\n            var ln int\n            var page_code string\n            var page_code_temp string\n\n            page_code = Str(page_map[\"value\"])\n\n            page_code = Replace(page_code, \" \", \"\")\n            page_code = Replace(page_code, \"#\", \"\")\n            page_code = Replace(page_code, \".\", \"\")\n            page_code = Replace(page_code, \"-\", \"\")\n            page_code = Replace(page_code, \",\", \"\")\n            page_code = Replace(page_code, \":\", \"\")\n            page_code = Replace(page_code, \"{\", \"\")\n            page_code = Replace(page_code, \"}\", \"\")\n            page_code = Replace(page_code, \"=\", \"\")\n            page_code = Replace(page_code, `\t`, \"\")\n            page_code = Replace(page_code, \"\\n\", \"\")\n            page_code = Replace(page_code, \"\\r\", \"\")\n            page_code = Replace(page_code, `\"`, \"\")\n            page_code = Replace(page_code, \"Span(\", \"\")\n            page_code = Replace(page_code, \"Div(\", \"\")\n            page_code = Replace(page_code, \"P(\", \"\")\n\n            page_code_temp = page_code\n            ln = Size(page_code)\n            //Println(ln)\n\n            var s,f int\n            var res string\n\n            var i int\n            while(i < ln){\n\n                if (s==0){\n                    if HasPrefix(page_code_temp, \"$\") {\n                        s = i+1\n                    }\n                    if HasPrefix(page_code_temp, \"LangRes\") {\n                        s = i+8\n                    }\n                } else {\n                    if HasPrefix(page_code_temp, \"$\") {\n                        f = i-s\n                    }\n                    if HasPrefix(page_code_temp, \")\") {\n                        f = i-s\n                    }\n                }\n\n                page_code_temp = Substr(page_code_temp, 1, ln-2)\n\n                if (s>0 && f>0){\n                    res = Substr(page_code, s, f)\n                    s = 0;\n                    f = 0;\n\n                    DBInsert(\"log\", \"name\", res)\n                    //Println(res)\n                }\n\n                i = i + 1\n            }\n        }\n\n\n\n        \n\n\n    }\n}",
            "Name": "extractLocales",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract DemoNotificationSingle {\n    data {\n        MemberId int\n        SomeText string\n    }\n\n    conditions {}\n\n    action {\n        var icon header body page string params map\n        icon = \"fa-bell\"\n        header = \"You have got a message\"\n        body = $SomeText\n        page = \"demo_page_message\"\n        params[\"SomeText\"] = $SomeText\n\n        notifications_Send(\"member_id,icon_name,text_header,text_body,page_name,params_map,sender\", $MemberId, icon, header, body, page, JSONEncode(params),1)\n    }\n}\n",
            "Name": "DemoNotificationSingle",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract land_registry_Delete{\n    data{\n        LandId int\n    }\n    \n    func conditions{}\n    \n    func action{\n        DBUpdate(\"land_registry\", $LandId, \"delete\", \"1\")\n    }\n}",
            "Name": "land_registry_Delete",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract land_registry_Add{\n    data{\n        OwnerId int\n        Coords string // {\"coords\":[{\"lat\":float,\"lng\":float},],\"area\": float,\"address\": string}\n        BuildingsUseClass int\n        LandNature int\n        RegistrationDate string \"date\"\n    }\n\n    func conditions{\n        var member map\n        member = DBFind(\"members\").Where(\"id = ?\", $OwnerId).Row()\n        if !member {\n            warning \"Member account for Owner not found\"\n        }\n        $coordsMap = JSONToMap($Coords)\n        $coordsAddress = $coordsMap[\"address\"]\n        $area = $coordsMap[\"area\"]\n        $area = Sprintf(\"%.0f\", $area)\n\n        if !$coordsAddress {\n            info \"Please input address\"\n        }\n        if $area <= 0 {\n            info \"Please use map for input of the area coordinates\"\n        }\n    }\n\n    func action{\n        var icon header body page string closureType landId landUse landLocalBody area int params map\n        landId = DBInsert(\"land_registry\", \"owner_id,address,area,buildings_use_class,map_coords,land_use,timestamp date_create,delete,land_nature,land_local_body,registration_date,timestamp modification_date\", $OwnerId, $coordsAddress, $area, $BuildingsUseClass, $Coords, landUse, $block_time, 0, $LandNature, landLocalBody, $RegistrationDate, $block_time)\n\n        DBInsert(\"land_registry_ownership\", \"step, timestamp date_creat, timestamp date_signing, lend_object_id, owner_id, owner_new_id\", -1, $block_time, $block_time, landId, $OwnerId, $OwnerId)\n\n        icon = \"fa fa-bell-o\"\n        body = \"$need_your_processing$\"\n\n        var key map key_id int\n        key = DBFind(\"members\").Where(\"id!=?\", $key_id).Order(\"id\").Row()\n\n        if key{\n            key_id = Int(key[\"id\"])\n        } else {\n            key_id = $key_id\n        }\n\n        //notify owner\n        header = \"New Land: need price\"\n        params[\"land_id\"] = landId\n        page = \"land_registry_edit\"\n        notifications_Send(\"member_id,icon_name,text_header,text_body,page_name,params_map,sender\", $key_id,icon,header,body,page,JSONEncode(params),1)\n\n        //notify depart\n        header = \"Department of Legal Affairs: $new_land$\"\n        params[\"admin\"] = 1\n        page = \"land_registry_edit\"\n        notifications_Send(\"member_id,icon_name,text_header,text_body,page_name,params_map,sender\", key_id,icon,header,body,page,JSONEncode(params),1)\n\n    }\n}",
            "Name": "land_registry_Add",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract notifications_Process {\n    data {\n        notific_id int\n    }\n\n    conditions {\n        $notify = DBFind(\"notifications\").Columns(\"recipient->role_id,sender->type,date_start_processing\").Where(\"id=?\", $notific_id).Row()\n        if !$notify {\n            warning \"Notification not found\"\n        }\n\n        if $notify[\"sender.type\"] == 2{\n            if $notify[\"date_start_processing\"] != \"\" {\n                warning \"Sorry, processing of this notification has already begun\"\n            }\n            if !DBFind(\"roles_participants\").Where(\"role->id=? and member->member_id=? and deleted=0\", Int($notify[\"recipient.role_id\"]), $key_id).One(\"id\") {\n                warning \"Sorry, you are not part of the role for which this notification is intended\"\n            }\n        }else{\n            if $notify[\"sender.type\"] != 1 {\n                warning \"Notification type not found\"\n            }\n        }\n\n        $member = DBFind(\"members\").Where(\"id=?\", $key_id).Row()\n        if !$member {\n            warning \"Member not found\"\n        }\n    }\n\n    action {\n        var member_info map\n        member_info[\"member_id\"] = $member[\"id\"]\n        member_info[\"member_name\"] = $member[\"member_name\"]\n        member_info[\"image_id\"] = $member[\"image_id\"]\n\n        DBUpdate(\"notifications\", $notific_id, \"timestamp date_start_processing,processing_info\", $block_time, JSONEncode(member_info))\n    }\n}",
            "Name": "notifications_Process",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract notifications_Close {\n    data {\n        notific_id int\n    }\n\n    conditions {\n        $notify = DBFind(\"notifications\").Columns(\"id,date_start_processing,processing_info->member_id,closed,sender->type\").Where(\"id=$\", $notific_id).Row()\n        if !$notify {\n            warning \"Notification not found\"\n        }\n        if $notify[\"sender.type\"] == 2{\n            //role has processing check\n            if $notify[\"date_start_processing\"] == \"\" {\n                warning \"Sorry, processing of this notification has not yet begun\"\n            }\n\n            if $notify[\"processing_info.member_id\"] != $key_id {\n                warning \"Sorry, processing of this notice began another member\"\n            }\n\n            if $notify[\"closed\"] > 0 {\n                warning \"Sorry, this notification has already been closed before\"\n            }\n        }else {\n            if $notify[\"sender.type\"] != 1 { // not single\n                warning \"Notification type not found\"\n            }\n        }\n    }\n\n    action {\n        if $notify[\"sender.type\"] == 1{\n            notifications_Process(\"notific_id\", $notific_id)\n        }\n\n        DBUpdate(\"notifications\", $notific_id, \"timestamp date_closed,closed\", $block_time, 1)\n    }\n}",
            "Name": "notifications_Close",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract land_registry_UpdateAdmin{\n    data {\n        LandId int\n        EncumbranceCertificate int\n        LegalStatus int\n        NotificId int\n    }\n    func conditions {\n        $land = DBFind(\"land_registry\").Where(\"id=?\", $LandId).Row()\n        if !$land{\n            warning \"Land not found in registry\"\n        }\n        $name = DBFind(\"members\").Where(\"id=?\", $key_id).One(\"member_name\")\n    }\n    \n    func action { \n        DBUpdate(\"land_registry\", $LandId, \"legal_status,encumbrance_certificate\", $LegalStatus, $EncumbranceCertificate)\n        notifications_Close(\"notific_id\", $NotificId)\n    }\n}",
            "Name": "land_registry_UpdateAdmin",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract land_registry_UpdateOwner{\n    data{\n        LandId int\n        NotificId string \"optional\"\n        Price string\n    }\n    \n    func conditions{\n        $Price = Int($Price)\n        $NotificId = Int($NotificId)\n        var entry map\n        entry = DBFind(\"land_registry\").Where(\"id=? and owner_id=?\",$LandId, $key_id).Row()\n        if !entry{\n            info \"You cant change this Land\"\n        }\n    }\n    \n    func action{\n        DBUpdate(\"land_registry\", $LandId, \"price,timestamp modification_date\", $Price, $block_time)\n        if $NotificId > 0{\n            notifications_Close(\"notific_id\", $NotificId)\n        }\n    }\n}",
            "Name": "land_registry_UpdateOwner",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract land_registry_SecondRequest{\n    data{\n        LandId int\n    }\n\n    action{\n        var icon header body page string params map\n        icon = \"fa-bell\"\n        header = \"$new_land$\"\n        body = \"$need_your_processing$\"\n        page = \"land_registry_edit\"\n        params[\"land_id\"] = $LandId\n        params[\"admin\"] = 1\n        params[\"second_request\"] = 1\n        notifications_Send(\"member_id,icon_name,text_header,text_body,page_name,params_map,sender\", $key_id,icon,header,body,page,JSONEncode(params),1)\n    }\n}",
            "Name": "land_registry_SecondRequest",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract referendums_accept {\n    data {\n        referendum_id int\n    }\n\n    conditions {\n        $referendums_map = DBFind(\"referendums\").Where(\"id=$\", $referendum_id).Row()\n        if ($referendums_map[\"id\"] == nil) {\n            warning \"Referendum not found\"\n        }\n\n\t\t$participant_id = DBFind(\"referendums_participants\").Where(\"referendum_id=$ and member_id=$\", $referendum_id, $key_id).One(\"id\")\n        if ($participant_id != nil){\n\t\t\twarning \"You already voted\"\n\t\t}\n\n        $votes_total = Int($referendums_map[\"votes_total\"])\n        $votes_accept = Int($referendums_map[\"votes_accept\"])\n        $votes_reject = Int($referendums_map[\"votes_reject\"])\n        $percent_accept = Int($referendums_map[\"percent_accept\"])\n        $percent_reject = Int($referendums_map[\"percent_reject\"])\n    }\n\n    action {\n        $votes_total = $votes_total + 1\n        $votes_accept = $votes_accept + 1\n\n        $percent_accept = $votes_accept * 100 / $votes_total\n        $percent_reject = 100 - $percent_accept\n\n        DBUpdate(\"referendums\", $referendum_id, \"votes_total,votes_accept,votes_reject,percent_accept,percent_reject\", $votes_total, $votes_accept, $votes_reject, $percent_accept, $percent_reject)\n        DBInsert(\"referendums_participants\", \"referendum_id,member_id,decision\", $referendum_id, $key_id, 1)\n\n        var params string\n        params = \"referendum_id=\" + Str($referendum_id)\n        $notific_id = DBFind(\"notifications\").Where(\"page_name=$ and page_params=$ and recipient_id=$ and closed=$\", \"referendums_view\", params, $key_id, 0).One(\"id\")\n        if ($notific_id != nil){\n            notifications_Close(\"notific_id\", Int($notific_id))\n\t\t}\n    }\n}",
            "Name": "referendums_accept",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract referendums_add {\n    data {\n        referendum_name string\n        question string\n    }\n\n    conditions {}\n\n    action {\n        $referendum_id = DBInsert(`referendums`, `name,question`, $referendum_name, $question)\n\n        $ret_member = DBFind(\"members\").Where(\"id != $\", 0).Order(\"id\")\n        $i = 0\n        while($i < Len($ret_member)){\n            $vals_member = $ret_member[$i]\n            \n\t\t\tvar params string\n\t\t\tparams = \"referendum_id=\" + Str($referendum_id)\n            \n\t\t\tnotifications_Send(\"member_id,icon_name,text_header,text_body,page_name,params_val\", \n\t\t\t\t\t\t\t\t$vals_member[\"id\"], \"fa-check\", \"Referendum\", $referendum_name, \"referendums_view\", params)\n\n            $i = $i + 1\n        } \n\n    }\n}",
            "Name": "referendums_add",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract referendums_reject {\n    data {\n        referendum_id int\n    }\n\n    conditions {\n        $referendums_map = DBFind(\"referendums\").Where(\"id=$\", $referendum_id).Row()\n        if ($referendums_map[\"id\"] == nil) {\n            warning \"Referendum not found\"\n        }\n\n\t\t$participant_id = DBFind(\"referendums_participants\").Where(\"referendum_id=$ and member_id=$\", $referendum_id, $key_id).One(\"id\")\n        if ($participant_id != nil){\n\t\t\twarning \"You already voted\"\n\t\t}\n\n        $votes_total = Int($referendums_map[\"votes_total\"])\n        $votes_accept = Int($referendums_map[\"votes_accept\"])\n        $votes_reject = Int($referendums_map[\"votes_reject\"])\n        $percent_accept = Int($referendums_map[\"percent_accept\"])\n        $percent_reject = Int($referendums_map[\"percent_reject\"])\n    }\n\n    action {\n        $votes_total = $votes_total + 1\n        $votes_reject = $votes_reject + 1\n\n        $percent_accept = $votes_accept * 100 / $votes_total\n        $percent_reject = 100 - $percent_accept\n\n        DBUpdate(\"referendums\", $referendum_id, \"votes_total,votes_accept,votes_reject,percent_accept,percent_reject\", $votes_total, $votes_accept, $votes_reject, $percent_accept, $percent_reject)\n        DBInsert(\"referendums_participants\", \"referendum_id,member_id,decision\", $referendum_id, $key_id, -1)\n\n        var params string\n        params = \"referendum_id=\" + Str($referendum_id)\n        $notific_id = DBFind(\"notifications\").Where(\"page_name=$ and page_params=$ and recipient_id=$ and closed=$\", \"referendums_view\", params, $key_id, 0).One(\"id\")\n        if ($notific_id != nil){\n            notifications_Close(\"notific_id\", Int($notific_id))\n\t\t}\n    }\n}",
            "Name": "referendums_reject",
            "Type": "contracts"
        }
    ]
}