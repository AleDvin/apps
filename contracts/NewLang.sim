contract NewLang {
    data {
        Name string
        Trans string
    }
    conditions {
        EvalCondition("parameters", "changing_language", "value")
    }
    action {
        var row map
        row = DBRow("languages").Columns("id").Where("name = ?", $Name)
        
        if row {
            EditLang("Name,Trans", $Name, $Trans)
        } else {
            DBInsert("languages", "name,res", $Name, $Trans)
        }
        UpdateLang($Name, $Trans)
    }
}