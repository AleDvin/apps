{
    "pages": [
        {
            "Name": "profile_view",
            "Conditions": "ContractAccess(\"@1EditPage\")",
            "Menu": "default_menu",
            "Value": "Div(Class: content-wrapper){\n\n\tSetTitle($user_info$)\n\tDiv(Class: breadcrumb){\n\t\tSpan(Class: text-muted, Body: LangRes(user_info))\n\t}\n\n    If(Or(#v_member_id#>0,#v_member_id#<0)){\n    }.Else{\n\t\tSetVar(Name: v_member_id, Value: #key_id#)\n    }\n\tDBFind(Name: members, Source: src_member).Where(id=#v_member_id#).Vars(prefix)\n\tDBFind(Name: keys, Source: src_keys).Where(id=#v_member_id#).Vars(tokens)\t\n\t\n\tIf(Or(#prefix_id#>0,#prefix_id#<0)){\n    }.Else{\n        SetVar(Name: prefix_member_name, Value: \"\")\n    }\n\n    Div(Class: row df f-valign){\n        Div(Class: col-md-3)\n        Div(Class: col-md-6){\n            Div(Class: panel panel-default){\n                Form(){ \n\t\t\t\t\tDiv(Class: list-group-item text-center){\n\t\t\t\t\t\tSpan(Class: h3, Body: LangRes(user_info))\t\n\t\t\t\t\t}\n\t\t\t\t\tDiv(Class: list-group-item){\n\t\t\t\t\t\tDiv(Class: row df f-valign){\n\t\t\t\t\t\t\tDiv(Class: col-md-12 mt-sm text-center){\n\n\t\t\t\t\t\t\t\tIf(Or(#prefix_id#>0,#prefix_id#<0)){\n\t\t\t\t\t\t\t\t\tIf(#prefix_id# == #key_id#){\n\t\t\t\t\t\t\t\t\t\tButton(Class: btn btn-link, Page: profile_edit, PageParams: \"v_member_id=#id#\"){\n                                            If(#prefix_avatar# != \"\"){\n\t\t\t\t\t\t\t\t\t\t\t    Image(Src: \"#prefix_avatar#\", Class: img-circle).Style(width: 100px;  border: 1px solid #5A5D63; margin-bottom: 15px;)\n\t\t\t\t\t\t\t\t\t\t\t}\n                                            Div(Body: Span(Class: h3 text-bold, Body: #prefix_member_name#))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}.Else{\n                                        If(#prefix_avatar# != \"\"){\n\t\t\t\t\t\t\t\t\t\t    Image(Src: \"#prefix_avatar#\", Class: img-circle).Style(width: 100px;  border: 1px solid #5A5D63; margin-bottom: 15px;)\n\t\t\t\t\t\t\t\t\t\t}\n                                        Div(Body: Span(Class: h3 text-bold, Body: #prefix_member_name#))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}.Else{\n\t\t\t\t\t\t\t\t\tButton(Class: btn btn-link, Page: profile_edit){\n\t\t\t\t\t\t\t\t\t\tSpan(Class: h3 text-bold, Body: LangRes(editing_profile))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tDiv(Class: list-group-item){\n\t\t\t\t\t\tDiv(Class: row df f-valign){\n\t\t\t\t\t\t\tDiv(Class: col-md-12 mt-sm text-center){\n\t\t\t\t\t\t\t\tSpan(Class: h4 text-bold, Body: Address(#prefix_id#))\n\t\t\t\t\t\t\t\tDiv(Class: text-muted m0 h5, Body: LangRes(member_id))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\t\t\t\t\t\n\n                }\n            }\n\t\t\t\n\t\t\tDiv(Class: panel panel-default){\n                Form(){ \t\n\t\t\t\t\tDiv(Class: list-group-item text-center){\n\t\t\t\t\t\tSpan(Class: h3, Body: LangRes(assigned_roles))\t\n\t\t\t\t\t}\n\t\t\t\t\tDBFind(roles_assign, src_roles).Where(\"member_id=#v_member_id#\").Custom(custom_role){\n\t\t\t\t\t\tLinkPage(Page: roles_view, PageParams: \"v_role_id=#role_id#,v_role_name=#role_name#\"){\n\t\t\t\t\t\t\t#role_name#\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tDiv(){\n\t\t\t\t\t\tTable(src_roles, \"=custom_role\").Style(\"thead { display: none; } tbody { text-align: center; }\")\n\t\t\t\t\t}\n\n                }\n            }\n\t\t\t\n\t\t\t\n\t\t\tDiv(Class: panel panel-default){\n                Form(){ \t\n\t\t\t\t\tDiv(Class: list-group-item text-center){\n\t\t\t\t\t\tSpan(Class: h3, Body: LangRes(transaction_history))\t\n\t\t\t\t\t}\n\t\t\t\t\tDBFind(history, src_history).Where(\"recipient_id=#v_member_id# or sender_id=#v_member_id#\").Custom(custom_members){\n\t\t\t\t\t\tDiv(Class: row){\n\t\t\t\t\t\t\tDiv(Class: col-md-5){\n\t\t\t\t\t\t\t\tIf(#prefix_avatar# != \"\"){\n\t\t\t\t\t\t\t\t\tImage(Src: \"#prefix_avatar#\", Class: img-circle).Style(width: 30px;  border: 1px solid #5A5D63; margin-right: 10px;)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tSpan(Class: h6 text-bold, Body: #prefix_member_name#(Address(#prefix_id#)))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tDiv(Class: col-md-1){\n\t\t\t\t\t\t\t\tIf(#sender_id# == #v_member_id#){\n\t\t\t\t\t\t\t\t\tEm(Class: fa fa-arrow-right)\n\t\t\t\t\t\t\t\t\tDBFind(members, src_members).Where(\"id = #recipient_id#\").Vars(\"other\")\n\t\t\t\t\t\t\t\t}.Else{\n\t\t\t\t\t\t\t\t\tEm(Class: fa fa-arrow-left)\n\t\t\t\t\t\t\t\t\tDBFind(members, src_members).Where(\"id = #sender_id#\").Vars(\"other\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tDiv(Class: col-md-5){\n\t\t\t\t\t\t\t\tLinkPage(Page: profile_view, PageParams: \"v_member_id=#other_id#\"){\n\t\t\t\t\t\t\t\t\tIf(#other_avatar# != \"\"){\n\t\t\t\t\t\t\t\t\t\tImage(Src: \"#other_avatar#\", Class: img-circle).Style(width: 30px;  border: 1px solid #5A5D63; margin-right: 10px;)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tSpan(Class: h6 text-bold, Body: #other_member_name#(Address(#other_id#)))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}.Custom(custom_amount){\n\t\t\t\t\t\tDiv(){\n\t\t\t\t\t\t\tIf(#sender_id# == #v_member_id#){\n\t\t\t\t\t\t\t\tSpan(Class: h6 red, Body: -#amount#)\n\t\t\t\t\t\t\t}.Else{\n\t\t\t\t\t\t\t\tSpan(Class: h6 green, Body: +#amount#)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}.Style(\".red { color: red; } .green { color: green; }\")\n\t\t\t\t\t}\n\t\t\t\t\tDiv(){\n\t\t\t\t\t\tTable(src_history, \"=custom_members,$amount$=custom_amount\")\n\t\t\t\t\t}\n\n                }\n            }\n\n        }\n        Div(Class: col-md-3)\n    }\n}"
        }
    ],
    "blocks": [],
    "menus": [],
    "parameters": [],
    "languages": [
        {
            "Name": "assigned_roles",
            "Trans": "{\"ru\":\"Назначенные роли\",\"en\":\"Assigned roles\"}",
            "Conditions": ""
        },
        {
            "Name": "transaction_history",
            "Trans": "{\"ru\":\"История транзакций\",\"en\":\"Transaction history\"}",
            "Conditions": ""
        }
    ],
    "contracts": [],
    "tables": [],
    "data": []
}