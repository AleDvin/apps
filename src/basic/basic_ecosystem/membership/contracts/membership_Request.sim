contract MembershipRequest{
    data{
        Eco int
        Username string "optional"
    }
    
    conditions{
        $table = Sprintf("%d_membership_requests", $Eco)
        var membership map
        membership = DBFind("membership_requests").Where("member_id=?", $key_id).Ecosystem($Eco).Row()
        if membership {
            info "You already sent request into this system"
        }
    }
    
    action{
        DBInsert($table, "member_id,username", $key_id, $Username)
    }
}