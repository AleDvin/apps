SetVar(now, Now("YYYY-MM-DD HH:MI:SS"))
Div(content-wrapper){
    Div(row){
        Div(col-lg-10 col-sm-offset-1 col-lg-8 col-lg-offset-2){
            Form(panel panel-default){
                Div(panel-heading text-right){
                    Button(Body: Run contracts tests, Contract: tests_Run, Class: btn btn-primary, Page: tests, PageParams: "date=#now#", Params: "Date=#now#")
                }
                Div(panel-body){
                    If(GetVar(date)){
                        Div(h3){Contract operation tests, DateTime(#date#)}
                        DBFind(Name: tests, Source: src).Where("date='#date#'").Order("id desc")
                        ForList(src){
                            If(#result#=="fail"){
                                SetVar(hl, text-danger)
                            }.Else{
                                SetVar(hl, text-success)
                            }
                            Div(form-group row #hl#){
                                Div(col-sm-6){#name#}
                                Div(col-sm-1){#result#}
                            }
                        }
                    }
                    Div(h3){Page operation tests, DateTime(#now#)}
                    Div(form-group){
                        If(){
                            SetVar(t1_fail, text-danger)
                        }.Else{
                            SetVar(t1_ok, text-success)
                        }
                        Div(row #t1_ok# #t1_fail#){
                            Div(col-sm-6){"normal If"}
                            Div(col-sm-1){
                                If(GetVar(t1_fail)){
                                    fail
                                }.Else{
                                    ok
                                }
                            }
                        }
                    }
                    Div(form-group){
                        SetVar("Condition1", 1).("Condition2", 0.3)
                        If(And(GetVar("Condition2") == 0.3, And(GetVar("Condition1") == 1, Or(GetVar("Condition2") == 0, GetVar("Condition1") == 0)))){
                            SetVar(t2_fail, text-danger)
                        }.Else{
                            SetVar(t2_ok, text-success)
                        }
                        Div(row #t2_ok# #t2_fail#){
                            Div(col-sm-6){"complex If, And, Or, GetVar with vars"}
                            Div(col-sm-1){
                                If(GetVar(t2_fail)){
                                    fail
                                }.Else{
                                    ok
                                }
                            }
                        }
                    }
                    Div(form-group){
                        SetVar("Condition1", 1).("Condition2", 0.3)
                        If(And(0.3 == 0.3, And(1 == 1, Or(0.3 == 0, 1 == 0)))){
                            SetVar(t3_fail, text-danger)
                        }.Else{
                            SetVar(t3_ok, text-success)
                        }
                        Div(row #t3_ok# #t3_fail#){
                            Div(col-sm-6){"complex If, And, Or, GetVar with values"}
                            Div(col-sm-1){
                                If(GetVar(t3_fail)){
                                    fail
                                }.Else{
                                    ok
                                }
                            }
                        }
                    }
                    Div(form-group){
                        SetVar("Condition3", 1)
                        If(#Condition3# == 2){
                            1 SetVar(t4_fail, text-danger)
                        }.ElseIf(#Condition3# == 1){
                            SetVar("Condition3", 2)
                            2 SetVar(t4_ok, text-success)
                        }.ElseIf(#Condition3# == 2){
                            3 SetVar(t4_fail, text-danger)
                        }.Else{
                            else SetVar(t4_fail, text-danger)
                        }
                        Div(row #t4_ok# #t4_fail#){
                            Div(col-sm-6){"a. If ElseIf Else"}
                            Div(col-sm-1){
                                If(GetVar(t4_fail)){
                                    fail
                                }.Else{
                                    ok
                                }
                            }
                        }
                    }
                    Div(form-group){
                        SetVar("Condition4", 1)
                        If(GetVar(Condition4) == 2){
                            1 SetVar(t5_fail, text-danger)
                        }.ElseIf(GetVar(Condition4) == 1){
                            SetVar("Condition4", 2)
                            2 SetVar(t5_ok, text-success)
                        }.ElseIf(GetVar(Condition4) == 2){
                            3 SetVar(t5_fail, text-danger)
                        }.Else{
                            else SetVar(t5_fail, text-danger)
                        }
                        Div(row #t5_ok# #t5_fail#){
                            Div(col-sm-6){"b. If ElseIf Else with GetVar"}
                            Div(col-sm-1){
                                If(GetVar(t5_fail)){
                                    fail
                                }.Else{
                                    ok
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}