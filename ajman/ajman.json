{
    "name": "Ajman property",
    "data": [
        {
            "Conditions": "true",
            "Value": "DBFind(applications).Where(\"name='Ajman property'\").Vars(application)\r\nSetVar(no_of_renewal, AppParam(App: #application_id#, Name:no_of_renewal))\r\nJsonToSource(Source:src_no_of_renewal, #no_of_renewal#)\r\nIf(#id# > 0){\r\n    DBFind(property_contracts).Where(\"remove = 0 and id = #id#\").Vars(contract)\r\n    SetVar(property_total_rent_amount, #contract_total_rent_amount#)\r\n    SetVar(property_security_deposit, #contract_security_deposit#)\r\n    SetVar(property_no_of_installments, #contract_no_of_installments#)\r\n    SetVar(c_status_signature, AppParam(App: #application_id#, Name: \"contract_status_signature\", Index: #contract_status_signature#))\r\n}.Else{\r\n    DBFind(properties).Where(\"id=#property_id#\").Vars(property)\r\n    SetVar(\"contract_id\", 0)\r\n    SetVar(\"contract_start_date\", \"\")\r\n    SetVar(\"contract_end_date\", \"\")\r\n}\r\nIf(#mode# == view){\r\n    SetVar(owner_can_edit, 0)\r\n    SetVar(tenant_can_edit, 0)\r\n}.Else{\r\n    SetVar(owner_can_edit, And(#key_id# == #contract_owner_id#, GetVar(contract_status_signature) >= 2, GetVar(contract_status_signature) < 5))\r\n    SetVar(tenant_can_edit, Or(GetVar(contract_id) < 1, And(#key_id# == #contract_tenant_id#, GetVar(contract_status_signature) <= 1)))    \r\n}\r\nSetVar(owner_can_sign, And(#key_id# == #contract_owner_id#, GetVar(contract_status_signature) >= 2, GetVar(contract_status_signature) < 5))\r\nSetVar(tenant_can_sign, And(#key_id# == #contract_tenant_id#, GetVar(contract_status_signature) == 4))\r\nIf(#tenant_can_edit#){\r\n    Data(basic, \"name,type,req,src,value\"){\r\n        total_rent_amount,view,,,GetVar(property_total_rent_amount)\r\n        security_deposit,view,,,GetVar(property_security_deposit)\r\n        no_of_installments,view,,,GetVar(property_no_of_installments)\r\n        with_parking,checkbox,,,GetVar(contract_with_parking)\r\n        start_date,datetime,*,,#contract_start_date#\r\n        end_date,datetime,*,,#contract_end_date#\r\n        signature_status,view,,,GetVar(c_status_signature)\r\n    }\r\n}.ElseIf(#owner_can_edit#){\r\n    Data(basic, \"name,type,req,src,value\"){\r\n        total_rent_amount,view,,,GetVar(property_total_rent_amount)\r\n        security_deposit,view,,,GetVar(property_security_deposit)\r\n        no_of_installments,view,,,GetVar(property_no_of_installments)\r\n        with_parking,checkbox,,,GetVar(contract_with_parking)\r\n        start_date,datetime,*,,#contract_start_date#\r\n        end_date,datetime,*,,#contract_end_date#\r\n        terms_and_conditions_en,textarea,*,,GetVar(contract_terms_and_conditions_en)\r\n        terms_and_conditions_ar,textarea,*,,GetVar(contract_terms_and_conditions_ar)\r\n        signature_status,view,,,GetVar(c_status_signature)\r\n    }\r\n}.Else{\r\n    SetVar(start_date, DateTime(#contract_start_date#, \"YYYY-MM-DD\"))\r\n    SetVar(end_date, DateTime(#contract_end_date#, \"YYYY-MM-DD\"))\r\n    Data(basic, \"name,type,req,src,value\"){\r\n        total_rent_amount,view,,,GetVar(contract_total_rent_amount)\r\n        security_deposit,view,,,GetVar(contract_security_deposit)\r\n        no_of_installments,view,,,GetVar(contract_no_of_installments)\r\n        with_parking,view,,,GetVar(contract_with_parking)\r\n        start_date,view,,,#start_date#\r\n        end_date,view,,,#end_date#\r\n        terms_and_conditions_en,view_text,,,GetVar(contract_terms_and_conditions_en)\r\n        terms_and_conditions_ar,view_text,,,GetVar(contract_terms_and_conditions_ar)\r\n        signature_status,view,,,GetVar(c_status_signature)\r\n    }\r\n}\r\nForList(basic){\r\n    Div(col-md-6){\r\n        Div(col-md-3){\r\n            Label(Body: LangRes(#name#), For: #name#)\r\n            If(#req#==*){\r\n                Span(*,text-warning)\r\n            }\r\n        }\r\n        SetVar(add_class, \"col-md-8\")\r\n        If(#type# == view){\r\n            SetVar(add_class, \"col-md-8 text-right\")\r\n        }\r\n        If(Or(#type# == textarea, #type#==view_text)){\r\n            SetVar(add_class, \"col-md-12\")\r\n        }\r\n        Div(#add_class#){\r\n            If(#type#==input){\r\n                Input(Name:#name#, Value:#value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n            }\r\n            If(#type#==textarea){\r\n                Input(Name:#name#, Type:textarea, Value:#value#).Style(resize:vertical;min-height:200px;background:#dfdfdf;)\r\n            }\r\n            If(#type#==password){\r\n                Input(Name:#name#, Type:password, Value:#value#)\r\n            }\r\n            If(#type#==datetime){\r\n                SetVar(date, DateTime(#value#, \"YYYY-MM-DD\"))\r\n                Input(Name:#name#, Type:date, Value: #date#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n            }\r\n            If(#type#==file){\r\n                Input(Name:#name#, Type:file)\r\n            }\r\n            If(#type#==checkbox){\r\n                If(#value# == 1){\r\n                    SetVar(checked, true)\r\n                }\r\n                Input(Name:#name#, Type:checkbox, Value: #checked#).Style(background: #dfdfdf;width:20px)\r\n            }\r\n            If(#type#==radio){\r\n                RadioGroup(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(display:inline-block;margin-right:20px;)\r\n            }\r\n            If(#type#==select){\r\n                Select(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n            }\r\n            If(#type#==json_select){\r\n                Select(Name:#name#, Source: #src#, NameColumn:value, ValueColumn: key, Value: #value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n            }\r\n            If(#type#==view){\r\n                Span(Body: #value#)\r\n            }\r\n            If(#type#==view_text){\r\n                Span(Body: #value#)\r\n            }\r\n        }\r\n    }\r\n}",
            "Name": "ajman_contract",
            "Type": "blocks"
        },
        {
            "Conditions": "true",
            "Value": "DBFind(applications).Where(\"name='Ajman property'\").Vars(application)\r\nIf(#id# > 0){\r\n    DBFind(\"property_contracts\").WhereId(#id#).Vars(contract)\r\n\tSetVar(can_edit, And(#key_id# == #contract_owner_id#, GetVar(contract_status_signature) == 5))\r\n\tDBFind(Name: attachments, Source: src_attachments).Where(\"object_id=#id# and (object_type=3 or object_type=4)\").Custom(attachment_type){\r\n\t\tAppParam(App: #application_id#, Name:attachment_types, Index: #attachment_type#)\r\n\t}\r\n\tTable(src_attachments, \"ID=id,Name=name,Type=custom_attachment_type,Expiry date=expiry_date,Notes=notes\")\r\n}",
            "Name": "ajman_contract_attachments",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "MenuItem(Title:\"Application\", Page:apps_list, Icon:\"icon-folder\")\r\nMenuItem(Title:\"Ecosystem parameters\", Page:params_list, Icon:\"icon-settings\")\r\nMenuItem(Title:\"Menu\", Page:menus_list, Icon:\"icon-list\")\r\nMenuItem(Title:\"Import\", Page:import_upload, Icon:\"icon-cloud-upload\")\r\nMenuItem(Title:\"Export\", Page:export_resources, Icon:\"icon-cloud-download\")\r\nMenuGroup(Title:\"Resources\", Icon:\"icon-share\"){\r\n    MenuItem(Title:\"Pages\", Page:app_pages, Icon:\"icon-screen-desktop\")\r\n    MenuItem(Title:\"Blocks\", Page:app_blocks, Icon:\"icon-grid\")\r\n    MenuItem(Title:\"Tables\", Page:app_tables, Icon:\"icon-docs\")\r\n    MenuItem(Title:\"Contracts\", Page:app_contracts, Icon:\"icon-briefcase\")\r\n    MenuItem(Title:\"Application parameters\", Page:app_params, Icon:\"icon-wrench\")\r\n    MenuItem(Title:\"Language resources\", Page:app_langres, Icon:\"icon-globe\")\r\n    MenuItem(Title:\"Binary data\", Page:app_binary, Icon:\"icon-layers\")\r\n}",
            "Name": "admin_menu",
            "Type": "menu"
        },
        {
            "Conditions": "ContractAccess(\"@1EditMenu\")",
            "Value": "MenuGroup(Title: \"Basic\", Icon: \"icon-folder\"){\r\n    MenuItem(Title:$profile$, Page:profile_view, Icon:\"fa icon-user\")\r\n    MenuItem(Title:$membership$, Page:members_list, Icon:\"fa icon-people\")\r\n    MenuGroup(Title:$notifications$, Icon:\"fa fa-bell-o\"){\r\n        MenuItem(Title:$single_notifics$, Page:notifications_single, Icon:\"fa fa-bell-o\")\r\n        MenuItem(Title:$role_notifics$, Page:notifications_roles, Icon:\"fa fa-bullhorn\")\r\n        MenuItem(Title:$test_page$, Page:notifications_testpage, Icon:\"icon-settings\")\r\n    }\r\n    MenuItem(Title:$roles$, Page:roles_list, Icon:\"fa fa-list-ul\")\r\n    MenuItem(Title: $catalog_ecosystems$, Page: catalog_ecosystems, Icon:\"fa fa-book\")\r\n    MenuGroup(Title:$admin$, Icon:\"fa icon-settings\"){\r\n        MenuItem(Title:$tokens_transfer$, Page:money_transfer, Icon:\"icon-energy\")\r\n        MenuItem(Title:$new_ecosystem$, Page:ecosystem_new, Icon:\"icon-globe\")\r\n    }\r\n    MenuGroup(Title:$voting$, Icon:\"fa fa-edit\"){\r\n        MenuItem(Title:$voting$, Page:voting_list, Icon:\"fa fa-edit\")\r\n    }\r\n}\r\nMenuGroup(Title: \"Договора\", Icon: \"icon-folder\"){\r\n    MenuItem(Title:\"Все договора\", Page:ajman_contract_list, Icon:\"icon-layers\", Params: \"mode=all\")\r\n    MenuItem(Title:\"Мои договора\", Page:ajman_contract_list, Icon:\"icon-layers\", Params: \"mode=my\")\r\n    MenuItem(Title:\"Подписанные договора\", Page:ajman_contract_list, Icon:\"icon-layers\", Params: \"mode=signed\")\r\n    MenuItem(Title:\"Создание договора\", Page:ajman_contract_add, Icon:\"fa fa-edit\", Params: \"property_id=2,unit_id=0,owner_id=7207124132448258015\")\r\n}\r\nMenuItem(Title:$business_manager$, Page:business_manager, Icon:\"fa fa-edit\")\r\nMenuItem(Title:$business_process$, Page:business_process, Icon:\"fa fa-edit\")\r\nMenuItem(Title:$ajman_user_registration$, Page:ajman_user_registration, Icon:\"fa fa-edit\")\r\nMenuItem(Title:\"Ajman_companies\", Page:Ajman_companies, Icon:\"icon-layers\")\r\nMenuItem(Title:\"Ajman_persones\", Page:Ajman_persones, Icon:\"icon-layers\")\r\n\r\nMenuItem(Title:\"Ajman Roles\", Page:ajamal_enter_user_role, Icon:\"fa fa-edit\")\r\n\r\nMenuGroup(Title: \"Property & Units\", Icon: \"icon-folder\"){\r\n    MenuItem(Title:\"Add Property\", Page:property_add, Icon:\"icon-folder\")\r\n    MenuItem(Title:\"Properties list\", Page:property_list, Icon:\"icon-folder\")\r\n    MenuItem(Title:\"Add Unit\", Page:units_add, Icon:\"icon-folder\")\r\n    MenuItem(Title:\"Units list\", Page:units_list, Icon:\"icon-folder\")\r\n}\r\n\r\nMenuGroup(Title: \"Layout\", Icon: \"icon-layers\"){\r\n    MenuItem(Title:aj_1, Page:aj_1, Icon:\"fa fa-edit\")\r\n    MenuItem(Title:aj_2, Page:aj_2, Icon:\"fa fa-edit\")\r\n    MenuItem(Title:aj_3, Page:aj_3, Icon:\"fa fa-edit\")\r\n    MenuItem(Title:aj_4, Page:aj_4, Icon:\"fa fa-edit\")\r\n    MenuItem(Title:aj_5, Page:aj_5, Icon:\"fa fa-edit\")\r\n}",
            "Name": "default_menu",
            "Type": "menu"
        },
        {
            "Name": "Address",
            "Trans": "{\"en\":\"Address\", \"ar\":\"عنوان\"}",
            "Type": "languages"
        },
        {
            "Name": "BasicData",
            "Trans": "{\"en\":\"Basic Data\", \"ar\":\"البيانات الأساسية\"}",
            "Type": "languages"
        },
        {
            "Name": "CommunicateData",
            "Trans": "{\"en\":\"Communicate Data\", \"ar\":\"التواصل البيانات\"}",
            "Type": "languages"
        },
        {
            "Name": "Communication",
            "Trans": "{\"en\":\"Communication\", \"ar\":\"الاتصالات\"}",
            "Type": "languages"
        },
        {
            "Name": "DateOfBirth",
            "Trans": "{\"en\":\"Date Of Birth\", \"ar\":\"تاريخ الميلاد\"}",
            "Type": "languages"
        },
        {
            "Name": "Email",
            "Trans": "{\"en\":\"Email\", \"ar\":\"البريد الإلكتروني\"}",
            "Type": "languages"
        },
        {
            "Name": "EmirateIdExpieryDate",
            "Trans": "{\"en\":\"EmirateId Expiry Date\", \"ar\":\"تاريخ انتهاء الهوية\"}",
            "Type": "languages"
        },
        {
            "Name": "EmirateNumber",
            "Trans": "{\"en\":\"Emirate Number\", \"ar\":\"رقم الهوية الإماراتية\"}",
            "Type": "languages"
        },
        {
            "Name": "Fax",
            "Trans": "{\"en\":\"Fax\", \"ar\":\"فاكس\"}",
            "Type": "languages"
        },
        {
            "Name": "FirstNameAr",
            "Trans": "{\"en\":\"First Name |Arabic\", \"ar\":\"الاسم الاول |العربية\"}\n",
            "Type": "languages"
        },
        {
            "Name": "FirstNameEn",
            "Trans": "{\"en\":\"First Name |English\", \"ar\":\"الاسم الاول |الإنجليزية\"}",
            "Type": "languages"
        },
        {
            "Name": "Gender",
            "Trans": "{\"en\":\"Gender\", \"ar\":\"الجنس\"}\n",
            "Type": "languages"
        },
        {
            "Name": "Language",
            "Trans": "{\"en\":\"Language\", \"ar\":\"لغة\"}",
            "Type": "languages"
        },
        {
            "Name": "LastNameAr",
            "Trans": "{\"en\":\"Last Name |Arabic\", \"ar\":\"اسم العائلة |العربية\"}",
            "Type": "languages"
        },
        {
            "Name": "LastNameEn",
            "Trans": "{\"en\":\"Last Name |English\", \"ar\":\"اسم العائلة |الإنجليزية\"}",
            "Type": "languages"
        },
        {
            "Name": "Mobile",
            "Trans": "{\"en\":\"Mobile\", \"ar\":\"التليفون المحمول\"}",
            "Type": "languages"
        },
        {
            "Name": "ModelId",
            "Trans": "{\n    \"en\": \"Model ID\",\n    \"ar\": \"نموذج التعريف\"\n}",
            "Type": "languages"
        },
        {
            "Name": "Nationality",
            "Trans": "{\"en\":\"Nationality\", \"ar\":\"الجنسية\"}",
            "Type": "languages"
        },
        {
            "Name": "PassportExpieryDate",
            "Trans": "{\"en\":\"Passport Expiery Date\", \"ar\":\"تاريخ انتهاء الجواز\"}",
            "Type": "languages"
        },
        {
            "Name": "PassportId",
            "Trans": "{\"en\":\"Passport Id\", \"ar\":\"رقم الجواز\"}",
            "Type": "languages"
        },
        {
            "Name": "PassportIdImage",
            "Trans": "{\"en\":\"Passport Image\", \"ar\":\"صورة الجواز\"}",
            "Type": "languages"
        },
        {
            "Name": "Password",
            "Trans": "{\"en\":\"Password\", \"ar\":\"كلمة المرور\"}",
            "Type": "languages"
        },
        {
            "Name": "Phone",
            "Trans": "{\"en\":\"Phone\", \"ar\":\"هاتف\"}",
            "Type": "languages"
        },
        {
            "Name": "PostOffice",
            "Trans": "{\"en\":\"Post Office\", \"ar\":\"مكتب البريد\"}",
            "Type": "languages"
        },
        {
            "Name": "ProfileImage",
            "Trans": "{\"en\":\"Profile Image\", \"ar\":\"صورة الملف الشخصي\"}",
            "Type": "languages"
        },
        {
            "Name": "Username",
            "Trans": "{\"en\":\"Username\", \"ar\":\"اسم المستخدم\"}",
            "Type": "languages"
        },
        {
            "Name": "add_commercial_contract",
            "Trans": "{\n    \"en\": \"Add Commercial Contract\",\n    \"ar\": \"إضافة عقد تجاري\"\n}",
            "Type": "languages"
        },
        {
            "Name": "ajman_manager_approved_request",
            "Trans": "{\n    \"en\": \"Manager approved your request\",\n    \"ar\": \"وافق المدير على طلبك\"\n}",
            "Type": "languages"
        },
        {
            "Name": "ajman_manager_rejected_request",
            "Trans": "{\"ar\":\"رفض المدير طلبك\",\"en\":\"Manager rejected your request\"}",
            "Type": "languages"
        },
        {
            "Name": "ajman_register_new_user",
            "Trans": "{\"en\":\"Register New User\", \"ar\":\"تسجيل حساب جديد\"}",
            "Type": "languages"
        },
        {
            "Name": "ajman_registration_info",
            "Trans": "{\"en\":\"By registering here, you will be able to access available electronic services. During the registration, the user will be requested to add personal information as specified in the passport or identification card. Afterwards, the account gets reviewed and activated by the department.\", \"ar\":\"يُمكِّن هذا النوع من التسجيل من الوصول إلى الخدمات الإلكترونية المؤمنة. أثناء عملية التسجيل، سيُطلَب من المستخدم إدخال معلومات الشخصية كما هو مسجل في وثيقة الجواز أو بطاقة الهوية. من بعدها يتم تفعيل الحساب من قبل الدائرة بعد مراجعة البيانات.\"}",
            "Type": "languages"
        },
        {
            "Name": "ajman_user_registration",
            "Trans": "{\"en\":\"Unified Registration Portal\", \"ar\":\"نظام التسجيل الموحد\"}",
            "Type": "languages"
        },
        {
            "Name": "attachment_type",
            "Trans": "{\n    \"en\": \"Attachment type\",\n    \"ar\": \"نوع المرفق\"\n}",
            "Type": "languages"
        },
        {
            "Name": "attachments",
            "Trans": "{\n    \"en\": \"Attachements\",\n    \"ar\": \"المرفقات\"\n}",
            "Type": "languages"
        },
        {
            "Name": "back",
            "Trans": "{\"en\":\"Back\",\"ar\":\"قب\"}",
            "Type": "languages"
        },
        {
            "Name": "business_events",
            "Trans": "{\n    \"en\": \"BusinessEvents\",\n    \"ar\": \"أحداث الأعمال\",\n    \"ru\": \"Деловые события\"\n}",
            "Type": "languages"
        },
        {
            "Name": "completion_certification_or_site_plan",
            "Trans": "{\"en\":\"Completion certification or Site plan\",\"ar\":\"وا المخطط\"}",
            "Type": "languages"
        },
        {
            "Name": "contract_details",
            "Trans": "{\n    \"en\":\"Contract details\",\n    \"ar\": \"تفاصيل العقد\"\n}",
            "Type": "languages"
        },
        {
            "Name": "contract_form",
            "Trans": "{\"en\":\"Contract form\",\"ar\":\"شكل عقد\"}",
            "Type": "languages"
        },
        {
            "Name": "delegation_form_power_of_attorney_authorization_letter",
            "Trans": "{\"en\":\"Delegation Form | power of attorney| Authorization letter\",\"ar\":\"استمارة تفويض | تفويض | خطاب تفويض\"}",
            "Type": "languages"
        },
        {
            "Name": "duration",
            "Trans": "{\"en\":\"Duration\",\"ar\":\"المدة الزمنية\"}",
            "Type": "languages"
        },
        {
            "Name": "expiry_date",
            "Trans": "{\"en\":\"Expiry date(if has)\",\"ar\":\"تهاء مطلوب \"}",
            "Type": "languages"
        },
        {
            "Name": "file",
            "Trans": "{\n    \"en\": \"File\",\n    \"ar\": \"ملف\"\n}",
            "Type": "languages"
        },
        {
            "Name": "hygiene_certificate",
            "Trans": "{\"en\":\"Hygiene certificate: Al Ryada for Al Rawda & Mow, Mimas for Al Helio, AIIMs – for other districts\",\"ar\":\":كة النظافة ر ش -  <<كة ميماس ر ش الحليو / الحلةو -  << كة الريادة ر ش الروضة والموي هات -  << كة إيمز قربو ر ش جميع المناطق ما عدا\"}",
            "Type": "languages"
        },
        {
            "Name": "landlord_title_deed",
            "Trans": "{\"en\":\"Landlord title deed\",\"ar\":\"صك ملكية المالك\"}",
            "Type": "languages"
        },
        {
            "Name": "license",
            "Trans": "{\"en\":\"License\",\"ar\":\"الرخةص\"}",
            "Type": "languages"
        },
        {
            "Name": "manager_check",
            "Trans": "{\n    \"en\": \"Manager Check\",\n    \"ar\": \"تحقق من المدير\"\n}",
            "Type": "languages"
        },
        {
            "Name": "next",
            "Trans": "{\"en\":\"Next\",\"ar\":\"التالى\"}",
            "Type": "languages"
        },
        {
            "Name": "no_of_installments",
            "Trans": "{\"en\":\"No. of installments\",\"ar\":\"عدد الاقساط\"}",
            "Type": "languages"
        },
        {
            "Name": "no_of_renewal",
            "Trans": "{\"en\":\"No. of renewal\",\"ar\":\"تا التجديد حتى النا\"}",
            "Type": "languages"
        },
        {
            "Name": "notes",
            "Trans": "{\"en\":\"Notes\",\"ar\":\" ملاحظا ت\"}",
            "Type": "languages"
        },
        {
            "Name": "owner_passport",
            "Trans": "{\"en\":\"Owner Passport\",\"ar\":\"جواز المالك\"}",
            "Type": "languages"
        },
        {
            "Name": "owner_signature_date",
            "Trans": "{\n    \"en\": \"Owner signature date\",\n    \"ar\": \"تاريخ توقيع المالك\"\n}",
            "Type": "languages"
        },
        {
            "Name": "owner_uae_id",
            "Trans": "{\"en\":\"Owner UAE ID\",\"ar\":\"مالك هوية دولة الإمارات العربية المتحدة\"}",
            "Type": "languages"
        },
        {
            "Name": "registration_result",
            "Trans": "{\n    \"en\": \"Registration Result\",\n    \"ar\": \"نتيجة التسجيل\"\n}",
            "Type": "languages"
        },
        {
            "Name": "security_deposit",
            "Trans": "{\n    \"en\": \"Security deposit\",\n    \"ar\": \"مبلغ التأمين\"\n}",
            "Type": "languages"
        },
        {
            "Name": "select_the_property",
            "Trans": "{\n    \"en\": \"Select the property\",\n    \"ar\": \"اختر العقار\"\n}",
            "Type": "languages"
        },
        {
            "Name": "sewerage_receipt",
            "Trans": "{\"en\":\"Sewerage receipt\",\"ar\":\"حص\"}",
            "Type": "languages"
        },
        {
            "Name": "start_and_end_date",
            "Trans": "{\"en\":\"Start and End date\",\"ar\":\"اية ونهاية العقد\"}",
            "Type": "languages"
        },
        {
            "Name": "tenant_pasport",
            "Trans": "{\n    \"en\": \"Tenant Passport\",\n    \"ar\": \"جواز المستأجر\"\n}",
            "Type": "languages"
        },
        {
            "Name": "tenant_signature_date",
            "Trans": "{\n    \"en\": \"Tenant signature date\",\n    \"ar\": \"تاريخ توقيع المستأجر\"\n}",
            "Type": "languages"
        },
        {
            "Name": "tenant_uae_id",
            "Trans": "{\"en\":\"Tenant UAE ID\",\"ar\":\"مستأجر الامارات\"}",
            "Type": "languages"
        },
        {
            "Name": "terms_and_conditions",
            "Trans": "{\"en\":\"Terms and Conditions\",\"ar\":\"طو والاحكام باللةغ\"}",
            "Type": "languages"
        },
        {
            "Name": "total_rent_amount",
            "Trans": "{\n    \"en\": \"Total rent amount\",\n    \"ar\": \"مجموع مبلغ الإيجار\"\n}",
            "Type": "languages"
        },
        {
            "Name": "upload_attachment",
            "Trans": "{\n    \"en\": \"Upload attachment\",\n    \"ar\": \"تحميل المرفقات\"\n}",
            "Type": "languages"
        },
        {
            "Name": "with_parking",
            "Trans": "{\"en\":\"With parking\",\"ar\":\"فق\"}",
            "Type": "languages"
        },
        {
            "Name": "attachments",
            "Columns": "[{\"name\":\"file\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"name\",\"type\":\"varchar\",\"conditions\":\"true\"},{\"name\":\"notes\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"object_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"expiry_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"object_type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"attachment_type\",\"type\":\"number\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\": \"true\", \"update\": \"true\", \"new_column\": \"ContractConditions(\\\"MainCondition\\\")\"}",
            "Type": "tables"
        },
        {
            "Name": "commercial_contracts",
            "Columns": "[{\"name\":\"remove\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"status\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"unit_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"duration\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"end_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"company_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"start_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"date_create\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"property_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"with_parking\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"no_of_renewal\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"license_number\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"security_deposit\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"total_rent_amount\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"application_number\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"no_of_installments\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"owner_signature_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"tenant_signature_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"terms_and_conditions_ar\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"terms_and_conditions_en\",\"type\":\"text\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\": \"ContractConditions(\\\"MainCondition\\\")\", \"update\": \"ContractConditions(\\\"MainCondition\\\")\", \"new_column\": \"ContractConditions(\\\"MainCondition\\\")\"}",
            "Type": "tables"
        },
        {
            "Name": "property_contracts",
            "Columns": "[{\"name\":\"type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"remove\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"status\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"unit_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"duration\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"end_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"owner_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"tenant_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"company_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"owner_type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"start_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"date_create\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"landlord_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"property_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"no_submitted\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"with_parking\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"no_of_renewal\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"license_number\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"security_deposit\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"status_signature\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"applications_fees\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"total_rent_amount\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"application_number\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"no_of_installments\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"owner_signature_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"tenant_signature_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"terms_and_conditions_ar\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"terms_and_conditions_en\",\"type\":\"text\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\": \"true\", \"update\": \"true\", \"new_column\": \"true\"}",
            "Type": "tables"
        },
        {
            "Name": "residential_contracts",
            "Columns": "[{\"name\":\"remove\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"status\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"unit_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"duration\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"end_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"owner_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"tenant_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"owner_type\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"start_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"date_create\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"landlord_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"property_id\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"with_parking\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"no_of_renewal\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"security_deposit\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"total_rent_amount\",\"type\":\"money\",\"conditions\":\"true\"},{\"name\":\"no_of_installments\",\"type\":\"number\",\"conditions\":\"true\"},{\"name\":\"owner_signature_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"tenant_signature_date\",\"type\":\"datetime\",\"conditions\":\"true\"},{\"name\":\"terms_and_conditions_ar\",\"type\":\"text\",\"conditions\":\"true\"},{\"name\":\"terms_and_conditions_en\",\"type\":\"text\",\"conditions\":\"true\"}]",
            "Permissions": "{\"insert\": \"ContractConditions(\\\"MainCondition\\\")\", \"update\": \"ContractConditions(\\\"MainCondition\\\")\", \"new_column\": \"ContractConditions(\\\"MainCondition\\\")\"}",
            "Type": "tables"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Email,Mobile",
            "Name": "communication",
            "Type": "app_params"
        },
        {
            "Conditions": "true",
            "Value": "Not Submited,Submited,Sent Back,Accepted,Paid,AM Approved,Rejected",
            "Name": "contract_status",
            "Type": "app_params"
        },
        {
            "Conditions": "true",
            "Value": "Created,Request,Owner Edited,Owner Signed,Signed,Cancel",
            "Name": "contract_status_signature",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Male,Female",
            "Name": "gender",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Arabic,English",
            "Name": "language",
            "Type": "app_params"
        },
        {
            "Conditions": "true",
            "Value": "17",
            "Name": "manager_role_id",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "{\n    \"0\": \"Nationality\",\n    \"12423\": \"Ghana\",\n    \"12424\": \"United Arab Emirates\",\n    \"12426\": \"Saudi Arabia\",\n    \"12427\": \"Kuwait\",\n    \"12428\": \"Bahrain\",\n    \"12429\": \"Oman\",\n    \"12430\": \"Qatar\",\n    \"12431\": \"Syrian Arab Republic\",\n    \"12432\": \"Lebanon\",\n    \"12433\": \"Jordan\",\n    \"12435\": \"Palestinian Territory\",\n    \"12436\": \"Iraq\",\n    \"12437\": \"Yemen\",\n    \"12438\": \"Egypt\",\n    \"12439\": \"Libyan Arab Jamahiriya\",\n    \"12440\": \"Tunisia\",\n    \"12441\": \"Algeria\",\n    \"12442\": \"Morocco\",\n    \"12443\": \"Mauritania\",\n    \"12444\": \"Sudan\",\n    \"12445\": \"Somalia\",\n    \"12446\": \"Djibouti\",\n    \"12447\": \"Afghanistan\",\n    \"12448\": \"Argentina\",\n    \"12449\": \"Australia\",\n    \"12450\": \"Austria\",\n    \"12451\": \"Bangladesh\",\n    \"12452\": \"Belgium\",\n    \"12453\": \"Bolivia\",\n    \"12454\": \"Brazil\",\n    \"12455\": \"Brunei Darussalam\",\n    \"12456\": \"Bulgaria\",\n    \"12457\": \"Canada\",\n    \"12458\": \"Chile\",\n    \"12459\": \"China\",\n    \"12460\": \"Colombia\",\n    \"12461\": \"Czech Republic\",\n    \"12462\": \"Slovakia\",\n    \"12463\": \"Denmark\",\n    \"12464\": \"Ecuador\",\n    \"12465\": \"El Salvador\",\n    \"12466\": \"Ethiopia\",\n    \"12467\": \"Finland\",\n    \"12468\": \"France\",\n    \"12469\": \"Germany\",\n    \"12470\": \"Greece\",\n    \"12471\": \"Guatemala\",\n    \"12472\": \"Iceland\",\n    \"12473\": \"India\",\n    \"12474\": \"Indonesia\",\n    \"12475\": \"Islamic Republic of Iran\",\n    \"12476\": \"Ireland\",\n    \"12477\": \"Italy\",\n    \"12478\": \"Cote d’lvoire\",\n    \"12479\": \"Japan\",\n    \"12480\": \"Kenya\",\n    \"12481\": \"Korea North\",\n    \"12482\": \"Republic of Korea\",\n    \"12483\": \"Luxembourg\",\n    \"12484\": \"Malaysia\",\n    \"12485\": \"Mexico\",\n    \"12486\": \"Mongolia\",\n    \"12487\": \"Nepal\",\n    \"12488\": \"Netherlands\",\n    \"12489\": \"New Zealand\",\n    \"12490\": \"Niger\",\n    \"12491\": \"Nigeria\",\n    \"12492\": \"Norway\",\n    \"12493\": \"Pakistan\",\n    \"12494\": \"Panama\",\n    \"12495\": \"Paraguay\",\n    \"12496\": \"Peru\",\n    \"12497\": \"Philippines\",\n    \"12498\": \"Poland\",\n    \"12499\": \"Portugal\",\n    \"12500\": \"Romania\",\n    \"12501\": \"Singapore\",\n    \"12502\": \"South Africa\",\n    \"12503\": \"Spain\",\n    \"12504\": \"Sri Lanka\",\n    \"12505\": \"Switzerland\",\n    \"12506\": \"Taiwan, Province of China\",\n    \"12507\": \"Tanzania\",\n    \"12508\": \"Thailand\",\n    \"12509\": \"Turkey\",\n    \"12510\": \"Uganda\",\n    \"12511\": \"United Kingdom\",\n    \"12512\": \"United States of America\",\n    \"12513\": \"Armenia\",\n    \"12514\": \"Azerbaijan\",\n    \"12515\": \"Georgia\",\n    \"12516\": \"Kazakstan\",\n    \"12517\": \"Kyrgyzstan\",\n    \"12518\": \"Latvia\",\n    \"12519\": \"Russian Federation\",\n    \"12520\": \"Tajikistan\",\n    \"12521\": \"Turkmenistan\",\n    \"12522\": \"Ukraine\",\n    \"12523\": \"Uzbekistan\",\n    \"12524\": \"Uruguay\",\n    \"12525\": \"Venezuela\",\n    \"12526\": \"Viet Nam\",\n    \"12527\": \"Croatia\",\n    \"12528\": \"Macedonia\",\n    \"12529\": \"Serbia\",\n    \"12530\": \"Serbia\",\n    \"12531\": \"Serbia and Montenegro\",\n    \"12532\": \"Democratic Rep. of Congo\",\n    \"12533\": \"Zambia\",\n    \"12534\": \"Zimbabwe\",\n    \"12535\": \"Unspecified Nationality\",\n    \"12536\": \"Eritrea\",\n    \"12537\": \"Mali\",\n    \"12538\": \"Lithuania\",\n    \"12539\": \"Cyprus\",\n    \"12540\": \"Tonga\",\n    \"12541\": \"Sierra Leone\",\n    \"12542\": \"Senegal\",\n    \"12543\": \"Fiji\",\n    \"12544\": \"Belize\",\n    \"12545\": \"Guinea\",\n    \"12546\": \"Turks and Caicos Islands\",\n    \"12547\": \"Togo\",\n    \"12548\": \"Tokelau\",\n    \"12549\": \"Timor-Leste\",\n    \"12550\": \"Trinidad and Tobago\",\n    \"12551\": \"Tuvalu\",\n    \"12552\": \"U S Minor Outlying Isl.\",\n    \"12553\": \"Holy See (Vatican)\",\n    \"12554\": \"St Vincent and Grenadines\",\n    \"12555\": \"Liberia\",\n    \"12556\": \"Virgin Islands, British\",\n    \"12557\": \"Virgin Isla USS\",\n    \"12558\": \"Virgin Islands, US\",\n    \"12559\": \"Vanuatu\",\n    \"12560\": \"Wallis and Futuna\",\n    \"12561\": \"Samoa\",\n    \"12562\": \"Kosovo\",\n    \"12563\": \"South Sudan\",\n    \"12564\": \"Montenegro\",\n    \"12565\": \"Burkina Faso\",\n    \"12566\": \"Gabon\",\n    \"12567\": \"Bahamas\",\n    \"12568\": \"Dominican Republic\",\n    \"12569\": \"Republic of Moldova\",\n    \"12570\": \"Hong Kong\",\n    \"12571\": \"Mauritius\",\n    \"12572\": \"Bosnia and Herzegovina\",\n    \"12573\": \"Comoros\",\n    \"12574\": \"Mozambique\",\n    \"12575\": \"Cameroon\",\n    \"12576\": \"Hungary\",\n    \"12577\": \"Myanmar\",\n    \"12578\": \"Chad\",\n    \"12580\": \"Aruba\",\n    \"12581\": \"Malta\",\n    \"12582\": \"Mongolia\",\n    \"12583\": \"Northern Mariana Islands\",\n    \"12584\": \"Moldova, Republic Of\",\n    \"12585\": \"Montserrat\",\n    \"12586\": \"Malawi\",\n    \"12587\": \"Mayotte\",\n    \"12588\": \"Namibia\",\n    \"12589\": \"New Caledonia\",\n    \"12590\": \"Norfolk Island\",\n    \"12591\": \"Angola\",\n    \"12592\": \"Nicaragua\",\n    \"12593\": \"Anguilla\",\n    \"12594\": \"Niue\",\n    \"12595\": \"Nauru\",\n    \"12596\": \"Aland Islands\",\n    \"12597\": \"Palestinian Territory, Occupied\",\n    \"12598\": \"Albania\",\n    \"12599\": \"Andorra\",\n    \"12600\": \"Pitcairn\",\n    \"12601\": \"Palau\",\n    \"12602\": \"Papua New Guinea\",\n    \"12603\": \"Netherlands Antilles\",\n    \"12604\": \"Puerto Rico\",\n    \"12605\": \"French Polynesia\",\n    \"12606\": \"Reunion\",\n    \"12607\": \"American Samoa\",\n    \"12608\": \"Rwanda\",\n    \"12609\": \"Antarctica\",\n    \"12610\": \"Svalbard And Jan Mayen\",\n    \"12611\": \"Antigua And Barbuda\",\n    \"12612\": \"South Georgia And The South Sandwich Islands\",\n    \"12613\": \"Saint Helena\",\n    \"12614\": \"Solomon Islands\",\n    \"12615\": \"San Marino\",\n    \"12616\": \"Saint Pierre And Miquelon\",\n    \"12617\": \"Sao Tome And Principe\",\n    \"12618\": \"Suriname\",\n    \"12619\": \"Slovenia\",\n    \"12620\": \"Sweden\",\n    \"12621\": \"Swaziland\",\n    \"12622\": \"Seychelles\",\n    \"12623\": \"Tanzania, United Republic Of\",\n    \"12624\": \"United States\",\n    \"12625\": \"United States Minor Outlying Islands\",\n    \"12626\": \"Burundi\",\n    \"12627\": \"Saint Vincent And The Grenadines\",\n    \"12628\": \"Virgin Islands, U.S.\",\n    \"12629\": \"Benin\",\n    \"12630\": \"Republic of Belarus\",\n    \"12631\": \"Belarus\",\n    \"12632\": \"Bermuda\",\n    \"12633\": \"Bouvet Island\",\n    \"12634\": \"Barbados\",\n    \"12635\": \"Bhutan\",\n    \"12636\": \"Botswana\",\n    \"12637\": \"Central African Republic\",\n    \"12638\": \"Cocos (Keeling) Islands\",\n    \"12639\": \"Congo, The Democratic Republic Of The\",\n    \"12640\": \"Cook Islands\",\n    \"12641\": \"Congo\",\n    \"12642\": \"Cote D Ivoire\",\n    \"12643\": \"Cape Verde\",\n    \"12644\": \"Costa Rica\",\n    \"12645\": \"Cuba\",\n    \"12646\": \"Christmas Island\",\n    \"12647\": \"Cayman Islands\",\n    \"12648\": \"Dominica\",\n    \"12649\": \"Western Sahara\",\n    \"12651\": \"Estonia\",\n    \"12653\": \"French Guiana\",\n    \"12654\": \"Faroe Islands\",\n    \"12656\": \"French Southern Territories\",\n    \"12660\": \"Gibraltar\",\n    \"12666\": \"Gambia\",\n    \"12670\": \"Guinea-Bissau\",\n    \"12675\": \"Equatorial Guinea\",\n    \"12676\": \"Grenada\",\n    \"12680\": \"Greenland\",\n    \"12685\": \"Guadeloupe\",\n    \"12687\": \"Guernsey\",\n    \"12689\": \"Guam\",\n    \"12695\": \"Guyana\",\n    \"12700\": \"Heard Island And Mcdonald Islands\",\n    \"12704\": \"Honduras\",\n    \"12709\": \"Holy See (Vatican City State)\",\n    \"12711\": \"Haiti\",\n    \"12715\": \"Isle Of Man\",\n    \"12719\": \"British Indian Ocean Territory\",\n    \"12723\": \"Saint Lucia\",\n    \"12724\": \"Iran, Islamic Republic Of\",\n    \"12725\": \"Liechtenstein\",\n    \"12726\": \"Israel\",\n    \"12729\": \"Lao People S Democratic Republic\",\n    \"12730\": \"Lesotho\",\n    \"12731\": \"Jamaica\",\n    \"12734\": \"Jersey\",\n    \"12737\": \"Kazakhstan\",\n    \"12744\": \"Macedonia, The Former Yugoslav Republic Of\",\n    \"12745\": \"Cambodia\",\n    \"12748\": \"Falkland Islands (Malvinas)\",\n    \"12749\": \"Kiribati\",\n    \"12751\": \"Martinique\",\n    \"12752\": \"Macao\",\n    \"12753\": \"Saint Kitts And Nevis\",\n    \"12754\": \"Monaco\",\n    \"12755\": \"Madagascar\",\n    \"12756\": \"Maldives\",\n    \"12757\": \"Korea, Democratic People S Republic Of\",\n    \"12758\": \"Marshall Islands\",\n    \"12759\": \"Korea, Republic Of\",\n    \"12760\": \"Micronesia, Federated States Of\"\n}",
            "Name": "nationality",
            "Type": "app_params"
        },
        {
            "Conditions": "true",
            "Value": "If(Or(GetVar(\"object_type\") == \"\", GetVar(\"object_type\") == 1)){\r\n    SetVar(Title, $property$)\r\n    Data(src_attachment_types, \"id,name\",\r\n        1,$landlord_title_deed$\r\n        2,$owner_uae_id$\r\n        3,$owner_passport$\r\n        4,$completion_certification_or_site_plan$\r\n        5,$delegation_form_power_of_attorney_authorization_letter$\r\n        6,$license$\r\n    )\r\n}.ElseIf(GetVar(\"object_type\") == 2){\r\n    SetVar(Title, \"Unit\")\r\n    Data(src_attachment_types, \"id,name\",\r\n        1,$landlord_title_deed$\r\n        2,$owner_uae_id$\r\n        3,$owner_passport$\r\n        4,$completion_certification_or_site_plan$\r\n        5,$delegation_form_power_of_attorney_authorization_letter$\r\n        6,$license$\r\n    )\r\n}.ElseIf(GetVar(\"object_type\") == 3){\r\n    SetVar(Title, $residential_contract$)\r\n    Data(src_attachment_types, \"id,name\",\r\n        7,$contract_form$ \r\n        8,$sewerage_receipt$\r\n        9,$tenant_uae_id$\r\n        10,$tenant_pasport$\r\n    )\r\n}.ElseIf(GetVar(\"object_type\") == 4){\r\n    SetVar(Title, $commercial_contract$)\r\n    Data(src_attachment_types, \"id,name\",\r\n        7,$contract_form$\r\n        11,$hygiene_certificate$\r\n        8,$sewerage_receipt$\r\n    )\r\n}\r\nData(basic, \"name,type,req,src,value\"){\r\n    attachment_type,select,*,src_attachment_types,GetVar(attachment_attachment_type)\r\n    name,input,*,,GetVar(attachment_name)\r\n    expiry_date,datetime,,,GetVar(attachment_expiry_date)\r\n    file,file,*,,\r\n    notes,textarea,,,GetVar(attachment_notes)\r\n}\r\nDiv(fullscreen-wrapper){\r\n    Div(panel){\r\n        Form(){\r\n\t\t\tDiv(Class: panel-heading ajman-color text-center){ \r\n\t\t\t\tSpan(Class: ajman-color-h1, Body: $upload_attachment$ to #Title#)\r\n\t\t\t}.Style(background:linear-gradient(0, #1f8094, #0b84a2, #1f8094)!important;border-radius:5px;margin:1px;box-shadow:0 0 3px #a5e5f1)\r\n\t\t\tDiv(panel-body){\r\n\t\t\t\tDiv(row row-mg){\r\n                    ForList(basic){\r\n                        Div(col-md-6){\r\n                            Div(col-md-3){\r\n                                Label(Body: LangRes(#name#), For: #name#)\r\n                            }\r\n                            SetVar(add_class, \"col-md-8\")\r\n                            If(#type# == view){\r\n                                SetVar(add_class, \"col-md-8 text-right\")\r\n                            }\r\n                            If(Or(#type# == textarea, #type# == file)){\r\n                                SetVar(add_class, \"col-md-8\")\r\n                            }\r\n                            Div(#add_class#){\r\n                                If(#type#==input){\r\n                                    Input(Name:#name#, Value:#value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==textarea){\r\n                                    Input(Name:#name#, Type:textarea, Value:#value#).Style(resize:vertical;min-height:200px;background:#dfdfdf;)\r\n                                }\r\n                                If(#type#==password){\r\n                                    Input(Name:#name#, Type:password, Value:#value#)\r\n                                }\r\n                                If(#type#==datetime){\r\n                                    SetVar(date, DateTime(#value#, \"YYYY-MM-DD\"))\r\n                                    Input(Name:#name#, Type:date, Value: #date#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==file){\r\n                                    Input(Name:#name#, Type:file)\r\n                                }\r\n                                If(#type#==checkbox){\r\n                                    If(#value# == 1){\r\n                                        SetVar(checked, true)\r\n                                    }\r\n                                    Input(Name:#name#, Type:checkbox, Value: #checked#)\r\n                                }\r\n                                If(#type#==radio){\r\n                                    RadioGroup(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(display:inline-block;margin-right:20px;)\r\n                                }\r\n                                If(#type#==select){\r\n                                    Select(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==json_select){\r\n                                    Select(Name:#name#, Source: #src#, NameColumn:value, ValueColumn: key, Value: #value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==view){\r\n                                    Span(Body: #value#)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\t\t\t\t}\r\n                Div(row text-right){\r\n                    Button(Contract: ajman_AttachmentAdd, Body: $submit$, Class: btn ajman-success, Params: \"object_id=#object_id#,object_type=#object_type#\", Page: #ret_page#, PageParams: \"id=#object_id#,step=#ret_page_step#\")\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t}.Style(height:100%)\r\n}.Style(margin-top:-47px!important;padding:0)",
            "Name": "ajman_attachment_add",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "If(#notific_id# > 0){\r\n    DBFind(Name: \"notifications\").Where(\"id = #notific_id#\").Columns(\"page_params->contract_id,page_params->step\").Vars(page)\r\n    SetVar(id, #page_page_params_contract_id#)\r\n    If(#page_page_params_step# > 0){\r\n        SetVar(step, #page_page_params_step#)\r\n    } \r\n}\r\nIf(GetVar(step)==\"\"){\r\n    SetVar(step, 1)\r\n}\r\nSetVar(contract_details_active, \"\").(contract_attachments_active, \"\")\r\nIf(#step#==1){\r\n    SetVar(contract_details_active, active)\r\n}.ElseIf(#step#==2){\r\n    SetVar(contract_attachments_active, active)\r\n}\r\nDBFind(applications).Where(\"name='Ajman property'\").Vars(application)\r\nIf(#id# > 0){\r\n    SetVar(Title, $ajman_edit_contract$)\r\n}.Else{\r\n    SetVar(Title, $ajman_add_contract$)\r\n}\r\nDiv(fullscreen-wrapper){\r\n    Div(panel){\r\n        Form(){\r\n            Div(Class: panel-heading ajman-color text-center){ \r\n                Span(Class: ajman-color-h1, Body: #Title#)\r\n            }.Style(background:linear-gradient(0, #1f8094, #0b84a2, #1f8094)!important;border-radius:5px;margin:1px;box-shadow:0 0 3px #a5e5f1)\r\n            Div(crumbs){\r\n                If(#id# > 0){\r\n                    Span(Class: #contract_details_active#, Body: LinkPage(Class: text-muted, Body: $contract_details$, Page: ajman_contract_add, PageParams: \"step=1,id=#id#\")).Style(border-radius: 3px;)\r\n                    Span(Class: #contract_attachments_active#, Body: LinkPage(Class: text-muted, Body: $attachments$, Page: ajman_contract_add, PageParams: \"step=2,id=#id#\")).Style(border-radius: 3px;)\r\n                }.Else{\r\n                    Span(Class: #contract_details_active#, Body: $contract_details$).Style(border-radius: 3px;)\r\n                    Span(Class: #contract_attachments_active#, Body: $attachments$).Style(border-radius: 3px;)\r\n                }\r\n            }.Style(margin:5px 1px 0 1px!important)\r\n            Div(panel-body){\r\n                Div(row row-mg){\r\n                    If(#step#==1){\r\n                        Include(ajman_contract)\r\n                    }.ElseIf(#step#==2){\r\n                        Include(ajman_contract_attachments)\r\n                    }\r\n                }\r\n                Div(text-right){\r\n                    If(#step#==1){\r\n                        If(GetVar(contract_id) > 1){\r\n                            SetVar(\"property_id\", #contract_property_id#)\r\n                            SetVar(\"unit_id\", #contract_unit_id#)\r\n                            SetVar(\"owner_id\", #contract_owner_id#)\r\n                        }\r\n                        If(Or(#owner_can_edit#, #tenant_can_edit#)){\r\n                            Button(Body: LangRes(save), Class:btn ajman-default, Contract:ajman_ContractNew, Params: \"property_id=#property_id#,unit_id=#unit_id#,btn=save,id=#contract_id#,owner_id=#owner_id#\", Page: ajman_contract_list)\r\n                        }\r\n                        If(#tenant_can_edit#){\r\n                            Button(Body: LangRes(submit), Class:btn ajman-success, Contract:ajman_ContractNew, Params: \"property_id=#property_id#,unit_id=#unit_id#,btn=submit,id=#contract_id#,owner_id=#owner_id#\", Page: ajman_contract_list)\r\n                        }\r\n                        If(Or(#owner_can_sign#, #tenant_can_sign#)){\r\n                            Button(Body: LangRes(decline), Class:btn ajman-fail, Contract:ajman_SignContract, Params: \"id=#contract_id#,btn=decline\", Page: ajman_contract_list)\r\n                            Button(Body: LangRes(sign), Class:btn ajman-success, Contract:ajman_SignContract, Params: \"id=#contract_id#,btn=sign\", Page: ajman_contract_list)\r\n                        }\r\n                    }.ElseIf(#step#==2){\r\n                        If(#can_edit#){\r\n                            Button(Class: btn ajman-success,Body: $add_attachment$, Page: ajman_attachment_add, PageParams: \"object_type=#contract_type#,object_id=#contract_id#,ret_page=ajman_contract_add,ret_page_step=2\")\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }.Style(min-height:100%)\r\n}.Style(margin-top:-47px!important;padding:0)",
            "Name": "ajman_contract_add",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "DBFind(applications).Where(\"name='Ajman property'\").Vars(application)\r\nAppParam(App: #application_id#, Name: \"contract_status\", Source: src_contract_status)\r\nSetVar(exp_mode, \"\").(exp_type, \"\").(exp_request_id, \"\").(exp_request_status, \"\").(exp_tenant_id, \"\").(exp_date_start, \"\").(exp_date_end, \"\")\r\nIf(Or(GetVar(mode)==\"\",#mode# == my)){\r\n    SetVar(exp_mode, \" and (tenant_id = #key_id# or owner_id = #key_id#)\")\r\n    SetVar(Title, $my_contracts$)\r\n}.ElseIf(#mode# == signed){\r\n    SetVar(exp_mode, \" and (tenant_id = #key_id# or owner_id = #key_id#) and status_signature = 5\")\r\n    SetVar(Title, $my_signed_contracts$)\r\n}.ElseIf(#mode# == all){\r\n    SetVar(exp_mode, \"\")\r\n    SetVar(Title, $all_contracts$)\r\n}\r\nIf(GetVar(contract_type) != \"\"){\r\n    SetVar(exp_type, \" and type = #contract_type#\")\r\n}\r\nIf(GetVar(request_id) > 0){\r\n    SetVar(exp_request_id, \" and id = #request_id#\")\r\n}\r\nIf(GetVar(request_status) > 0){\r\n    SetVar(exp_request_status, \" and status = #request_status#\")\r\n}\r\nIf(GetVar(tenant_id) > 0){\r\n    SetVar(exp_tenant_id, \" and tenant_id = #tenant_id#\")\r\n}\r\nIf(GetVar(start_date) != \"\"){\r\n    SetVar(exp_date_start, \" and date_create >= '#start_date#'\")\r\n}\r\nIf(GetVar(end_date) != \"\"){\r\n    SetVar(exp_date_end, \" and date_create <= '#end_date#'\")\r\n}\r\nSetVar(c_Where, \"remove = 0 #exp_mode# #exp_type# #exp_request_id# #exp_request_status# #exp_tenant_id# #exp_date_start# #exp_date_end#\")\r\nData(src_contract_type, \"id,name\"){\r\n    3,Residential Contract\r\n    4,Commercial Contract\r\n}\r\nData(basic, \"name,type,src,value\"){\r\n    contract_type,select,src_contract_type,GetVar(contract_type)\r\n    tenant_id,input,,GetVar(tenant_id)\r\n    request_id,input,,GetVar(request_id)\r\n    request_status,select,src_contract_status,GetVar(request_status)\r\n    start_date,datetime,,GetVar(start_date)\r\n    end_date,datetime,,GetVar(end_date)\r\n}\r\nDiv(fullscreen-wrapper){\r\n    Div(panel){\r\n        Form(){\r\n            Div(Class: panel-heading ajman-color text-center){ \r\n                Span(Class: ajman-color-h1, Body: #Title#)\r\n            }.Style(background:linear-gradient(0, #1f8094, #0b84a2, #1f8094)!important;border-radius:5px;margin:1px;box-shadow:0 0 3px #a5e5f1)\r\n            Div(panel-body){\r\n                Div(row){\r\n                    ForList(basic){\r\n                        Div(col-md-4){\r\n                            Div(col-md-4){\r\n                                Label(For: #name#){LangRes(#name#)}\r\n                            }\r\n                            Div(col-md-8){\r\n                                If(#type#==input){\r\n                                    Input(Name:#name#, Value:#value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==datetime){\r\n                                    SetVar(date, DateTime(#value#, \"YYYY-MM-DD\"))\r\n                                    Input(Name:#name#, Type:date, Value: #date#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==checkbox){\r\n                                    If(#value# == 1){\r\n                                        SetVar(checked, true)\r\n                                    }\r\n                                    Input(Name:#name#, Type:checkbox, Value: #checked#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==radio){\r\n                                    RadioGroup(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(display:inline-block;margin-right:20px;)\r\n                                }\r\n                                If(#type#==select){\r\n                                    Select(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==json_select){\r\n                                    Select(Name:#name#, Source: #src#, NameColumn:value, ValueColumn: key, Value: #value#).Style(background: #dfdfdf;font-size: 12px;padding: 0 10px;height: 25px;)\r\n                                }\r\n                                If(#type#==view){\r\n                                    Div(Class: text-primary, Body: #value#)\r\n                                }\r\n                            }\r\n                        }.Style(height:30px)\r\n                    }\r\n                }\r\n                Div(row){\r\n                    Div(col-md-12){\r\n                        Button(Class: btn ajman-success, Body: Search, Page: ajman_contract_list, PageParams: \"mode=#mode#,contract_type=Val(contract_type),tenant_id=Val(tenant_id),request_id=Val(request_id),request_status=Val(request_status),start_date=Val(start_date),end_date=Val(end_date)\")\r\n                    }.Style(margin-top:30px;padding:15px 0 0 0;border-top:1px solid #cddad6)\r\n                }.Style(margin: 0 15px;)\r\n                Div(){\r\n                    DBFind(Source: src_contracts, Name: \"property_contracts\").Where(#c_Where#).Columns(\"id,status,tenant_id,date_create\").Custom(custom_status){\r\n                        AppParam(App: #application_id#, Name: \"contract_status\", Index: #status#)\r\n                    }.Custom(custom_tenant){\r\n                        DBFind(src_tenant, Name: \"members\").WhereId(#tenant_id#).Vars(tenant)\r\n                        Span(#tenant_name_english#)\r\n                    }.Custom(custom_actions){\r\n                        LinkPage(Body: $view_edit$, Page: ajman_contract_add, PageParams: \"id=#id#\")\r\n                    }.Custom(custom_date_create){\r\n                        DateTime(#date_create#, \"YYYY-MM-DD HH:MI\")\r\n                    }\r\n                    Table(src_contracts, \"Request ID=id,Request Status=custom_status,Tenant=custom_tenant,Request Date=custom_date_create,Actions=custom_actions\")\r\n                }.Style(padding:0 10px)\r\n            }\r\n        }\r\n    }.Style(height:100%)\r\n}.Style(margin-top:-47px!important;padding:0)",
            "Name": "ajman_contract_list",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(applications).Where(\"name='Ajman property'\").Vars(application)\r\n\r\nAppParam(App: #application_id#, Name:gender, Source: src_gender)\r\nAppParam(App: #application_id#, Name:communication, Source: src_comm)\r\nAppParam(App: #application_id#, Name:language, Source: src_lang)\r\nSetVar(heading,$ajman_user_registration$).(nationality, AppParam(App: #application_id#, Name:nationality))\r\nSetVar(redirect_page,ajamal_enter_user_role)\r\nJsonToSource(Source:src_nationality, #nationality#)\r\nDiv(container){\r\n    If(#notific_id#>0){\r\n        DBFind(notifications,src_note).WhereId(#notific_id#).Columns(\"page_params->member_id\").Vars(note)\r\n        SetVar(member_id,#note_page_params_member_id#).(manager_role_id,AppParam(App:#application_id#, Name:manager_role_id))\r\n\r\n        DBFind(members).Where(\"id=#member_id#\").Columns(\"member_info->status\").Vars(m)\r\n        If(And(Or(#m_member_info_status#==1,#m_member_info_status#==2),#member_id#==#key_id#)){\r\n            SetVar(heading,#heading# : $registration_result$).(form_info,$ajman_manager_response$)\r\n            If(#m_member_info_status#==1){\r\n                SetVar(form_info,$ajman_manager_rejected_request$)\r\n            }.ElseIf(#m_member_info_status#==2){\r\n                SetVar(form_info,$ajman_manager_approved_request$)\r\n            }.Else{\r\n                SetVar(form_info,\"the decision is still pending\")\r\n            }\r\n            Data(actions, \"name,page,contr,params,class\"){\r\n                $ok$,#redirect_page#,Notifications_Single_Close,\"notific_id=#notific_id#\",ajman-color\r\n            }\r\n\r\n        }.ElseIf(And(#m_member_info_status#==0,\"#role_id#\"==\"#manager_role_id#\")){\r\n            DBFind(members).Where(\"id=#member_id#\").Columns(\"member_info->username,member_info->password,member_info->first_name_ar,member_info->last_name_ar,member_info->first_name_en,member_info->last_name_en,member_info->nationality,member_info->emirate_number,member_info->emirate_id_expiery_date,member_info->emirate_id_image,member_info->passport_id,member_info->passport_expiery_date,member_info->passport_id_image,member_info->date_of_birth,member_info->profile_image,member_info->gender,member_info->email,member_info->mobile,member_info->phone,member_info->fax,member_info->post_office,member_info->address,member_info->communication,member_info->language,member_info->status\").Vars(m)\r\n            SetVar(heading,#heading# : $manager_check$).(form_info,\"new user information:\").(disabled,true).(nat_value,)\r\n            ForList(src_nationality){\r\n                If(#m_member_info_nationality#==#value#){\r\n                    SetVar(nat_value,#key#)\r\n                }\r\n            }\r\n            Data(basic, \"name,type,value\"){\r\n                BasicData,title,\r\n                Username,input,#m_member_info_username#\r\n                FirstNameAr,input,#m_member_info_first_name_ar#\r\n                LastNameAr,input,#m_member_info_last_name_ar#\r\n                FirstNameEn,input,#m_member_info_first_name_en#\r\n                LastNameEn,input,#m_member_info_last_name_en#\r\n                Nationality,text,#nat_value#\r\n                EmirateNumber,input,#m_member_info_emirate_number#\r\n                EmirateIdExpieryDate,datetime,#m_member_info_emirate_id_expiery_date#\r\n                EmirateIdImage,file,#m_member_info_emirate_id_image#\r\n                PassportId,input,#m_member_info_passport_id#\r\n                PassportExpieryDate,datetime,#m_member_info_passport_expiery_date#\r\n                PassportIdImage,file,#m_member_info_passport_id_image#\r\n                DateOfBirth,datetime,#m_member_info_date_of_birth#\r\n                ProfileImage,file,#m_member_info_profile_image#\r\n                Gender,text,\"AppParam(App: #application_id#, Name:gender, Index:#m_member_info_gender#)\"\r\n                CommunicateData,title,\r\n                Email,input,#m_member_info_email#\r\n                Mobile,input,#m_member_info_mobile#\r\n                Phone,input,#m_member_info_phone#\r\n                Fax,input,#m_member_info_fax#\r\n                PostOffice,input,#m_member_info_post_office#\r\n                Address,input,#m_member_info_address#\r\n                Communication,text,\"AppParam(App: #application_id#, Name:communication, Index:#m_member_info_communication#)\"\r\n                Language,text,\"AppParam(App: #application_id#, Name:communication, Index:#m_member_info_language#)\"\r\n            }\r\n            Data(actions, \"name,page,contr,params,class\"){\r\n                $approve$,#redirect_page#,ajman_ManagerActionURP,\"Action=approve,MemberId=#member_id#,NotificId=#notific_id#\",ajman-color\r\n                $reject$,#redirect_page#,ajman_ManagerActionURP,\"Action=reject,MemberId=#member_id#,NotificId=#notific_id#\",btn-danger\r\n            }\r\n\r\n        }.Else{\r\n            SetVar(form_info,\"you can not read this\")\r\n        }\r\n\r\n    }.Else{\r\n        SetVar(form_info,LangRes(ajman_registration_info)).(now,Now(\"YYYY-MM-DD\")).(disabled,).(heading,#heading# : $ajman_register_new_user$)\r\n        Data(basic, \"name,type,req,src,value\"){\r\n            BasicData,title,,,\r\n            Username,input,*,,Username\r\n            FirstNameAr,input,*,,\"الاسم الاول\"\r\n            LastNameAr,input,*,,\"الكنية\"\r\n            FirstNameEn,input,*,,\"FirstName\"\r\n            LastNameEn,input,*,,\"LastName\"\r\n            Nationality,json_select,*,src_nationality,0\r\n            EmirateNumber,input,*,,\"EmirateNumber\"\r\n            EmirateIdExpieryDate,datetime,*,,#now#\r\n            EmirateIdImage,file,*,,\r\n            PassportId,input,*,,\"PassportId\"\r\n            PassportExpieryDate,datetime,*,,#now#\r\n            PassportIdImage,file,*,,\r\n            DateOfBirth,datetime,*,,#now#\r\n            ProfileImage,file,*,,\r\n            Gender,radio,*,src_gender,0\r\n            CommunicateData,title,,,\r\n            Email,input,*,,\"email@email.email\"\r\n            Mobile,input,*,,\"Mobile\"\r\n            Phone,input,,,\"Phone\"\r\n            Fax,input,,,\"Fax\"\r\n            PostOffice,input,,,\"PostOffice\"\r\n            Address,input,,,\"Address\"\r\n            Communication,radio,*,src_comm,0\r\n            Language,radio,*,src_lang,0\r\n        }\r\n        Data(actions, \"name,page,contr,params,class\"){\r\n            $send$,#redirect_page#,ajman_UserRegistration,,ajman-color\r\n        }\r\n    }\r\n    Form(panel){\r\n        Div(panel-heading ajman-color){\r\n            Div(ajman-color-h1){#heading#}\r\n        }\r\n        Div(panel-body){\r\n            Div(row){\r\n                Div(col-md-10 col-md-offset-1){\r\n                    P(#form_info#)\r\n                }\r\n            }\r\n            Div(row){\r\n                ForList(basic){\r\n                    If(#type#==title){\r\n                        Div(col-md-12){\r\n                            Div(h4){LangRes(#name#)}\r\n                        }\r\n                    }.Else{\r\n                        Div(col-md-6 form-group){\r\n                            If(#value#!=\"\"){}.Else{SetVar(#value#,)}\r\n                            If(#name#!=\"\"){\r\n                                Label(For: #name#){LangRes(#name#)}\r\n                            }\r\n                            If(#req#==*){\r\n                                Span(*,text-warning)\r\n                            }\r\n                            If(#type#==input){\r\n                                Input(Name:#name#, Value:#value#, Disabled: #disabled#)\r\n                            }\r\n                            If(#type#==datetime){\r\n                                Input(Name:#name#, Type:date, Value: #value#, Disabled: #disabled#)\r\n                            }\r\n                            If(#type#==file){\r\n                                If(#disabled#==true){\r\n                                    DBFind(binaries,src_bin).WhereId(#value#).Columns(data)\r\n                                    Table(src_bin, \"=data\")\r\n                                    Div(col-sm-12){\r\n                                        Image(Src: Binary().ById(#value#)).Style(max-width:100%;)\r\n                                    }\r\n                                }.Else{\r\n                                    Input(Name:#name#, Type:file)\r\n                                }\r\n                            }\r\n                            If(#type#==radio){\r\n                                RadioGroup(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#, Disabled: #disabled#).Style(display:inline-block;margin-right:20px;)\r\n                            }\r\n                            If(#type#==select){\r\n                                Select(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#, Disabled: #disabled#)\r\n                            }\r\n                            If(#type#==json_select){\r\n                                Select(Name:#name#, Source: #src#, NameColumn:value, ValueColumn: key, Value: #value#, Disabled: #disabled#)\r\n                            }\r\n                            If(#type#==text){\r\n                                Span(Body:\": #value#\")\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Div(panel-footer text-right){\r\n            ForList(actions){\r\n                Button(Body: #name#, Class:btn #class#, Contract:#contr#, Page: #page#, Params:\"#params#\")\r\n            }\r\n        }\r\n    }\r\n}",
            "Name": "ajman_user_registration",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "SetVar(object_id, 1)\r\nSetVar(object_type, 1)\r\nIf(Or(GetVar(\"object_type\") == \"\", GetVar(\"object_type\") == 1)){\r\n    SetVar(Title, $property$)\r\n    Data(src_attachment_types, \"value,name\",\r\n        0,$landlord_title_deed$\r\n        1,$owner_uae_id$\r\n        2,$owner_passport$\r\n        3,$completion_certification_or_site_plan$\r\n        4,$delegation_form_power_of_attorney_authorization_letter$\r\n        5,$license$\r\n    )\r\n}.ElseIf(GetVar(\"object_type\") == 2){\r\n    SetVar(Title, \"Unit\")\r\n    Data(src_attachment_types, \"value,name\",\r\n        0,$landlord_title_deed$\r\n        1,$owner_uae_id$\r\n        2,$owner_passport$\r\n        3,$completion_certification_or_site_plan$\r\n        4,$delegation_form_power_of_attorney_authorization_letter$\r\n        5,$license$\r\n    )\r\n}.ElseIf(GetVar(\"object_type\") == 3){\r\n    SetVar(Title, $residential_contract$)\r\n    Data(src_attachment_types, \"value,name\",\r\n        6,$contract_form$ \r\n        7,$sewerage_receipt$\r\n        8,$tenant_uae_id$\r\n        9,$tenant_pasport$\r\n    )\r\n}.ElseIf(GetVar(\"object_type\") == 4){\r\n    SetVar(Title, $commercial_contract$)\r\n    Data(src_attachment_types, \"value,name\",\r\n        6,$contract_form$\r\n        10,$hygiene_certificate$\r\n        7,$sewerage_receipt$\r\n    )\r\n}\r\nData(basic, \"name,type,req,src,value\"){\r\n    attachment_type,select,*,src_attachment_types,GetVar(attachment_attachment_type)\r\n    name,input,*,,GetVar(attachment_name)\r\n    expiry_date,datetime,,,GetVar(attachment_expiry_date)\r\n    notes,textarea,,,GetVar(attachment_notes)\r\n    file,file,*,,\r\n}\r\nDiv(content-wrapper){\r\n\tForm(panel panel-primary){\r\n\t\tDiv(panel){\r\n\t\t\tDiv(Class: panel-heading ajman-color text-center){ \r\n\t\t\t\tSpan(Class: ajman-color-h1, Body: $upload_attachment$ to #Title#)\r\n\t\t\t}\r\n\t\t\tDiv(panel-body){\r\n\t\t\t\tDiv(row row-mg){\r\n                    ForList(basic){\r\n                        Div(col-md-6){\r\n                            Div(col-md-3){\r\n                                Label(Body: LangRes(#name#), For: #name#)\r\n                                If(#req#==*){\r\n                                    Span(*,text-warning)\r\n                                }\r\n                            }\r\n                            SetVar(add_class, \"col-md-8\")\r\n                            If(#type# == view){\r\n                                SetVar(add_class, \"col-md-8 text-right\")\r\n                            }\r\n                            If(Or(#type# == textarea, #type# == file)){\r\n                                SetVar(add_class, \"col-md-8\")\r\n                            }\r\n                            Div(#add_class#){\r\n                                If(#type#==input){\r\n                                    Input(Name:#name#, Value:#value#)\r\n                                }\r\n                                If(#type#==textarea){\r\n                                    Input(Name:#name#, Type:textarea, Value:#value#).Style(resize:vertical)\r\n                                }\r\n                                If(#type#==password){\r\n                                    Input(Name:#name#, Type:password, Value:#value#)\r\n                                }\r\n                                If(#type#==datetime){\r\n                                    SetVar(date, DateTime(#value#, \"YYYY-MM-DD\"))\r\n                                    Input(Name:#name#, Type:date, Value: #date#)\r\n                                }\r\n                                If(#type#==file){\r\n                                    Input(Name:#name#, Type:file)\r\n                                }\r\n                                If(#type#==checkbox){\r\n                                    If(#value# == 1){\r\n                                        SetVar(checked, true)\r\n                                    }\r\n                                    Input(Name:#name#, Type:checkbox, Value: #checked#)\r\n                                }\r\n                                If(#type#==radio){\r\n                                    RadioGroup(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#).Style(display:inline-block;margin-right:20px;)\r\n                                }\r\n                                If(#type#==select){\r\n                                    Select(Name:#name#, Source: #src#, NameColumn:name, ValueColumn: id, Value: #value#)\r\n                                }\r\n                                If(#type#==json_select){\r\n                                    Select(Name:#name#, Source: #src#, NameColumn:value, ValueColumn: key, Value: #value#)\r\n                                }\r\n                                If(#type#==view){\r\n                                    Span(Body: #value#)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tDiv(panel-footer text-right){\r\n\t\t\t\tButton(Contract: ajman_AttachmentAdd, Body: $submit$, Class: btn btn-primary, Params: \"object_id=#object_id#,object_type=#object_type#\")\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}",
            "Name": "attachment_add",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "If(GetVar(step) == \"\"){\r\n    SetVar(Title, $select_the_property$)\r\n}.ElseIf(GetVar(step) == 1){\r\n    SetVar(Title, $contract_details$)\r\n}.ElseIf(GetVar(step) == 2){\r\n    SetVar(Title, $attachments$)\r\n}\r\nIf(GetVar(step) == \"\"){\r\n    Button(Class: btn btn-primary, Body: $next$, Page: commercial_contract_add, PageParams: \"step=1\")\r\n}\r\nSetTitle($add_commercial_contract$: #Title#)\r\nIf(GetVar(step) == 1){\r\n    SetVar(property_id, 0)\r\n    SetVar(unit_id, 0)\r\n    SetVar(company_id, 0)\r\n    SetVar(license_number, 1)\r\n    SetVar(application_number, 0)\r\n    Form(clearfix) {\r\n        Div(pull-left){\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    Div(form-group){\r\n                        Label(Body: $total_rent_amount$)\r\n                        Input(Class: form-control, Name: total_rent_amount, Value: 1)\r\n                    }\r\n                    Div(form-group){\r\n                        Label(Body: $security_deposit$)\r\n                        Input(Class: form-control, Name: security_deposit, Value: 1)\r\n                    }\r\n                    Div(form-group){\r\n                        Label(Body: $no_of_installments$)\r\n                        Input(Class: form-control, Name: no_of_installments, Value: 0)\r\n                    }\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Label(Body: $start_and_end_date$)\r\n                        Input(Class: form-control, Name: start_date, Type: date, Value: \"2018-01-01\")\r\n                        Input(Class: form-control, Name: end_date, Type: date, Value: \"2018-01-01\")\r\n                    }\r\n                    Div(form-group){\r\n                        Label(Body: $with_parking$)\r\n                        Input(Class: form-control, Name: with_parking, Type: checkbox)  \r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    In case....\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Label(Body: $no_of_renewal$)\r\n                        Data(no_of_renewal, \"value,name\",\r\n                            0,Please select\r\n                            1,1\r\n                            2,2\r\n                            3,3\r\n                        )\r\n                        Select(Source: no_of_renewal, Value: 0, NameColumn: \"name\", ValueColumn: \"value\")\r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n        }\r\n        Div(pull-right){\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    $terms_and_conditions$\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Input(Class: form-control, Name: terms_and_conditions_en, Type: textarea, Placeholder: EN)\r\n                        Input(Class: form-control, Name: terms_and_conditions_ar, Type: textarea, Placeholder: AR)   \r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    Div(form-group){\r\n                        Label($owner_signature_date$:)\r\n                        Input(Class: form-control, Name: owner_signature_date, Type: date, Value: \"2018-01-01\")   \r\n                    }\r\n                    Div(form-group){\r\n                        Label($tenant_signature_date$:)\r\n                        Input(Class: form-control, Name: tenant_signature_date, Type: date, Value: \"2018-01-01\")   \r\n                    }\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Input(Type: hidden, Name: property_id, Value: #property_id#)\r\n                        Input(Type: hidden, Name: unit_id, Value: #unit_id#)\r\n                        Input(Type: hidden, Name: company_id, Value: #company_id#)\r\n                        Input(Type: hidden, Name: license_number, Value: #license_number#)\r\n                        Input(Type: hidden, Name: application_number, Value: #application_number#)\r\n                        Button(Class: btn btn-primary, Contract: CommercialContractAdd, Body: $submit$)\r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n        }\r\n    }.Style(width:90%;margin:0 auto)\r\n}",
            "Name": "commercial_contract_add",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "Div(Class: content-wrapper){\r\n    Div(Class: row){\r\n        Div(Class: col-md-2)\r\n        Div(Class: col-md-4){\r\n            Div(Class: panel panel-default text-center){\r\n                Div(Class: panel-body){\r\n                    Span(Class: icon-home ajman-text){\r\n                    }.Style(\"font-size: 72px;\")\r\n                    Span(Class: h1 ml-sm ajman-text){\r\n                        Property\r\n                    }\r\n                    Div(Class: row){\r\n                        Div(Class: col-md-12 mt-sm){\r\n                            Button(Class: \"btn btn-block ajman-primary\", Body: \"Common catalog\")\r\n                        }\r\n                        Div(Class: col-md-12 mt-sm){\r\n                            Button(Class: \"btn btn-block ajman-primary\", Body: \"My contracts\")\r\n                        }\r\n                        Div(Class: col-md-12 mt-sm){\r\n                            Button(Class: \"btn btn-block ajman-primary\", Body: \"Signed contracts\")\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Div(Class: col-md-4){\r\n            Div(Class: panel panel-default text-center){\r\n                Div(Class: panel-body){\r\n                    Span(Class: icon-briefcase ajman-text){\r\n                    }.Style(\"font-size: 72px;\")\r\n                    Span(Class: h1 ml-sm ajman-text){\r\n                        Contracts\r\n                    }\r\n                    Div(Class: row){\r\n                        Div(Class: col-md-12 mt-sm){\r\n                            Button(Class: \"btn btn-block ajman-primary\", Body: \"Common catalog\")\r\n                        }\r\n                        Div(Class: col-md-12 mt-sm){\r\n                            Button(Class: \"btn btn-block ajman-primary\", Body: \"My contracts\")\r\n                        }\r\n                        Div(Class: col-md-12 mt-sm){\r\n                            Button(Class: \"btn btn-block ajman-primary\", Body: \"Signed contracts\")\r\n                        }\r\n                    }\r\n                }.Style(\"color: #0e83a6;\")\r\n            }\r\n        }\r\n        Div(Class: col-md-2)\r\n    }\r\n}",
            "Name": "nav_main",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "If(GetVar(step) == \"\"){\r\n    SetVar(Title, $select_the_property$)\r\n}.ElseIf(GetVar(step) == 1){\r\n    SetVar(Title, $contract_details$)\r\n}.ElseIf(GetVar(step) == 2){\r\n    SetVar(Title, $attachments$)\r\n}\r\nIf(GetVar(step) == \"\"){\r\n    Button(Class: btn btn-primary, Body: $next$, Page: residential_contract_add, PageParams: \"step=1\")\r\n}\r\nSetTitle($add_commercial_contract$: #Title#)\r\nIf(GetVar(step) == 1){\r\n    SetVar(property_id, 1)\r\n    SetVar(unit_id, 1)\r\n    SetVar(tenant_id, 1)\r\n    SetVar(landlord_id, 1)\r\n    SetVar(owner_id, 1)\r\n    Form(clearfix) {\r\n        Div(pull-left){\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    Div(form-group){\r\n                        Label(Body: $total_rent_amount$)\r\n                        Input(Class: form-control, Name: total_rent_amount, Value: 1)\r\n                    }\r\n                    Div(form-group){\r\n                        Label(Body: $security_deposit$)\r\n                        Input(Class: form-control, Name: security_deposit, Value: 1)\r\n                    }\r\n                    Div(form-group){\r\n                        Label(Body: $no_of_installments$)\r\n                        Input(Class: form-control, Name: no_of_installments, Value: 0)\r\n                    }\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Label(Body: $start_and_end_date$)\r\n                        Input(Class: form-control, Name: start_date, Type: date, Value: \"2018-01-01\")\r\n                        Input(Class: form-control, Name: end_date, Type: date, Value: \"2018-01-01\")\r\n                    }\r\n                    Div(form-group){\r\n                        Label(Body: $with_parking$)\r\n                        Input(Class: form-control, Name: with_parking, Type: checkbox)  \r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    In case....\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Label(Body: $no_of_renewal$)\r\n                        Data(no_of_renewal, \"value,name\",\r\n                            0,Please select\r\n                            1,1\r\n                            2,2\r\n                            3,3\r\n                        )\r\n                        Select(Source: no_of_renewal, Value: 0, NameColumn: \"name\", ValueColumn: \"value\")\r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n        }\r\n        Div(pull-right){\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    $terms_and_conditions$\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Input(Class: form-control, Name: terms_and_conditions_en, Type: textarea, Placeholder: EN)\r\n                        Input(Class: form-control, Name: terms_and_conditions_ar, Type: textarea, Placeholder: AR)   \r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n            Div(clearfix){\r\n                Div(pull-left){\r\n                    Div(form-group){\r\n                        Label($owner_signature_date$:)\r\n                        Input(Class: form-control, Name: owner_signature_date, Type: date, Value: \"2018-01-01\")   \r\n                    }\r\n                    Div(form-group){\r\n                        Label($tenant_signature_date$:)\r\n                        Input(Class: form-control, Name: tenant_signature_date, Type: date, Value: \"2018-01-01\")   \r\n                    }\r\n                }\r\n                Div(pull-right){\r\n                    Div(form-group){\r\n                        Input(Type: hidden, Name: property_id, Value: #property_id#)\r\n                        Input(Type: hidden, Name: unit_id, Value: #unit_id#)\r\n                        Input(Type: hidden, Name: tenant_id, Value: #tenant_id#)\r\n                        Input(Type: hidden, Name: landlord_id, Value: #landlord_id#) \r\n                        Input(Type: hidden, Name: owner_id, Value: #owner_id#)\r\n                        Button(Class: btn btn-primary, Contract: ResidentialContractAdd, Body: $submit$)\r\n                    }\r\n                }\r\n            }.Style(width:500px;margin:0 auto)\r\n        }\r\n    }.Style(width:90%;margin:0 auto)\r\n}",
            "Name": "residential_contract_add",
            "Menu": "admin_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "contract AttachmentAdd {\r\n    data {\r\n        object_type int,\r\n        object_id int,\r\n        name string,\r\n        expiry_date string \"optional date\"\r\n        notes string \"optional\"\r\n        attachment_type int,\r\n        file bytes \"file\"\r\n    }\r\n    conditions {\r\n        if $object_type < 1 || $object_type > 4 {\r\n            error \"Incorrect object type\"\r\n        }\r\n        if $object_id < 1 {\r\n            error \"Object id can't be less than 1\"\r\n        }\r\n    }\r\n    action {\r\n        DBInsert(\"attachments\", \"object_type,object_id,name,expiry_date,notes,attachment_type,file\", \r\n            $object_type, $object_id, $name, $expiry_date, $notes, $attachment_type, $file\r\n        )\r\n    }\r\n}",
            "Name": "AttachmentAdd",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract CommercialContractAdd {\r\n    data {\r\n        //vars from form\r\n        total_rent_amount money\r\n        security_deposit money\r\n        no_of_installments int\r\n        start_date string \"date\"\r\n        end_date string \"date\"\r\n        with_parking string \"optional\"\r\n        no_of_renewal int \"optional\"\r\n        terms_and_conditions_en string \"optional\"\r\n        terms_and_conditions_ar string \"optional\"\r\n        owner_signature_date string \"date\"\r\n        tenant_signature_date string \"date\"\r\n        //additional vars\r\n        property_id int \"hidden\"\r\n        unit_id int \"hidden\"\r\n        company_id int \"hidden optional\"\r\n        license_number int \"hidden optional\"\r\n        application_number int \"hidden optional\"\r\n    }\r\n    conditions {\r\n        if $total_rent_amount < 0 {\r\n            error \"Total Rent Amount can't be less than 0\"\r\n        }\r\n        if $security_deposit < 0 {\r\n            error \"Security Deposit can't be less than 0\"\r\n        }\r\n        if $no_of_installments < 0 {\r\n            error \"No. of Installments can't be less than 0\"\r\n        }\r\n        if $start_date > $end_date {\r\n            error \"Start date is greater End date\"\r\n        }\r\n        if ($no_of_renewal < 1 || $no_of_renewal > 3) && $no_of_renewal {\r\n            error \"No. of Renewal can be only 1,2 or 3\"\r\n        }\r\n        if !$license_number && !$application_number {\r\n            error \"License number or Application number is required\"\r\n        }\r\n        if $with_parking == \"true\" {\r\n            $with_parking = \"1\"\r\n        }else{\r\n            $with_parking = \"0\"\r\n        }\r\n        if !$no_of_renewal {\r\n            $no_of_renewal = 0\r\n        }\r\n        if !$company_id {\r\n            $company_id = 0\r\n        }\r\n    }\r\n    action {\r\n        var duration int\r\n        $duration = 0\r\n        DBInsert(\"commercial_contracts\", \"property_id,unit_id,company_id,license_number,application_number,total_rent_amount,security_deposit,no_of_installments,start_date,end_date,with_parking,no_of_renewal,terms_and_conditions_en,terms_and_conditions_ar,owner_signature_date,tenant_signature_date,date_create,duration\", $property_id, $unit_id, $company_id, $license_number, $application_number, $total_rent_amount, $security_deposit, $no_of_installments, $start_date, $end_date, $with_parking, $no_of_renewal, $terms_and_conditions_en, $terms_and_conditions_ar, $owner_signature_date, $tenant_signature_date,\"NOW()\",$duration)\r\n    }\r\n}",
            "Name": "CommercialContractAdd",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract ResidentialContractAdd {\r\n    data {\r\n        //vars from form\r\n        total_rent_amount money\r\n        security_deposit money\r\n        no_of_installments int\r\n        start_date string \"date\"\r\n        end_date string \"date\"\r\n        with_parking string \"optional\"\r\n        no_of_renewal int \"optional\"\r\n        terms_and_conditions_en string \"optional\"\r\n        terms_and_conditions_ar string \"optional\"\r\n        owner_signature_date string \"date\"\r\n        tenant_signature_date string \"date\"\r\n        //additional vars\r\n        property_id int \"hidden\"\r\n        unit_id int \"hidden\"\r\n        tenant_id int \"hidden optional\"\r\n        landlord_id int \"hidden optional\"\r\n        owner_id int \"hidden optional\"\r\n    }\r\n    conditions {\r\n        if $total_rent_amount < 0 {\r\n            error \"Total Rent Amount can't be less than 0\"\r\n        }\r\n        if $security_deposit < 0 {\r\n            error \"Security Deposit can't be less than 0\"\r\n        }\r\n        if $no_of_installments < 0 {\r\n            error \"No. of Installments can't be less than 0\"\r\n        }\r\n        if $start_date > $end_date {\r\n            error \"Start date is greater End date\"\r\n        }\r\n        if ($no_of_renewal < 1 || $no_of_renewal > 3) && $no_of_renewal {\r\n            error \"No. of Renewal can be only 1,2 or 3\"\r\n        }\r\n        if !$tenant_id {\r\n            error \"Tenant is not specifed\"\r\n        }\r\n        if !$landlord_id {\r\n            error \"Landlord is not specifed\"\r\n        }\r\n        if !$owner_id {\r\n            error \"Owner is not specifed\"\r\n        }\r\n        if $with_parking == \"true\" {\r\n            $with_parking = \"1\"\r\n        }else{\r\n            $with_parking = \"0\"\r\n        }\r\n        if !$no_of_renewal {\r\n            $no_of_renewal = 0\r\n        }\r\n    }\r\n    action {\r\n        var owner_type string, duration int\r\n        $owner_type = 1\r\n        //$owner_type = DBFind(\"members\").Columns(\"person_type\").WhereId($owner_id).One(\"person_type\")\r\n        //$duration = $end_date - $start_date\r\n        $duration = 0\r\n        DBInsert(\"residential_contracts\", \"property_id,unit_id,tenant_id,landlord_id,owner_id,owner_type,total_rent_amount,security_deposit,no_of_installments,start_date,end_date,with_parking,no_of_renewal,terms_and_conditions_en,terms_and_conditions_ar,owner_signature_date,tenant_signature_date,date_create,duration\", $property_id, $unit_id, $tenant_id, $landlord_id, $owner_id, $owner_type, $total_rent_amount, $security_deposit, $no_of_installments, $start_date, $end_date, $with_parking, $no_of_renewal, $terms_and_conditions_en, $terms_and_conditions_ar, $owner_signature_date, $tenant_signature_date,\"NOW()\",$duration)\r\n    }\r\n}",
            "Name": "ResidentialContractAdd",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract SetAppID {\r\n    data {\r\n        table string \"optional\"\r\n        name string \"optional\"\r\n        app_id int \"optional\"\r\n    }\r\n    conditions {\r\n\r\n    }\r\n    action {\r\n        //DBUpdate($table, $name, \"app_id\", $app_id)\r\n        //DBUpdateExt($table, \"name\", $name, \"app_id\", $app_id)\r\n        //DBInsert(\"members\", \"id\", \"7207124132448258015\")\r\n\r\n    }\r\n}",
            "Name": "SetAppID",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract ajman_AttachmentAdd {\r\n    data {\r\n        object_type int,\r\n        object_id int,\r\n        name string,\r\n        expiry_date string \"optional date\"\r\n        notes string \"optional\"\r\n        attachment_type int,\r\n        file bytes \"file\"\r\n    }\r\n    conditions {\r\n        if $object_type < 1 || $object_type > 4 {\r\n            error \"Incorrect object type\"\r\n        }\r\n        if $object_id < 1 {\r\n            error \"Object id can't be less than 1\"\r\n        }\r\n    }\r\n    action {\r\n        DBInsert(\"attachments\", \"object_type,object_id,name,expiry_date,notes,attachment_type,file\", \r\n            $object_type, $object_id, $name, $expiry_date, $notes, $attachment_type, $file\r\n        )\r\n    }\r\n}",
            "Name": "ajman_AttachmentAdd",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract ajman_ContractNew {\r\n    data {\r\n        id int \"optional\" // contract id for edit\r\n        btn string //which button user click{submit;save;sign}\r\n        //vars from form\r\n        start_date string \"date\"\r\n        end_date string \"date\"\r\n        with_parking string \"optional\"\r\n        no_of_renewal int \"optional\"\r\n        terms_and_conditions_en string \"optional\"\r\n        terms_and_conditions_ar string \"optional\"\r\n        //additional vars\r\n        property_id int \"optional\"\r\n        unit_id int \"optional\"\r\n        owner_id int \"optional\"\r\n    }\r\n    conditions {\r\n        if !$property_id && !$unit_id {\r\n            error \"Property or Unit must be selected\"\r\n        }\r\n        if $with_parking == \"true\" {\r\n            $with_parking = \"1\"\r\n        }else{\r\n            $with_parking = \"0\"\r\n        }\r\n        if !$no_of_renewal {\r\n            $no_of_renewal = 0\r\n        }\r\n    }\r\n    action {\r\n        $start_date = \"timestamp \" + $start_date\r\n        $end_date = \"timestamp \" + $end_date\r\n        $duration = 0\r\n        $landlord_id = 1\r\n        $contract_type = 3//Residential\r\n        $company_id = 0\r\n        $application_number = 0\r\n        $license_number = 0\r\n        $role = DBRow(\"roles\").WhereId($role_id)\r\n        if $role[\"role_name\"] == \"Tenant Company Representative\" {\r\n            $contract_type = 4//Commercial\r\n            $company_id = DBRow(\"companies\").Where(\"license_owner_id = ?\", $key_id).One(\"id\")\r\n        }\r\n        $Property = DBRow(\"properties\").WhereId($property_id)\r\n        $total_rent_amount = $Property[\"total_rent_amount\"]\r\n        $security_deposit = $Property[\"security_deposit\"]\r\n        $no_of_installments = $Property[\"no_of_installments\"]\r\n        if $id > 0 {\r\n            $Contract = DBRow(\"property_contracts\").Where(\"id = ?\", $id)\r\n            $contract_id = $Contract[\"id\"]\r\n            $tenant_id = $Contract[\"tenant_id\"]\r\n            $owner_id = $Contract[\"owner_id\"]\r\n            $status_signature = 0\r\n            //if !(($key_id == $Contract[\"tenant_id\"] && $Contract[\"status_signature\"] == 1) || ($key_id == $Contract[\"owner_id\"] && ($Contract[\"status_signature\"] == 2 || $Contract[\"status_signature\"] == 3)) {\r\n            //    error \"You can't edit this contract\"\r\n            //}\r\n            if $key_id == Int($Contract[\"tenant_id\"]) {\r\n                if $btn == \"save\" {\r\n                    $status_signature = 1\r\n                }\r\n                if $btn == \"submit\" {\r\n                    $status_signature = 2\r\n                }\r\n            }\r\n            if $key_id == Int($Contract[\"owner_id\"]) {\r\n                if $btn == \"save\" {\r\n                    $status_signature = 3\r\n                }\r\n            }\r\n            if $status_signature > 0{\r\n                DBUpdate(\"property_contracts\", $id, \"total_rent_amount,security_deposit,no_of_installments,start_date,end_date,with_parking,no_of_renewal,terms_and_conditions_en,terms_and_conditions_ar,date_create,duration,type,status_signature\", $total_rent_amount, $security_deposit, $no_of_installments, $start_date, $end_date, $with_parking, $no_of_renewal, $terms_and_conditions_en, $terms_and_conditions_ar,\"NOW()\",$duration, $contract_type, $status_signature)\r\n            }\r\n        }else{\r\n            $tenant_id = $key_id\r\n            if $btn == \"submit\" {\r\n                $status_signature = 2//Request  \r\n            }\r\n            if $btn == \"save\" {\r\n                $status_signature = 1//Created\r\n            }\r\n            $contract_id = DBInsert(\"property_contracts\", \"property_id,unit_id,company_id,license_number,application_number,tenant_id,owner_id,landlord_id,total_rent_amount,security_deposit,no_of_installments,start_date,end_date,with_parking,no_of_renewal,terms_and_conditions_en,terms_and_conditions_ar,date_create,duration,type,status_signature,status\", $property_id, $unit_id, $company_id, $license_number, $application_number, $tenant_id, $owner_id, $landlord_id, $total_rent_amount, $security_deposit, $no_of_installments, $start_date, $end_date, $with_parking, $no_of_renewal, $terms_and_conditions_en, $terms_and_conditions_ar,\"NOW()\",$duration,$contract_type,$status_signature,\"1\")\r\n        }\r\n        var params map\r\n        params[\"contract_id\"] = $contract_id\r\n        if $btn == \"submit\" {\r\n            Notifications_Single_Send_map(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\", $owner_id, 1, \"fa-check\", \"Contract\", \"New contract\", \"ajman_contract_add\", params)\r\n        }\r\n        if $btn == \"save\" && $status_signature == 3 {\r\n            Notifications_Single_Send_map(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\", $tenant_id, 1, \"fa-check\", \"Contract\", \"Owner edit contract\", \"ajman_contract_add\", params)\r\n        }\r\n    }\r\n}",
            "Name": "ajman_ContractNew",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract ajman_ManagerActionURP {\r\n    data {\r\n        Action string\r\n        MemberId int\r\n        NotificId string \"optional\"\r\n\r\n    }\r\n    conditions {\r\n        $ApplicationId = Int(DBFind(\"applications\").Where(\"name='Ajman property'\").One(\"id\"))\r\n        if $ApplicationId == 0 {\r\n            warning \"Application ID not found\"\r\n        }\r\n        $managerRoleId = Int(AppParam($ApplicationId, \"manager_role_id\"))\r\n        if $role_id != $managerRoleId{\r\n            info \"You are not manager\"\r\n        }\r\n        $member = DBFind(\"members\").Where(\"id=?\", $MemberId).Row()\r\n        if !$member{\r\n            error \"Member not found\"\r\n        }\r\n        $NotificId = Int($NotificId)\r\n    }\r\n\r\n    action {\r\n        var header string\r\n        var inform map\r\n        inform = JSONDecode($member[\"member_info\"])\r\n        if $Action == \"approve\"{\r\n            // 0:registrated, 1:rejected, 2:approved\r\n            inform[\"status\"] = 2\r\n            header = \"approved\"\r\n        }\r\n        if $Action == \"reject\"{\r\n            // 0:registrated, 1:rejected, 2:approved\r\n            inform[\"status\"] = 1\r\n            header = \"rejected\"\r\n        }\r\n        DBUpdate(\"members\", $MemberId, \"member_info\", inform)\r\n\r\n        if $NotificId > 0{\r\n            Println(\"Try closing notific id:\", $NotificId)\r\n            Notifications_Roles_Processing(\"notific_id\", $NotificId)\r\n            Notifications_Roles_Close(\"notific_id\", $NotificId)\r\n        }\r\n        // user notification\r\n        var sender int\r\n        sender = 2 // 2:from admin\r\n        var icon body page string\r\n        header = Sprintf(\"Ajman URP: Registration %v\", header)\r\n        icon = \"icon-envelope\"\r\n        body = Sprintf(\"Manager %v your registration\", header)\r\n        page = \"ajman_user_registration\"\r\n        var params map\r\n        params[\"member_id\"] = $MemberId\r\n        Notifications_Single_Send_map(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\", $MemberId, sender, icon, header, body, page, params)\r\n    }\r\n}",
            "Name": "ajman_ManagerActionURP",
            "Type": "contracts"
        },
        {
            "Conditions": "true",
            "Value": "contract ajman_SignContract {\r\n    data {\r\n        id int\r\n        btn string\r\n    }\r\n    conditions {\r\n        $Contract = DBRow(\"property_contracts\").Where(\"remove = ? and id = ? and (owner_id = ? or tenant_id = ?)\", 0, $id, $key_id, $key_id)\r\n        if !$Contract {\r\n            error \"Contract was removed\"\r\n        }\r\n    }\r\n    action {\r\n        var params map\r\n        params[\"contract_id\"] = $id\r\n        $status_signature = 0\r\n        $notification_page = \"ajman_contract_add\"\r\n        if Int($Contract[\"status_signature\"]) >= 2 {\r\n            if $Contract[\"owner_id\"] == $key_id{\r\n                if $btn == \"sign\" {\r\n                    $status_signature = 4\r\n                    $date_field = \"owner_signature_date\"\r\n                    $notification_body = \"Owner sign contract\"\r\n                }else{\r\n                    $status_signature = 6\r\n                    $notification_body = \"Owner decline contract\"\r\n                }\r\n            }\r\n        }\r\n        if Int($Contract[\"status_signature\"]) == 4 {\r\n            if $Contract[\"tenant_id\"] == $key_id {\r\n                if $btn == \"sign\" {\r\n                    $status_signature = 5\r\n                    $date_field = \"tenant_signature_date\"\r\n                    $notification_body = \"Tenant sign contract. Need to attach documents\"\r\n                    params[\"step\"] = 2  \r\n                }else{\r\n                    $status_signature = 6\r\n                    $notification_body = \"Tenant decline contract\"    \r\n                }\r\n            }\r\n        }\r\n        if $status_signature > 0 {\r\n            Notifications_Single_Send_map(\"member_id,sender,icon_name,text_header,text_body,page_name,params_map\", $Contract[\"tenant_id\"], 1, \"fa-check\", \"Contract\", $notification_body, $notification_page, params)\r\n            DBUpdate(\"property_contracts\", $id, \"status_signature,\"+$date_field, $status_signature, \"NOW()\")\r\n        }else{\r\n            error \"You can't sign this contract\"\r\n        }\r\n    }\r\n}",
            "Name": "ajman_SignContract",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract ajman_UserRegistration {\r\n    data {\r\n        Username string\r\n        FirstNameAr string\r\n        LastNameAr string\r\n        FirstNameEn string\r\n        LastNameEn string\r\n        Nationality int\r\n        EmirateNumber string\r\n        EmirateIdExpieryDate string \"date\"\r\n        EmirateIdImage bytes \"file\"\r\n        PassportId string\r\n        PassportExpieryDate string \"date\"\r\n        PassportIdImage bytes \"file\"\r\n        DateOfBirth string \"date\"\r\n        ProfileImage bytes \"file\"\r\n        Gender int\r\n        Email string\r\n        Mobile string\r\n        Phone string \"optional\"\r\n        Fax string \"optional\"\r\n        PostOffice string \"optional\"\r\n        Address string \"optional\"\r\n        Communication int\r\n        Language int\r\n    }\r\n    conditions {\r\n        if !$Nationality{\r\n            warning \"Please select Nationality\"\r\n        }\r\n        if Contains($Email, \" \") || !Contains($Email, \"@\") {\r\n            warning \"Incorrect email\"\r\n        }\r\n        $member = DBFind(\"members\").Where(\"id=?\", $key_id).Row()\r\n        if !$member{\r\n            warning \"Member not found\"\r\n        }\r\n        $ApplicationId = Int(DBFind(\"applications\").Where(\"name='Ajman property'\").One(\"id\"))\r\n        if $ApplicationId == 0 {\r\n            warning \"Application ID not found\"\r\n        }\r\n        $managerRoleId = AppParam($ApplicationId, \"manager_role_id\")\r\n    }\r\n    action {\r\n        var emirateIdImage, passportIdImage, profileImage int\r\n        emirateIdImage = UploadBinary(\"Name,Data,ApplicationId,DataMimeType\", \"EmirateIdImage\", $EmirateIdImage, $ApplicationId, $EmirateIdImageMimeType)\r\n        passportIdImage = UploadBinary(\"Name,Data,ApplicationId,DataMimeType\", \"PassportIdImage\", $PassportIdImage, $ApplicationId, $PassportIdImageMimeType)\r\n        profileImage = UploadBinary(\"Name,Data,ApplicationId,DataMimeType\", \"ProfileImage\", $ProfileImage, $ApplicationId, $ProfileImageMimeType)\r\n\r\n        var inform map\r\n        if $member[\"member_info\"] != \"\" {\r\n            inform = JSONDecode($member[\"member_info\"])\r\n        }\r\n        inform[\"username\"] = $Username\r\n        inform[\"first_name_ar\"] = $FirstNameAr\r\n        inform[\"last_name_ar\"] = $LastNameAr\r\n        inform[\"first_name_en\"] = $FirstNameEn\r\n        inform[\"last_name_en\"] = $LastNameEn\r\n        inform[\"nationality\"] = $Nationality\r\n        inform[\"emirate_number\"] = $EmirateNumber\r\n        inform[\"emirate_id_expiery_date\"] = $EmirateIdExpieryDate\r\n        inform[\"emirate_id_image\"] = emirateIdImage\r\n        inform[\"passport_id\"] = $PassportId\r\n        inform[\"passport_expiery_date\"] = $PassportExpieryDate\r\n        inform[\"passport_id_image\"] = passportIdImage\r\n        inform[\"date_of_birth\"] = $DateOfBirth\r\n        inform[\"profile_image\"] = profileImage\r\n        inform[\"gender\"] = $Gender\r\n        inform[\"email\"] = $Email\r\n        inform[\"mobile\"] = $Mobile\r\n        inform[\"phone\"] = $Phone\r\n        inform[\"fax\"] = $Fax\r\n        inform[\"post_office\"] = $PostOffice\r\n        inform[\"address\"] = $Address\r\n        inform[\"communication\"] = $Communication\r\n        inform[\"language\"] = $Language\r\n        inform[\"status\"] = 0 // 0:registrated, 1:rejected, 2:approved\r\n        DBUpdate(\"members\", $key_id, \"member_info\", inform)\r\n\r\n        // managers notification\r\n        var roleId closureType sender int\r\n        roleId = $managerRoleId\r\n        closureType = 2 // multiple\r\n        sender = 2 // from admin?\r\n        var icon header body page string\r\n        icon = \"icon-envelope\"\r\n        header = \"Ajman URP: New user\"\r\n        body = $Username\r\n        page = \"ajman_user_registration\"\r\n        var params map\r\n        params[\"member_id\"] = $key_id\r\n        Notifications_Roles_Send_map(\"rid,closure_type,sender,icon_name,text_header,text_body,page_name,params_map\", roleId, closureType, sender, icon, header, body, page, params)\r\n    }\r\n}",
            "Name": "ajman_UserRegistration",
            "Type": "contracts"
        }
    ]
}