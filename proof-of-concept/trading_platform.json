{
    "name": "Trading Platform",
    "data": [
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Div(col-md-3 mt-sm text-right){\n    Label(For:Count){LangRes(lots_count)}\n}\nDiv(col-md-9 text-left){\n    Input(Name:Count, Type:number)\n}",
            "Name": "lots_count",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Div(col-md-3 mt-sm text-right){\n    Label(){LangRes(lots_dimensions)}\n}\nDiv(col-md-9 text-left){\n    Div(row){\n        Div(col-md-3 mt-sm text-right){\n            Label(For:Length){LangRes(lots_length)}\n        }\n        Div(col-md-9 text-left){\n            Input(Name:Length, Type:number)\n        }\n    }\n    Div(row){\n        Div(col-md-3 mt-sm text-right){\n            Label(For:Height){LangRes(lots_height)}\n        }\n        Div(col-md-9 text-left){\n            Input(Name:Height, Type:number)\n        }\n    }\n    Div(row){\n        Div(col-md-3 mt-sm text-right){\n            Label(For:Width){LangRes(lots_width)}\n        }\n        Div(col-md-9 text-left){\n            Input(Name:Width, Type:number)\n        }\n    }\n}",
            "Name": "lots_dimensions",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Data(weight_types, \"id,name\"){\n    1,$lots_kg$\n    2,$lots_ton$\n}\nDiv(col-md-3 mt-sm text-right){\n    Label(For:Weight){LangRes(lots_weight)}\n}\nDiv(col-md-9 text-left){\n    Div(row){\n        Div(col-sm-8){\n            Input(Name:Weight, Type:number, Placeholder:$lots_weight$)\n        }\n        Div(col-sm-4){\n            Select(Name:WeightType, Source:weight_types, NameColumn:name, ValueColumn:id)\n        }\n    }\n}",
            "Name": "lots_weight",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "AppParam(App:#application_id#,Name:lots_weight_types, Source: weight_types)\nDiv(col-md-3 mt-sm text-right){\n    Label(For:Weight){LangRes(lots_weight2)}\n}\nDiv(col-md-9 text-left){\n    Div(row){\n        Div(col-sm-8){\n            Input(Name:Weight, Type:number, Placeholder:$lots_weight$)\n        }\n        Div(col-sm-4){\n            Select(Name:WeightType, Source:weight_types, NameColumn: name, ValueColumn: id)\n        }\n    }\n}",
            "Name": "lots_weight2",
            "Type": "blocks"
        },
        {
            "Conditions": "ContractAccess(\"@1EditMenu\")",
            "Value": "MenuItem(Title:$lots_list$, Page: lots_list, Icon:\"icon-list\")",
            "Name": "default_menu",
            "Type": "menu"
        },
        {
            "Name": "amount_final",
            "Trans": "{\n    \"ru\": \"Конечная сумма\",\n    \"en\": \"The final amount\"\n}",
            "Type": "languages"
        },
        {
            "Name": "amount_starting",
            "Trans": "{\n    \"ru\": \"Стартовая сумма\",\n    \"en\": \"The starting amount\"\n}",
            "Type": "languages"
        },
        {
            "Name": "buyer",
            "Trans": "{\n    \"ru\": \"Покупатель\",\n    \"en\": \"Buyer\"\n}",
            "Type": "languages"
        },
        {
            "Name": "date_creation",
            "Trans": "{\n    \"ru\": \"Дата создания\",\n    \"en\": \"Created date\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lot_deleted",
            "Trans": "{\n    \"ru\": \"Лот удалён\",\n    \"en\": \"Lot deleted\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lot_edit",
            "Trans": "{\n    \"ru\": \"Редактировать\",\n    \"en\": \"Edit\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lot_next",
            "Trans": "{\n    \"ru\": \"Далее\",\n    \"en\": \"Next\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_amount_max",
            "Trans": "{\n    \"ru\": \"Текущая максимальная сумма\",\n    \"en\": \"The current maximum amount\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_back",
            "Trans": "{\n    \"ru\": \"Назад\",\n    \"en\": \"Back\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_bid",
            "Trans": "{\n    \"ru\": \"Сделать ставку\",\n    \"en\": \"Bet\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_bidding",
            "Trans": "{\n    \"ru\": \"Идут торги\",\n    \"en\": \"Trades are\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat",
            "Trans": "{\n    \"ru\": \"Категория\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat01",
            "Trans": "{\"ru\":\"Запорная арматура\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat02",
            "Trans": "{\"ru\":\"Трубная продукция\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat03",
            "Trans": "{\"ru\":\"Блочное и технологическое оборудование\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat04",
            "Trans": "{\"ru\":\"Нефтепромысловое оборудование\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat05",
            "Trans": "{\"ru\":\"Металлопрокат\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat06",
            "Trans": "{\"ru\":\"КИП и А\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat07",
            "Trans": "{\"ru\":\"Химическая продукция и сопутствующие материалы\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat08",
            "Trans": "{\"ru\":\"Кабельная продукция\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat09",
            "Trans": "{\"ru\":\"Транспорт\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat10",
            "Trans": "{\"ru\":\"Материалы административно-хозяйственного назначения\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat11",
            "Trans": "{\"ru\":\"Строительные материалы\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat12",
            "Trans": "{\"ru\":\"Спецодежда, СИЗ, противопожарное оборудование и материалы\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_cat13",
            "Trans": "{\"ru\":\"Прочее\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_contract",
            "Trans": "{\n    \"ru\": \"Договор\",\n    \"en\": \"The contract\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_count",
            "Trans": "{\n    \"ru\": \"Количество\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_create",
            "Trans": "{\n    \"ru\": \"Создать лот\",\n    \"en\": \"To create a lot\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_date_end",
            "Trans": "{\n    \"ru\": \"Дата окончания торгов\",\n    \"en\": \"The end date of the auction\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_date_start",
            "Trans": "{\n    \"ru\": \"Дата начала торгов\",\n    \"en\": \"Beginning date of\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_delete",
            "Trans": "{\n    \"ru\": \"Удалить лот\",\n    \"en\": \"To remove lot\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_delete_auction",
            "Trans": "{\n    \"ru\": \"Вы действительно хотите удалить аукцион?\",\n    \"en\": \"Do you want to remove the auction?\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_description",
            "Trans": "{\n    \"ru\": \"Описание\",\n    \"en\": \"Description\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_dimensions",
            "Trans": "{\n    \"ru\": \"Габариты\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_edit",
            "Trans": "{\n    \"ru\": \"Редактирование лота\",\n    \"en\": \"Edit the lot\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_height",
            "Trans": "{\n    \"ru\": \"Высота\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_kg",
            "Trans": "{\n    \"ru\": \"килограмм\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_length",
            "Trans": "{\n    \"ru\": \"Длина\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_list",
            "Trans": "{\n    \"ru\": \"Список лотов\",\n    \"en\": \"List of lots\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_liter",
            "Trans": "{\n    \"ru\": \"литр\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_name",
            "Trans": "{\n    \"ru\": \"Название\",\n    \"en\": \"Name\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_no",
            "Trans": "{\n    \"ru\": \"Нет\",\n    \"en\": \"No\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_not_found",
            "Trans": "{\n    \"ru\": \"Лоты не найдены\",\n    \"en\": \"Lots not found\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_select_cat",
            "Trans": "{\"ru\":\"Выбор категории\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_select_type",
            "Trans": "{\n    \"ru\": \"Выбор вида\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_signed",
            "Trans": "{\n    \"ru\": \"Торги завершены, подпись получена\",\n    \"en\": \"The bidding is completed, the signature obtained\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_status",
            "Trans": "{\n    \"ru\": \"Статус\",\n    \"en\": \"Status\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_subscribe",
            "Trans": "{\n    \"ru\": \"Подписаться\",\n    \"en\": \"Subscribe\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_ton",
            "Trans": "{\n    \"ru\": \"тонна\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_type",
            "Trans": "{\n    \"ru\": \"Вид\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_type01",
            "Trans": "{\"ru\":\"АРМАТУРА ПРОМЫШЛЕННАЯ ТРУБОПРОВОДНАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type02",
            "Trans": "{\"ru\":\"ДЕТАЛИ ТРУБОПРОВОДОВ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type03",
            "Trans": "{\"ru\":\"ПРОДУКЦИЯ ТРУБНАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type04",
            "Trans": "{\"ru\":\"З/Ч И КОМПЛЕКТУЮЩИЕ К ОБОР. ТЕХНОЛОГИЧ.\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type05",
            "Trans": "{\"ru\":\"ОБОРУДОВАНИЕ БЛОЧНОЕ НЕФТЕПРОМЫСЛОВОЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type06",
            "Trans": "{\"ru\":\"ОБОРУДОВАНИЕ ТЕХНОЛОГИЧЕСКОЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type07",
            "Trans": "{\"ru\":\"З/Ч К БУРОВОМУ ОБОРУДОВАНИЮ, ИНСТРУМЕНТУ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type08",
            "Trans": "{\"ru\":\"З/Ч К НЕФТЕПРОМЫСЛОВОМУ И ПОГРУЖ.ОБОРУД.\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type09",
            "Trans": "{\"ru\":\"ИНСТРУМЕНТ ЛОВИЛЬНЫЙ, КРС И З/Ч К НЕМУ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type10",
            "Trans": "{\"ru\":\"ОБОРУД-НИЕ И ИНСТР.БУРОВОЙ, ТЕХ.ОСНАСТКА\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type11",
            "Trans": "{\"ru\":\"ОБОРУД-НИЕ НЕФТЕПРОМЫСЛОВОЕ, НЕФТЕПОГРУЖ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type12",
            "Trans": "{\"ru\":\"ОБОРУДОВАНИЕ И ЗАПЧАСТИ ДЛЯ ГЕОФИЗИКИ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type13",
            "Trans": "{\"ru\":\"ЗАПЧАСТИ И КОМПЛЕКТУЮЩИЕ К ТЕХНИКЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type14",
            "Trans": "{\"ru\":\"МЕТАЛЛОИЗДЕЛИЯ ПРОМЫШЛЕННОГО НАЗНАЧЕНИЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type15",
            "Trans": "{\"ru\":\"ПРОКАТ ЦВЕТНЫХ МЕТАЛЛОВ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type16",
            "Trans": "{\"ru\":\"ПРОКАТ ЧЕРНЫХ МЕТАЛЛОВ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type17",
            "Trans": "{\"ru\":\"ОБЕСПЕЧЕНИЕ ПРОГРАММНОЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type18",
            "Trans": "{\"ru\":\"СРЕДСТВА АСУТП\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type19",
            "Trans": "{\"ru\":\"СРЕДСТВА КОММУНИКАЦИИ И СВЯЗИ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type20",
            "Trans": "{\"ru\":\"ПРИБОРЫ И СРЕДСТВА АВТОМАТИЗАЦИИ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type21",
            "Trans": "{\"ru\":\"ТЕХНИКА ВЫЧИСЛИТЕЛЬНАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type22",
            "Trans": "{\"ru\":\"ОБОРУДОВАНИЕ, ПРИБОРЫ, ЛАБОРАТОРНЫЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type23",
            "Trans": "{\"ru\":\"ПОЛИМЕРЫ, ПЛАСТИЧ. МАССЫ, ХИМИЧ. ВОЛОКНА\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type24",
            "Trans": "{\"ru\":\"ПОСУДА, МАТЕРИАЛЫ ВСПОМ-НЫЕ ЛАБОРАТОРНЫЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type25",
            "Trans": "{\"ru\":\"РЕАКТИВЫ ХИМИЧЕСКИЕ ДЛЯ АНАЛИЗОВ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type26",
            "Trans": "{\"ru\":\"ХИМПРОДУКЦИЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type27",
            "Trans": "{\"ru\":\"ПРОДУКЦИЯ КАБЕЛЬНАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type28",
            "Trans": "{\"ru\":\"ТЕХНИКА ТРАНСПОРТНАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type29",
            "Trans": "{\"ru\":\"ИЗД. КУЛЬТУРНО-БЫТ. НАЗН. И ХОЗ. ОБИХОДА\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type30",
            "Trans": "{\"ru\":\"КАНЦТОВАРЫ, ОФИСНАЯ ТЕХН., ПРОД.БУМАЖНАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type31",
            "Trans": "{\"ru\":\"МЕБЕЛЬ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type32",
            "Trans": "{\"ru\":\"ПРОДУКЦИЯ ПОЛИГРАФИЧЕСКОЙ ПРОМЫШЛЕННОСТИ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type33",
            "Trans": "{\"ru\":\"ИНСТРУМЕНТ, МАТЕРИАЛЫ АБРАЗИВНЫЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type34",
            "Trans": "{\"ru\":\"КРЕПЕЖНЫЕ ИЗДЕЛИЯ ОБЩЕМАШИНОСТРОИТЕЛЬН.\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type35",
            "Trans": "{\"ru\":\"МАТЕРИАЛЫ ОГНЕУП., ТЕРМОИЗОЛЯЦ., СТРОИТ.\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type36",
            "Trans": "{\"ru\":\"ОБОРУДОВАНИЕ ПРОТИВОПОЖАРНОЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type37",
            "Trans": "{\"ru\":\"СПЕЦОДЕЖДА, СПЕЦОБУВЬ И ДРУГИЕ СИЗ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type38",
            "Trans": "{\"ru\":\"СРЕДСТВА АВАРИЙНО-СПАСАТ. И МЕДИЦИНСКИЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type39",
            "Trans": "{\"ru\":\"МАШИНЫ ЭЛЕКТРИЧЕСКИЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type40",
            "Trans": "{\"ru\":\"ОБОРУД-ИЕ И МАТЕРИАЛЫ ЭЛЕКТРОТЕХНИЧЕСКИЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type41",
            "Trans": "{\"ru\":\"ЗАПЧАСТИ К ОБОРУДОВАНИЮ МЕХАНИЧЕСКОМУ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type42",
            "Trans": "{\"ru\":\"ОБОРУДОВАНИЕ МЕХАНИЧЕСКОЕ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type43",
            "Trans": "{\"ru\":\"ПОДШИПНИКИ КАЧЕНИЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type44",
            "Trans": "{\"ru\":\"ПРОДУКЦИЯ РЕЗИНОТЕХНИЧЕСКАЯ И АСБЕСТОВАЯ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_type45",
            "Trans": "{\"ru\":\"ПРОДУКЦИЯ ТЕКСТИЛЬН. - ТКАНИ И МАТЕРИАЛЫ\"}",
            "Type": "languages"
        },
        {
            "Name": "lots_view",
            "Trans": "{\n    \"ru\": \"Просмотр лота\",\n    \"en\": \"View of the lot\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_waiting_for_sign",
            "Trans": "{\n    \"ru\": \"Торги завершены, ожидание подписи\",\n    \"en\": \"Bidding completed, pending signature\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_waiting_for_start",
            "Trans": "{\n    \"ru\": \"Ожидание начала торгов\",\n    \"en\": \"Waiting to start trading\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_weight",
            "Trans": "{\n    \"ru\": \"Вес\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_width",
            "Trans": "{\n    \"ru\": \"Ширина\"\n}",
            "Type": "languages"
        },
        {
            "Name": "lots_yes",
            "Trans": "{\n    \"ru\": \"Да\",\n    \"en\": \"Yes\"\n}",
            "Type": "languages"
        },
        {
            "Name": "order_max",
            "Trans": "{\n    \"ru\": \"Максимальная ставка\",\n    \"en\": \"The maximum bet\"\n}",
            "Type": "languages"
        },
        {
            "Name": "order_min",
            "Trans": "{\n    \"ru\": \"Минимальная ставка\",\n    \"en\": \"The minimum bet\"\n}",
            "Type": "languages"
        },
        {
            "Name": "photo",
            "Trans": "{\n    \"ru\": \"Фото\",\n    \"en\": \"Photo\"\n}",
            "Type": "languages"
        },
        {
            "Name": "seller",
            "Trans": "{\n    \"ru\": \"Продавец\",\n    \"en\": \"Seller\"\n}",
            "Type": "languages"
        },
        {
            "Name": "buyers",
            "Columns": "[{\"conditions\":\"true\",\"name\":\"amount\",\"type\":\"money\"},{\"conditions\":\"true\",\"name\":\"lot_id\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"buyer_id\",\"type\":\"number\"}]",
            "Permissions": "{\"insert\": \"ContractConditions(\\\"MainCondition\\\")\", \"update\": \"ContractConditions(\\\"MainCondition\\\")\", \"new_column\": \"ContractConditions(\\\"MainCondition\\\")\"}",
            "Type": "tables"
        },
        {
            "Name": "lots",
            "Columns": "[\n    {\n        \"conditions\": \"true\",\n        \"name\": \"status\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"deleted\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"photo\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"order_min\",\n        \"type\": \"money\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"amount_final\",\n        \"type\": \"money\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"date_creation\",\n        \"type\": \"datetime\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"name\",\n        \"type\": \"text\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"seller\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"order_max\",\n        \"type\": \"money\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"amount_max\",\n        \"type\": \"money\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"buyer\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"date_start\",\n        \"type\": \"datetime\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"contract_id\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"description\",\n        \"type\": \"text\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"amount_starting\",\n        \"type\": \"money\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"date_end\",\n        \"type\": \"datetime\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"unit_count\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"weight\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"weight_type\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"length\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"width\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"height\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"lots_type_id\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"category\",\n        \"type\": \"number\"\n    }\n]",
            "Permissions": "{\"insert\": \"ContractConditions(\\\"MainCondition\\\")\", \"update\": \"ContractConditions(\\\"MainCondition\\\")\", \"new_column\": \"ContractConditions(\\\"MainCondition\\\")\"}",
            "Type": "tables"
        },
        {
            "Name": "lots_types",
            "Columns": "[\n    {\n        \"conditions\": \"true\",\n        \"name\": \"resource_name\",\n        \"type\": \"varchar\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"category\",\n        \"type\": \"number\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"lots_params\",\n        \"type\": \"varchar\"\n    },\n    {\n        \"conditions\": \"true\",\n        \"name\": \"deleted\",\n        \"type\": \"number\"\n    }\n]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}",
            "Type": "tables"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "lots_cat01,lots_cat02,lots_cat03,lots_cat04,lots_cat05,lots_cat06,lots_cat07,lots_cat08,lots_cat09,lots_cat10,lots_cat11,lots_cat12,lots_cat13",
            "Name": "lots_categories",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "lots_dimensions,lots_weight,lots_weight2,lots_count",
            "Name": "lots_params",
            "Type": "app_params"
        },
        {
            "Conditions": "true",
            "Value": "lots_waiting_for_start,lots_bidding,lots_waiting_for_sign,lots_signed",
            "Name": "lots_status",
            "Type": "app_params"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "lots_kg,lots_ton,lots_liter",
            "Name": "lots_weight_types",
            "Type": "app_params"
        },
        {
            "Conditions": "true",
            "Value": "DBFind(applications).Columns(\"id\").Where(\"name='Trading Platform' AND deleted=0\").Vars(application)\r\nSetVar(title, $lots_create$).(name,).(description,).(amount_starting,).(order_min,).(order_max,).(date_start,).(date_end,).(time_start,).(time_end,).(contract_text,).(unit_count,).(weight,).(weight_type,).(length,).(width,).(height,)\r\n\r\nSetVar(Action,\"create\").(BtnBody,LangRes(create))\r\nIf(GetVar(Id)){\r\n    SetVar(Action,\"edit\").(BtnBody,LangRes(save))\r\n\r\n    DBFind(lots, src_lots).Where(\"id=#Id#\").Vars(lot)\r\n    SetVar(title, $lots_edit$)\r\n    SetVar(name, $lot_name$)\r\n    SetVar(description, $lot_description$)\r\n    SetVar(amount_starting, Money(#lot_amount_starting#))\r\n    SetVar(order_min, Money(#lot_order_min#))\r\n    SetVar(order_max, Money(#lot_order_max#))\r\n    SetVar(date_start, DateTime(#lot_date_start#, YYYY-MM-DD))\r\n    SetVar(date_end, DateTime(#lot_date_end#, YYYY-MM-DD))\r\n    SetVar(time_start, DateTime(#lot_date_start#, HH:mm))\r\n    SetVar(time_end, DateTime(#lot_date_end#, HH:mm))\r\n    SetVar(contract_text,Binary().ById(#lot_contract_id#))\r\n    SetVar(unit_count,#lot_unit_count#)\r\n    SetVar(weight,#lot_weight#)\r\n    SetVar(weight_type,#lot_weight_type#)\r\n    SetVar(length,#lot_length#)\r\n    SetVar(width,#lot_width#)\r\n    SetVar(height,#lot_height#)\r\n\r\n    SetVar(TypeId,#lot_type_id#)\r\n    SetVar(CatId,#lot_category#)\r\n}\r\nSetTitle(#title#)\r\n\r\n\r\nDiv(content-wrapper){\r\n    Div(breadcrumb){\r\n        LinkPage($lots_list$, lots_list)\r\n        Span(/,mh)\r\n        Span(Class: text-muted, Body: #title#)\r\n    }\r\n\r\n    Div(row){\r\n        Div(col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3){\r\n            Form(panel panel-primary){\r\n                If(GetVar(TypeId)){\r\n                    DBFind(lots_types,src_type).Where(\"deleted=0 and id=#TypeId#\").Vars(type)\r\n\r\n                    Div(panel-heading){#title#}\r\n                    Div(panel-body){\r\n                        If(GetVar(Id)) {\r\n                            Input(Name: Id, Type: hidden, Value: #Id#)\r\n                        }\r\n                        Div(list-group-item){\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Strong(LangRes(lots_cat))\r\n                                }\r\n                                Div(col-md-9 text-left mt-sm){\r\n                                    AppParam(App: #application_id#, Name: lots_categories, Index: #CatId#)\r\n                                }\r\n                            }\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Strong(LangRes(lots_type))\r\n                                }\r\n                                Div(col-md-9 text-left mt-sm){\r\n                                    ForList(src_type){\r\n                                        LangRes(#resource_name#)\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        Div(list-group-item){\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: Name){LangRes(lots_name)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: Name, Value: #name#)\r\n                                }\r\n                            }\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: Description){LangRes(lots_description)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: Description, Type: textarea, Value: #description#)\r\n                                }\r\n                            }\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: Photo){LangRes(Photo)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: Photo, Type: file)\r\n                                }\r\n                            }\r\n                            If(#lot_contract_id#>0){\r\n                                Div(row mt-sm){\r\n                                    Div(col-md-3 mt-sm text-right){\r\n                                        Label(For: LotContract){LangRes(lots_contract)}\r\n                                    }\r\n                                    Div(col-md-9 mt-sm text-left){\r\n                                        #contract_text#\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            ArrayToSource(type_blocks, [#type_lots_params#])\r\n                            ForList(type_blocks){\r\n                                Div(row mt-sm){\r\n                                    SetVar(block,AppParam(App:#application_id#, Name:lots_params, Index:#value#))\r\n                                    Include(#block#)\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                        Div(list-group-item){\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: DateStart){LangRes(lots_date_start)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Div(row){\r\n                                        Div(col-md-6){\r\n                                            Input(Name: DateStart, Type: date, Value: #date_start#)\r\n                                        }\r\n                                        Div(col-md-6){\r\n                                            Input(Name: TimeStart, Type: time, Value: #time_start#)\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: DateEnd){LangRes(lots_date_end)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Div(row){\r\n                                        Div(col-md-6){\r\n                                            Input(Name: DateEnd, Type: date, Value: #date_end#)\r\n                                        }\r\n                                        Div(col-md-6){\r\n                                            Input(Name: TimeEnd, Type: time, Value: #time_end#)\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        Div(list-group-item){\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: AmountStarting){LangRes(amount_starting)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: AmountStarting, Type: number, Value: #amount_starting#)\r\n                                }\r\n                            }\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: OrderMin){LangRes(order_min)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: OrderMin, Type: number, Value: #order_min#)\r\n                                }\r\n                            }\r\n                            Div(row mt-sm){\r\n                                Div(col-md-3 mt-sm text-right){\r\n                                    Label(For: OrderMax){LangRes(order_max)}\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: OrderMax, Type: number, Value: #order_max#)\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                    Div(panel-footer text-right){\r\n                        If(GetVar(Id)) {\r\n                            Button(Body: $lots_back$, Class: btn btn-default pull-left, Page: lots_list)\r\n                        }.Else{\r\n                            Button(Body: $lots_back$, Class: btn btn-default pull-left, Page: lots_edit, PageParams: \"CatId=#CatId#\")\r\n                        }\r\n                        Button(Body: #BtnBody#, Class: btn btn-primary, Contract: lots_Manager, Page: lots_list, Params: \"Action=#Action#\")\r\n                    }\r\n                }.Else{\r\n                    If(GetVar(CatId)){\r\n                        SetVar(Cat,AppParam(App: #application_id#, Name: lots_categories, Index: #CatId#))\r\n                        Div(panel-heading){$lots_cat$ LangRes(#Cat#): LangRes(lots_select_type)}\r\n                        Div(panel-body text-center){\r\n                            DBFind(lots_types,src_types).Where(\"deleted=0 and category=#CatId#\")\r\n                            ForList(src_types){\r\n                                Button(Body: LangRes(#resource_name#), Class: btn btn-primary mr-sm mb-sm, Page: lots_edit, PageParams: \"TypeId=#id#,CatId=#CatId#\")\r\n                            }\r\n                        }\r\n                        Div(panel-footer text-left){\r\n                            Button(Body: $lots_back$, Class: btn btn-default, Page: lots_edit)\r\n                        }\r\n                    }.Else{\r\n                        Div(panel-heading){LangRes(lots_select_cat)}\r\n                        Div(panel-body text-center){\r\n                            AppParam(App: #application_id#, Name: lots_categories, Source: src_cats)\r\n                            ForList(src_cats){\r\n                                Button(Body: #name#, Class: btn btn-primary mr-sm mb-sm, Page: lots_edit, PageParams: \"CatId=#id#\")\r\n                            }\r\n                        }\r\n                        Div(panel-footer text-left){\r\n                            Button(Body: $lots_back$, Class: btn btn-default, Page: lots_list)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
            "Name": "lots_edit",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "\r\nDBFind(applications).Columns(\"id\").Where(\"name='Trading Platform' AND deleted=0\").Vars(application)\r\nDBFind(roles).Where(\"id=#role_id#\").Columns(\"role_name\").Vars(r)\r\nSetTitle($lots_list$)\r\nDiv(content-wrapper){\r\n    Div(breadcrumb){\r\n        Span(Class: text-muted, Body: $lots_list$)\r\n    }\r\n\r\n    SetVar(Where,\"deleted=0\")\r\n    If(GetVar(Search)){\r\n        If(GetVar(Status)!=\"\"){\r\n            SetVar(Where,\"#Where# and name='#Search#' and status=#Status#\")\r\n        }.Else{\r\n            SetVar(Where,\"#Where# and name='#Search#'\")\r\n        }\r\n    }.Else{\r\n        If(GetVar(Status)!=\"\"){\r\n            SetVar(Where,\"#Where# and status=#Status#\")\r\n        }\r\n        SetVar(Search,)\r\n    }\r\n\r\n    AddToolButton(Title: $lots_create$, Page: lots_edit, Icon: icon-plus)\r\n    Div(text-right){\r\n        Data(status_icons, \"Icon\"){\r\n            fa fa-hourglass-start\r\n            fa fa-hourglass-half\r\n            fa fa-hourglass-end\r\n            fa fa-check\r\n        }\r\n\r\n        If(GetVar(Status)!=\"\"){\r\n            Button(Class: fa fa-times mr-sm btn bg-danger, Page: lots_list)\r\n        }\r\n        ForList(status_icons){\r\n            SetVar(status,Calculate(#status_icons_index#-1))\r\n            If(#Status#==#status#){\r\n                Button(Class: #Icon# mr-sm btn bg-gray-lighter, Page: lots_list, PageParams: \"Status=#status#,Search=#Search#\")\r\n            }.Else{\r\n                Button(Class: #Icon# mr-sm btn bg-gray, Page: lots_list, PageParams: \"Status=#status#,Search=#Search#\")\r\n            }\r\n        }\r\n    }.Style(div {display:inline-block;})\r\n\r\n    Form(panel panel-primary){\r\n        Div(panel-body){\r\n            Div(row){\r\n                Div(col-md-12){\r\n                    Div(input-group){\r\n                        Div(input-group-addon){\r\n                            LangRes(name)\r\n                        }\r\n                        Input(Name: Search, Value: #Search#)\r\n                        Div(input-group-btn){\r\n                            Button(Class: fa fa-search btn btn-default, Page: lots_list, PageParams: \"Search=Val(Search)\")\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            DBFind(lots, src_lots).Where(\"#Where#\").Count(lots_count).Custom(_name){\r\n                Div(text-left){\r\n                    LinkPage(Class: text-primary h5 text-bold, Page: lots_view, PageParams: \"Id=#id#\", Body: #name#)\r\n                }\r\n            }.Custom(_photo){\r\n                Image(Src: Binary().ById(#photo#), Class:photo)\r\n            }.Custom(_seller){\r\n                Div(text-nowrap){\r\n                    DBFind(members).Columns(\"id,member_name,image_id\").Where(\"id=#seller#\").Vars(seller)\r\n                    If(Or(#seller_id#>0,#seller_id#<0)){\r\n                    }.Else{\r\n                        SetVar(seller_member_name,Address(#seller#))\r\n                    }\r\n                    LinkPage(Class: center text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#seller#\"){\r\n                        If(#seller_image_id#>0){\r\n                            Image(Src: Binary().ById(#seller_image_id#), Class: img-circle)\r\n                        }.Else{\r\n                            Div(Class: fa icon-user fa-2x mr)\r\n                        }\r\n                        Div(){#seller_member_name#}\r\n                    }\r\n                }\r\n            }.Custom(_date_creation){\r\n                DateTime(#date_creation#, DD.MM.YYYY)\r\n            }.Custom(_date_start){\r\n                DateTime(#date_start#, DD.MM.YYYY)\r\n            }.Custom(_date_end){\r\n                DateTime(#date_end#, DD.MM.YYYY)\r\n            }.Custom(_amount_starting){\r\n                Money(#amount_starting#)\r\n            }.Custom(_amount_final){\r\n                Money(#amount_final#)\r\n            }.Custom(_status){\r\n                SetVar(status_index, Calculate(#status# + 1))\r\n                If(#status_index#==4){\r\n                    SetVar(status_class,text-success)\r\n                }.Else{\r\n                    SetVar(status_class,text-warning)\r\n                }\r\n                Div(#status_class#){\r\n                    AppParam(App: #application_id#, Name: lots_status, Index: #status_index#)\r\n                }\r\n            }.Custom(_actions){\r\n                Div(text-right text-nowrap){\r\n                    If(#status#>0){\r\n                        If(#r_role_name#==\"Buyer\"){\r\n                            Button(Class: btn btn-primary, Body: $lots_bid$, Page: lots_list)\r\n                        }\r\n                    }.Else{\r\n                        If(#r_role_name#==\"Buyer\"){\r\n                            Button(Class: btn btn-primary, Body: $lots_subscribe$, Page: lots_list)\r\n                        }.ElseIf(And(#seller#==#key_id#,#r_role_name#==\"Seller\")){\r\n                            Button(Class: btn btn-default fa fa-edit mr-sm, Page: lots_edit, PageParams: \"Id=#id#\")\r\n                            Button(Class: btn btn-danger fa fa-trash, Page: lots_list, Contract: lots_Delete, Params: \"Id=#id#\").Alert($lots_delete_auction$, $lots_yes$, $lots_no$)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            Div(row){\r\n                Div(col-md-12){\r\n                    If(#lots_count#>0){\r\n                        Div(table-responsive){\r\n                            Table(src_lots,\"ID=id,$lots_name$=_name,$photo$=_photo,$seller$=_seller,$date_creation$=_date_creation,$lots_date_start$=_date_start,$lots_date_end$=_date_end,$amount_starting$=_amount_starting,$amount_final$=_amount_final,$lots_status$=_status,=_actions\")\r\n                        }\r\n                    }.Else{\r\n                        Div(text-center h3){\r\n                            LangRes(lots_not_found)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            If(GetVar(Search)){\r\n                Div(row){\r\n                    Div(col-md-12 mt-lg){\r\n                        Div(text-center){\r\n                            Button(Body: LangRes(show_all), Class: btn btn-primary, Page: lots_list)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }.Style(\r\n            th,td {text-align:center;}\r\n            .img-circle {height: 30px;width: 30px; border: 1px solid #5A5D63;}\r\n            .center {display:flex; align-items:center;}\r\n            .photo {height: 100px; width: 100px;}\r\n        )\r\n    }\r\n}",
            "Name": "lots_list",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "DBFind(applications).Columns(\"id\").Where(\"name='Trading Platform' AND deleted=0\").Vars(application)\r\nDiv(content-wrapper){\r\n    Div(breadcrumb){\r\n        LinkPage($lots_list$, lots_list)\r\n        Span(/,mh)\r\n        Span(Class: text-muted, Body: $lots_view$)\r\n    }\r\n\r\n    If(GetVar(Id)){\r\n        DBFind(lots).Where(\"id=#Id#\").Vars(lot)\r\n        DBFind(roles).Columns(\"role_name\").Where(\"id=#role_id#\").Vars(r)\r\n\r\n        Div(row){\r\n            Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3){\r\n                Form(panel panel-default){\r\n                    Div(panel-heading text-center){\r\n                        If(#lot_deleted#==1){\r\n                            Div(Class: h2 text-danger, Body: LangRes(lot_deleted))\r\n                        }\r\n                        Div(Class: h3, Body: #lot_name#)\r\n                    }\r\n                    Div(panel-body){\r\n                        Div(text-center){\r\n                            Image(Src: Binary().ById(#lot_photo#), Class:big_photo mb-lg)\r\n                        }\r\n                        Div(list-group-item text-center){\r\n                            SetVar(status_index, Calculate(#lot_status# + 1))\r\n                            If(#status_index# == 4){\r\n                                Div(Class: text-success, Body: AppParam(App: #application_id#, Name: lots_status, Index: #status_index#))\r\n                                Div(col-md-6 mt-sm text-right){\r\n                                    LangRes(buyer)\r\n                                }\r\n                                Div(col-md-6 text-left){\r\n                                    DBFind(members).Columns(\"id,member_name,image_id\").Where(\"id=#lot_buyer#\").Vars(buyer)\r\n                                    If(Or(#buyer_id#>0,#buyer_id#<0)){\r\n                                    }.Else{\r\n                                        SetVar(buyer_member_name,Address(#lot_buyer#))\r\n                                    }\r\n                                    LinkPage(Class: center text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#seller#\"){\r\n                                        If(#buyer_image_id#>0){\r\n                                            Image(Src: Binary().ById(#buyer_image_id#), Class: img-circle mr)\r\n                                        }.Else{\r\n                                            Span(Class: fa icon-user fa-2x mr)\r\n                                        }\r\n                                        Span(#buyer_member_name#)\r\n                                    }\r\n                                }\r\n\r\n                            }.Else{\r\n                                Div(Class: text-warning, Body: AppParam(App: #application_id#, Name: lots_status, Index: #status_index#))\r\n                            }\r\n                        }\r\n                        Div(form-group){\r\n                            Div(list-group-item text-center){\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        ID\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        #lot_id#\r\n                                    }\r\n                                }\r\n\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(lots_description)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        #lot_description#\r\n                                    }\r\n                                }\r\n\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 mt-sm text-right){\r\n                                        LangRes(seller)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        DBFind(members).Columns(\"id,member_name,image_id\").Where(\"id=#lot_seller#\").Vars(seller)\r\n                                        If(Or(#seller_id#>0,#seller_id#<0)){\r\n                                        }.Else{\r\n                                            SetVar(seller_member_name,Address(#lot_seller#))\r\n                                        }\r\n                                        LinkPage(Class: center text-primary h5 text-bold, Page: profile_view, PageParams: \"v_member_id=#lot_seller#\"){\r\n                                            If(#seller_image_id#>0){\r\n                                                Image(Src: Binary().ById(#seller_image_id#), Class: img-circle)\r\n                                            }.Else{\r\n                                                Span(Class: fa icon-user fa-2x mr)\r\n                                            }\r\n                                            Span(#seller_member_name#)\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            Div(list-group-item text-center){\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(date_creation)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        DateTime(#lot_date_creation#, DD.MM.YYYY)\r\n                                    }\r\n                                }\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(lots_date_start)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        DateTime(#lot_date_start#, DD.MM.YYYY)\r\n                                    }\r\n                                }\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(lots_date_end)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        DateTime(#lot_date_end#, DD.MM.YYYY)\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            Div(list-group-item text-center){\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(amount_starting)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        Money(#lot_amount_starting#)\r\n                                    }\r\n                                }\r\n\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(amount_final)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        Money(#lot_amount_final#)\r\n                                    }\r\n                                }\r\n\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(order_min)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        Money(#lot_order_min#)\r\n                                    }\r\n                                }\r\n\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(order_max)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        Money(#lot_order_max#)\r\n                                    }\r\n                                }\r\n\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-6 text-right){\r\n                                        LangRes(lots_amount_max)\r\n                                    }\r\n                                    Div(col-md-6 text-left){\r\n                                        Money(#lot_amount_max#)\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            Div(list-group-item text-center){\r\n                                Div(row mt-sm t4){\r\n                                    Div(col-md-12){\r\n                                        DBFind(binaries, src_binaries).Where(\"id=#lot_contract_id#\")\r\n                                        Table(Source: src_binaries, \"$lots_contract$=data\")\r\n                                    }\r\n                                }\r\n                            }\r\n                            If(#lot_deleted#==0) {\r\n                                If(#r_role_name#==\"Buyer\"){\r\n                                    Div(list-group-item text-center){\r\n                                        If(#lot_status#==0){\r\n                                            Button(Class: btn btn-primary btn-block, Body: $lots_subscribe$, Page: lots_list)\r\n                                        }.Else{\r\n                                            Button(Class: btn btn-primary btn-block, Body: $lots_bid$, Page: lots_list)\r\n                                        }\r\n                                    }\r\n                                }.ElseIf(#r_role_name#==\"Seller\"){\r\n                                    If(And(#lot_seller#==#key_id#,#lot_status#==0)){\r\n                                        Div(list-group-item text-center){\r\n                                            Button(Class: btn btn-default btn-block, Body: LangRes(lot_edit), Page: lots_edit, PageParams: \"Id=#Id#\")\r\n                                        }\r\n                                        Div(list-group-item text-center){\r\n                                            Button(Class: btn btn-danger btn-block, Body: LangRes(lots_delete), Page: lots_list, Contract: lots_Delete, Params: \"Id=#Id#\").Alert($lots_delete_auction$, $lots_yes$, $lots_no$)\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}.Style(\r\n    th,td {text-align:center;}\r\n    .t4 {font-size:18px;}\r\n    .img-circle {height: 30px;width: 30px; border: 1px solid #5A5D63;}\r\n    .center {display:flex; align-items:center;}\r\n    .big_photo {height: 300px; width: 300px;}\r\n)",
            "Name": "lots_view",
            "Menu": "default_menu",
            "Type": "pages"
        },
        {
            "Conditions": "true",
            "Value": "contract lots_Delete {\r\n    data {\r\n        Id int\r\n    }\r\n    conditions {\r\n        var lot map\r\n        lot = DBFind(\"lots\").Where(\"id=? and deleted=0\", $Id).Row()\r\n        if !lot {\r\n            warning \"Lot not found\"\r\n        }\r\n        if lot[\"status\"] > 0 {\r\n            warning \"Bidding has already begun\"\r\n        }\r\n        if lot[\"seller\"] != $key_id {\r\n            warning \"You are not owner of the lot\"\r\n        }\r\n    }\r\n\r\n    action {\r\n        DBUpdate(\"lots\", $Id, \"deleted\", 1)\r\n    }\r\n}",
            "Name": "lots_Delete",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract lots_InstallTypes {\r\n    data {}\r\n    func insertType(res,cat,params string){\r\n        if !DBFind(\"lots_types\").Where(\"deleted=0 and resource_name=?\", res).Row(){\r\n            DBInsert(\"lots_types\", \"resource_name,category,lots_params\", res, cat, params)\r\n        }\r\n    }\r\n    action {\r\n        // App Param \"lots_params\"\r\n        // 1. lots_dimensions: габариты (длинна / высота / ширина)\r\n        // 2. lots_weight: вес (кг/тонн)\r\n        // 3. lots_weight2: вес (кг/тонн/литры)\r\n        // 4. lots_counts: количество (шт.)\r\n\r\n        insertType(\"lots_type01\",\"1\", \"1,2,4\")\r\n        insertType(\"lots_type02\",\"2\", \"1,2,4\")\r\n        insertType(\"lots_type03\",\"2\", \"1,2,4\")\r\n        insertType(\"lots_type04\",\"3\", \"1,2,4\")\r\n        insertType(\"lots_type05\",\"3\", \"1,2,4\")\r\n        insertType(\"lots_type06\",\"3\", \"1,2,4\")\r\n        insertType(\"lots_type07\",\"4\", \"1,2,4\")\r\n        insertType(\"lots_type08\",\"4\", \"1,2,4\")\r\n        insertType(\"lots_type09\",\"4\", \"1,2,4\")\r\n        insertType(\"lots_type10\",\"4\", \"1,2,4\")\r\n        insertType(\"lots_type11\",\"4\", \"1,2,4\")\r\n        insertType(\"lots_type12\",\"4\", \"1,2,4\")\r\n        insertType(\"lots_type13\",\"5\", \"1,2,4\")\r\n        insertType(\"lots_type14\",\"5\", \"1,2,4\")\r\n        insertType(\"lots_type15\",\"5\", \"1,2,4\")\r\n        insertType(\"lots_type16\",\"5\", \"1,2,4\")\r\n        insertType(\"lots_type17\",\"6\", \"4\")\r\n        insertType(\"lots_type18\",\"6\", \"4\")\r\n        insertType(\"lots_type19\",\"6\", \"4\")\r\n        insertType(\"lots_type20\",\"6\", \"4\")\r\n        insertType(\"lots_type21\",\"6\", \"4\")\r\n        insertType(\"lots_type22\",\"7\", \"1,3,4\")\r\n        insertType(\"lots_type23\",\"7\", \"1,3,4\")\r\n        insertType(\"lots_type24\",\"7\", \"1,3,4\")\r\n        insertType(\"lots_type25\",\"7\", \"1,3,4\")\r\n        insertType(\"lots_type26\",\"7\", \"1,3,4\")\r\n        insertType(\"lots_type27\",\"8\", \"1,2,4\")\r\n        insertType(\"lots_type28\",\"9\", \"1,2,4\")\r\n        insertType(\"lots_type29\",\"10\", \"1,2,4\")\r\n        insertType(\"lots_type30\",\"10\", \"1,2,4\")\r\n        insertType(\"lots_type31\",\"10\", \"1,2,4\")\r\n        insertType(\"lots_type32\",\"10\", \"1,2,4\")\r\n        insertType(\"lots_type33\",\"11\", \"1,2,4\")\r\n        insertType(\"lots_type34\",\"11\", \"1,2,4\")\r\n        insertType(\"lots_type35\",\"11\", \"1,2,4\")\r\n        insertType(\"lots_type36\",\"12\", \"1,2,4\")\r\n        insertType(\"lots_type37\",\"12\", \"1,2,4\")\r\n        insertType(\"lots_type38\",\"12\", \"1,2,4\")\r\n        insertType(\"lots_type39\",\"13\", \"1,2,4\")\r\n        insertType(\"lots_type40\",\"13\", \"1,2,4\")\r\n        insertType(\"lots_type41\",\"13\", \"1,2,4\")\r\n        insertType(\"lots_type42\",\"13\", \"1,2,4\")\r\n        insertType(\"lots_type43\",\"13\", \"1,2,4\")\r\n        insertType(\"lots_type44\",\"13\", \"1,2,4\")\r\n        insertType(\"lots_type45\",\"13\", \"1,2,4\")\r\n\r\n    }\r\n}",
            "Name": "lots_InstallTypes",
            "Type": "contracts"
        },
        {
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "contract lots_Manager {\r\n    data {\r\n        Action string\r\n        Id string \"optional\"\r\n        TypeId int\r\n        Name string \r\n        Description string\r\n        Photo bytes \"file\"\r\n        DateStart string \"date\"\r\n        TimeStart string \"date\"\r\n        DateEnd string \"date\"\r\n        TimeEnd string \"date\"\r\n        AmountStarting money\r\n        OrderMin money\r\n        OrderMax money\r\n        Count int\r\n        Weight string \"optional\"\r\n        WeightType string \"optional\"\r\n        Length string \"optional\"\r\n        Width string \"optional\"\r\n        Height string \"optional\"\r\n    }\r\n    func trimZeroTime(s string) string{\r\n        if Contains(s, \"T00:00:00Z\"){\r\n            s = s Replace(s, \"T00:00:00Z\", \"\")\r\n        }\r\n        return s\r\n    }\r\n    func checkZero(s string) string{\r\n        if Contains(s, \"T00:00:00Z\"){\r\n            s = s Replace(s, \"T00:00:00Z\", \"\")\r\n        }\r\n        return s\r\n    }\r\n    conditions {\r\n        $Id = Int($Id)\r\n        if !($Action == \"create\" || $Action == \"edit\") {\r\n            warning \"Lot: unknown action\"\r\n        }\r\n        if $Action == \"create\" {\r\n            RoleConditions(\"role\", \"Seller\")\r\n        }else{\r\n            var lot map\r\n            lot = DBFind(\"lots\").Where(\"id=? and deleted=0\", $Id).Row()\r\n\r\n            if !lot {\r\n                warning \"Lot not found\"\r\n            }\r\n            if lot[\"status\"] > 0 {\r\n                warning \"Bidding has already begun\"\r\n            }\r\n            if lot[\"seller\"] != $key_id {\r\n                warning \"You are not owner of the lot\"\r\n            }\r\n\r\n        }\r\n        $Weight = Int($Weight)\r\n        $WeightType = Int($WeightType)\r\n        $Length = Int($Length)\r\n        $Width = Int($Width)\r\n        $Height = Int($Height)\r\n\r\n        if $OrderMin > $OrderMax {\r\n            warning \"Minimum order bigger than maximum order\"\r\n        }\r\n        $dateStart = Sprintf(\"%v %v\", trimZeroTime($DateStart), $TimeStart)\r\n        $dateEnd = Sprintf(\"%v %v\", trimZeroTime($DateEnd), $TimeEnd)\r\n        $catId = Int(DBFind(\"lots_types\").Where(\"id=?\", $TypeId).One(\"id\"))\r\n    }\r\n\r\n    action {\r\n        var appId imageId contractFileId int\r\n        appId = Int(DBFind(\"applications\").Where(\"name = $ AND deleted = 0\", \"Trading Platform\").One(\"id\"))\r\n        imageId = @1UploadBinary(\"ApplicationId,Name,Data\", appId, \"lot_photo\", $Photo)\r\n        // TODO: contractFileId генерировать внутри\r\n        // contractFileId = @1UploadBinary(\"ApplicationId,Name,Data,DataMimeType\", appId, \"lot_contract\", \"application/pdf\")\r\n\r\n        var fields string args array\r\n        args = Append(args,$Name)\r\n        args = Append(args,$Description)\r\n        args = Append(args,imageId)\r\n        args = Append(args,$dateStart)\r\n        args = Append(args,$dateEnd)\r\n        args = Append(args,$AmountStarting)\r\n        args = Append(args,$OrderMin)\r\n        args = Append(args,$OrderMax)\r\n        args = Append(args,contractFileId)\r\n        args = Append(args,$Count)\r\n        args = Append(args,$Weight)\r\n        args = Append(args,$WeightType)\r\n        args = Append(args,$Length)\r\n        args = Append(args,$Width)\r\n        args = Append(args,$Height)\r\n        args = Append(args,$TypeId)\r\n        args = Append(args,$catId)\r\n        fields = \"name,description,photo,date_start,date_end,amount_starting,order_min,order_max,contract_id,unit_count,weight,weight_type,length,width,height,lots_type_id,category\"\r\n        if $Action == \"create\"{\r\n            DBInsert(\"lots\", \"timestamp date_creation,seller,\"+fields, $block_time, $key_id, ...args)\r\n            return\r\n        }\r\n        if $Action == \"edit\"{\r\n            DBUpdate(\"lots\", $Id, fields, ...args)\r\n            return\r\n        }\r\n    }\r\n}",
            "Name": "lots_Manager",
            "Type": "contracts"
        }
    ]
}