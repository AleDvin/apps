{
    "blocks": [],
    "contracts": [
        {
            "Name": "paramsvoting_Add",
            "Value": "contract paramsvoting_Add{\n    data{\n        Title string\n        Value string\n        Description string\n        TableParam string\n        ColumnParam string\n        Contract string\n        TemplateAdd string\n        TemplateChange string\n        VotingValue string\n        DateNow string\n    }\n    conditions{\n        var arr array\n        arr[0] = $VotingValue\n        arr[1] = $Title\n        arr[2] = $Value\n        arr[3] = $Description\n        arr[4] = $TableParam\n        arr[5] = $ColumnParam\n        arr[6] = $Contract\n        arr[7] = $TemplateAdd\n        arr[8] = $TemplateChange\n        var i int\n        while i < Len(arr){\n            if Size(arr[i]) == 0{\n                info Sprintf(\"Please input the %s\", arr[i])\n            }\n            i=i+1\n        }\n    }\n    action {\n        DBInsert(\"paramsvoting\", \"title,value,description,table_param,column_param,contract,template_add_change,template_change,voting_value,created_at,updated_at\",$Title,$Value,$Description,$TableParam,$ColumnParam,$Contract,$TemplateAdd,$TemplateChange,$VotingValue,$DateNow,$DateNow)\n    }\n}",
            "Conditions": "ContractConditions(\"MainCondition\")"
        }
    ],
    "data": [],
    "languages": [
        {
            "Name": "new_voting_value",
            "Conditions": "",
            "Trans": "{\n    \"en\": \"New voting value\",\n    \"ru\": \"Новое значение для голосования\"\n}"
        },
        {
            "Name": "paramsvoting_ColumnParam",
            "Conditions": "",
            "Trans": "{\"en\":\"The name of the column\",\"ru\":\"Имя колонки\"}"
        },
        {
            "Name": "paramsvoting_Contract",
            "Conditions": "",
            "Trans": "{\"en\":\"The contract, which must change the parameter\",\"ru\":\"Контракт, который должен изменить параметр\"}"
        },
        {
            "Name": "paramsvoting_Description",
            "Conditions": "",
            "Trans": "{\"en\":\"The description of the parameter\",\"ru\":\"Описание параметра\"}"
        },
        {
            "Name": "paramsvoting_TableParam",
            "Conditions": "",
            "Trans": "{\"en\":\"The name of the table parameter\",\"ru\":\"Имя таблицы размещения параметра\"}"
        },
        {
            "Name": "paramsvoting_TemplateAdd",
            "Conditions": "",
            "Trans": "{\"en\":\"The pattern of voting for the change\",\"ru\":\"Шаблон голосования для внесения изменения\"}"
        },
        {
            "Name": "paramsvoting_TemplateChange",
            "Conditions": "",
            "Trans": "{\"en\":\"The pattern of voting for the proposal\",\"ru\":\"Шаблон голосования за внесение предложения\"}"
        },
        {
            "Name": "paramsvoting_Title",
            "Conditions": "",
            "Trans": "{\"en\":\"Parameter name\",\"ru\":\"Название параметра\"}"
        },
        {
            "Name": "paramsvoting_Value",
            "Conditions": "",
            "Trans": "{\"en\":\"The current value of the parameter\",\"ru\":\"Текущее значение параметра\"}"
        },
        {
            "Name": "paramsvoting_VotingValue",
            "Conditions": "",
            "Trans": "{\"en\":\"The new value of the parameter\",\"ru\":\"Новое значение параметра\"}"
        },
        {
            "Name": "paramsvoting_accepted",
            "Conditions": "",
            "Trans": "{\"en\":\"Accepted\",\"ru\":\"Принято\"}"
        },
        {
            "Name": "paramsvoting_new_value",
            "Conditions": "",
            "Trans": "{\n    \"en\": \"Voting for the new value\",\n    \"ru\": \"Голосование за новое значение\"\n}"
        },
        {
            "Name": "paramsvoting_proposal",
            "Conditions": "",
            "Trans": "{\"en\":\"A vote for the proposal\",\"ru\":\"Голосование за внесение предложения\"}"
        }
    ],
    "menus": [
        {
            "Name": "default_menu",
            "Value": "MenuItem(Title:$paramsvoting_list$, Page:paramsvoting_list, Icon:\"fa fa-list-ul\")",
            "Conditions": "ContractConditions(\"MainCondition\")"
        }
    ],
    "pages": [
        {
            "Name": "paramsvoting_add",
            "Value": "Data(Source: inputs, Columns: \"id,value\"){\n    1,Title\n    2,Value\n    3,Description\n    4,TableParam\n    5,ColumnParam\n    6,Contract\n    7,TemplateAdd\n    8,TemplateChange\n    9,VotingValue\n}\nDiv(content-wrapper){\n    Div(breadcrumb){\n        LinkPage(Page: paramsvoting_list, Body: $paramsvoting_list$)\n        Span(/).Style(margin: 0 10px 0 10px;)\n        Span(Class: text-muted, Body: $paramsvoting_add$)\n    }\n    Div(row){\n        Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading, Body: $new_voting_value$)\n                Div(panel-body){\n                    ForList(Source: inputs){\n                        Div(row list-group-item){\n                            Div(col-sm-4){LangRes(paramsvoting_#value#)}\n                            Div(col-sm-8){\n                                Input(Name: #value#)\n                            }\n                        }\n                    }\n                }\n                Div(panel-footer text-right){\n                    Input(Name: DateNow, Type: hidden, Value: Now(\"YYYY-MM-DD HH:MI\"))\n                    Button(Body: $save$, Contract: paramsvoting_Add, Page: paramsvoting_list, Class: btn btn-primary)\n                }\n            }\n        }\n    }\n}",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Menu": "default_menu"
        },
        {
            "Name": "paramsvoting_list",
            "Value": "Div(content-wrapper){\n    SetTitle($paramsvoting_list$)\n    \n    DBFind(Name: paramsvoting, Source: src).Order(id desc).Custom(_buttons){\n        Form(){\n            Button(Body: $new_value$, Class: btn btn-info, Page: paramsvoting_newvalue, PageParams: \"ParamsvotingId=#id#\")\n        }\n    }\n    \n    Div(panel panel-primary){\n        Div(list-group-item){\n            Table(Source: src, Columns: \"$title$=title,$value$=value,$description$=description,$table$=table_param,$column$=column_param,$contract$=contract,$template1$=template_add_change,$template2$=template_change,$status$=status,$created$=created_at,$updated$=updated_at,=_buttons\")\n        }\n        \n        Div(panel-footer clearfix){\n            Form(pull-right){\n                Button(Body: $add$, Class: btn btn-primary, Page: paramsvoting_add)\n            }\n        }\n    }\n}\n\n",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Menu": "default_menu"
        },
        {
            "Name": "paramsvoting_newvalue",
            "Value": "Div(content-wrapper){\n    Div(breadcrumb){\n        LinkPage(Page: paramsvoting_list, Body: $paramsvoting_list$)\n        Span(/).Style(margin: 0 10px 0 10px;)\n        Span(Class: text-muted, Body: $paramsvoting_newvalue$)\n    }\n    Div(row){\n        Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3){\n            Form(panel panel-primary){\n                Div(panel-heading, Body: $new_voting_value$)\n                Div(panel-body){\n                    Input(Name: NewValue, Type: text, Value:)\n                }\n                Div(panel-footer){\n                    Button(Body: $save$, Contract: paramsvoting_Newvalue, Page: paramsvoting_list)\n                }\n            }\n        }\n    }\n}",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Menu": "default_menu"
        }
    ],
    "parameters": [
        {
            "Name": "paramsvoting_status",
            "Value": "paramsvoting_accepted,paramsvoting_proposal,paramsvoting_new_value",
            "Conditions": "ContractConditions(\"MainCondition\")"
        }
    ],
    "tables": [
        {
            "Name": "paramsvoting",
            "Columns": "[\n    {\n        \"name\": \"title\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"value\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"description\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"table_param\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"column_param\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"contract\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"template_add_change\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"template_change\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"voting_value\",\n        \"type\": \"varchar\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"status\",\n        \"type\": \"number\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"created_at\",\n        \"type\": \"datetime\",\n        \"conditions\": \"true\"\n    },\n    {\n        \"name\": \"updated_at\",\n        \"type\": \"datetime\",\n        \"conditions\": \"true\"\n    }\n]",
            "Permissions": "{\"insert\":\"true\",\"update\":\"true\",\"new_column\":\"true\"}"
        }
    ]
}